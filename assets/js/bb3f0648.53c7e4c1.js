"use strict";(self.webpackChunknote_book=self.webpackChunknote_book||[]).push([["95248"],{24272:function(e,n,t){t.r(n),t.d(n,{assets:function(){return i},contentTitle:function(){return s},default:function(){return m},frontMatter:function(){return r},metadata:function(){return a},toc:function(){return c}});var a=t(18693),o=t(85893),l=t(50065);let r={slug:"linux-ollama-\u5E38\u7528\u547D\u4EE4\u548C-api-\u8C03\u7528",title:"Linux Ollama \u5E38\u7528\u547D\u4EE4\u548C API \u8C03\u7528",authors:["sumingcheng"],tags:["os-and-commands"],date:new Date("2024-07-12T00:00:00.000Z")},s="Linux Ollama \u5E38\u7528\u547D\u4EE4\u548C API \u8C03\u7528",i={authorsImageUrls:[void 0]},c=[{value:"\u5B89\u88C5 ollama",id:"\u5B89\u88C5-ollama",level:2},{value:"\u67E5\u770B\u6A21\u578B",id:"\u67E5\u770B\u6A21\u578B",level:2},{value:"\u67E5\u770B\u6A21\u578B\u8BE6\u60C5",id:"\u67E5\u770B\u6A21\u578B\u8BE6\u60C5",level:2},{value:"\u5220\u9664\u6A21\u578B",id:"\u5220\u9664\u6A21\u578B",level:2},{value:"\u8FD0\u884C\u6A21\u578B",id:"\u8FD0\u884C\u6A21\u578B",level:2},{value:"\u4F7F\u7528 API \u8C03\u7528",id:"\u4F7F\u7528-api-\u8C03\u7528",level:2}];function d(e){let n={a:"a",code:"code",h2:"h2",img:"img",p:"p",pre:"pre",strong:"strong",...(0,l.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h2,{id:"\u5B89\u88C5-ollama",children:"\u5B89\u88C5 ollama"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"curl -fsSL https://ollama.com/install.sh | sh\n"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.img,{alt:"19129b550cdfe1a30a05973ac4fccb9b",src:t(3350).Z+"",width:"1440",height:"442"}),"## \u4E0B\u8F7D\u6A21\u578B"]}),"\n",(0,o.jsx)(n.p,{children:"\u4E0B\u8F7D gemma \u8FDB\u884C\u6D4B\u8BD5\uFF0C\u4E0B\u6B21\u6210\u529F\u540E\u4F1A\u76F4\u63A5\u8FDB\u5165\u8DDF\u6A21\u578B\u7684\u4EA4\u4E92\u6A21\u5F0F\u3002\u53EF\u4EE5\u76F4\u63A5\u5728\u547D\u4EE4\u884C\u804A\u5929"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"ollama run gemma:2b\n"})}),"\n",(0,o.jsxs)(n.p,{children:["\u4F60\u4E5F\u53EF\u4EE5\u4E0B\u8F7D\u81EA\u5DF1\u9700\u8981\u7684 ",(0,o.jsx)(n.a,{href:"https://ollama.com/library",children:"https://ollama.com/library"})]}),"\n",(0,o.jsx)(n.h2,{id:"\u67E5\u770B\u6A21\u578B",children:"\u67E5\u770B\u6A21\u578B"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"root@gptdev:/home# ollama list\nNAME            ID              SIZE    MODIFIED       \ngemma:2b        b50d6c999e59    1.7 GB  24 minutes ago\n"})}),"\n",(0,o.jsx)(n.h2,{id:"\u67E5\u770B\u6A21\u578B\u8BE6\u60C5",children:"\u67E5\u770B\u6A21\u578B\u8BE6\u60C5"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'root@gptdev:/home# ollama show gemma:2b\n  Model                             \n        arch                    gemma                \n        parameters              3B                   \n        quantization            Q4_0                 \n        context length          8192                 \n        embedding length        2048                 \n                                          \n  Parameters                        \n        repeat_penalty  1                          \n        stop            "<start_of_turn>"          \n        stop            "<end_of_turn>"            \n                                          \n  License                           \n        Gemma Terms of Use                        \n        Last modified: February 21, 2024          \n'})}),"\n",(0,o.jsx)(n.h2,{id:"\u5220\u9664\u6A21\u578B",children:"\u5220\u9664\u6A21\u578B"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"ollama rm <model-name>\n"})}),"\n",(0,o.jsx)(n.h2,{id:"\u8FD0\u884C\u6A21\u578B",children:"\u8FD0\u884C\u6A21\u578B"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"root@gptdev:/home# ollama run gemma:2b\n"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.img,{alt:"9e5360abeb936307f17341381d6658e1",src:t(43868).Z+"",width:"1440",height:"349"}),"## \u9000\u51FA\u4EA4\u4E92\u6A21\u5F0F"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"Use Ctrl + d or /bye to exit.\n>>> /bye\n"})}),"\n",(0,o.jsx)(n.h2,{id:"\u4F7F\u7528-api-\u8C03\u7528",children:"\u4F7F\u7528 API \u8C03\u7528"}),"\n",(0,o.jsxs)(n.p,{children:["generate ",(0,o.jsx)(n.strong,{children:"\u4E00\u6B21\u6027\u56DE\u7B54"})]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'root@gptdev:/home# curl -XPOST http://localhost:11434/api/generate -d \'{"model": "gemma:2b", "prompt": "\u661F\u661F\u4E3A\u4EC0\u4E48\u662F\u4E00\u95EA\u4E00\u95EA\u7684?", "stream": false}\'\n\n\u56DE\u7B54\u2193\n{\n  "model": "gemma:2b",\n  "created_at": "2024-07-12T08:35:18.532841683Z",\n  "response": "\u661F\u661F\u4E0D\u662F\u4E00\u95EA\u4E00\u95EA\u7684\u3002\u661F\u661F\u662F\u5149\u6E90\uFF0C\u662F\u901A\u8FC7\u6838\u53CD\u5E94\u4EA7\u751F\u5149\u5B50\u7684\u5929\u4F53\u3002",\n  "done": true,\n  "done_reason": "stop",\n  "context": [],\n  "total_duration": 3780790485,\n  "load_duration": 41295298,\n  "prompt_eval_count": 33,\n  "prompt_eval_duration": 134544000,\n  "eval_count": 23,\n  "eval_duration": 3562200000\n}\n'})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"\u804A\u5929"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'root@gptdev:/home# curl http://localhost:11434/api/chat -d \'{                                                                                      \n  "model": "gemma:2b",\n  "messages": [\n    { "role": "system", "content": "You are an astronomer. Answer the following questions based on your knowledge of astronomy." },\n    { "role": "user", "content": "\u661F\u661F\u4E3A\u4EC0\u4E48\u662F\u4E00\u95EA\u4E00\u95EA\u7684?\u4E2D\u6587\u56DE\u7B54~" }\n  ],\n  "stream": false\n}\n\n\u56DE\u7B54\u2193\n{\n  "model": "gemma:2b",\n  "created_at": "2024-07-12T08:39:00.414947479Z",\n  "message": {\n    "role": "assistant",\n    "content": "\u661F\u661F\u662F\u7531\u4E8E\u5176\u8868\u9762\u53CD\u5C04\u7684\u706F\u5149\u9020\u6210\u7684\u3002 \u8FD9\u662F\u56E0\u4E3A\u661F\u5149\u7684\u6CE2\u957F\u6BD4\u5730\u7403\u7684\u5149\u6CE2\u957F\u66F4\u957F\uFF0C\u8FD9\u610F\u5473\u7740\u5F53\u5B83\u4ECE\u9065\u8FDC\u7684\u661F\u7CFB\u4E2D\u8FDB\u5165\u5730\u7403\u65F6\uFF0C\u5B83\u88AB\u5730\u7403\u8868\u9762\u5438\u6536\u7684\u66F4\u591A\u5149\u7EBF\u3002 \u8FD9\u4F7F\u5F97\u6211\u4EEC\u53EF\u4EE5\u770B\u5230\u7684\u90A3\u90E8\u5206\u5149\u88AB\u53CD\u5C04\u56DE\u6765\uFF0C\u6211\u4EEC\u5C31\u80FD\u770B\u5230\u661F\u661F\u3002\\n\\n\u661F\u661F\u4E4B\u6240\u4EE5\u95EA\u95EA\u662F\u56E0\u4E3A\u5B83\u4EEC\u975E\u5E38\u5149\u4EAE\u3002 \u8FD9\u610F\u5473\u7740\u5B83\u4EEC\u53D1\u5C04\u7684\u5149\u7EBF\u975E\u5E38\u5F3A\uFF0C\u53EF\u4EE5\u7167\u4EAE\u6574\u4E2A\u5730\u7403\u8868\u9762\u3002 \u5F53\u6211\u4EEC\u770B\u5230\u661F\u661F\u65F6\uFF0C\u6211\u4EEC\u770B\u5230\u7684\u662F\u5B83\u4EEC\u53CD\u5C04\u56DE\u6765\u7684\u5149\u3002\\n\\n\u661F\u661F\u662F\u5B87\u5B99\u4E2D\u6700\u4EAE\u7684\u5929\u4F53\uFF0C\u53EF\u4EE5\u89C1\u5230\u7684\u6700\u8FDC\u7684\u5929\u4F53\u3002"\n  },\n  "done_reason": "stop",\n  "done": true,\n  "total_duration": 21237384982,\n  "load_duration": 45647661,\n  "prompt_eval_count": 54,\n  "prompt_eval_duration": 372113000,\n  "eval_count": 125,\n  "eval_duration": 20685706000\n}\n'})}),"\n",(0,o.jsx)(n.p,{children:"\u4E2A\u4EBA\u89C9\u5F97 Ollama \u771F\u5FC3\u633A\u4E0D\u9519\u7684\uFF0C\u8BA9\u8DD1\u5927\u6A21\u578B\u8FD9\u4EF6\u4E8B\u53D8\u7684\u7B80\u5355\u4E86\uFF0C\u4E13\u5FC3\u641E\u4E1A\u52A1\u5C31\u884C\u4E86\u3002"})]})}function m(e={}){let{wrapper:n}={...(0,l.a)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},3350:function(e,n,t){t.d(n,{Z:function(){return a}});let a=t.p+"assets/images/19129b550cdfe1a30a05973ac4fccb9b-ef45ae4a995d747e14db2fcbd36bd911.jpg"},43868:function(e,n,t){t.d(n,{Z:function(){return a}});let a=t.p+"assets/images/9e5360abeb936307f17341381d6658e1-f7f85d4856d2978c9333272465cbac71.jpg"},50065:function(e,n,t){t.d(n,{Z:function(){return s},a:function(){return r}});var a=t(67294);let o={},l=a.createContext(o);function r(e){let n=a.useContext(l);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),a.createElement(l.Provider,{value:n},e.children)}},18693:function(e){e.exports=JSON.parse('{"permalink":"/docs-hub/blog/linux-ollama-\u5E38\u7528\u547D\u4EE4\u548C-api-\u8C03\u7528","editUrl":"https://github.com/sumingcheng/docs-hub/blog/\u64CD\u4F5C\u7CFB\u7EDF\u4E0E\u547D\u4EE4/2024-07-12-Linux_Ollama_\u5E38\u7528\u547D\u4EE4\u548C_API_\u8C03\u7528.md","source":"@site/blog/\u64CD\u4F5C\u7CFB\u7EDF\u4E0E\u547D\u4EE4/2024-07-12-Linux_Ollama_\u5E38\u7528\u547D\u4EE4\u548C_API_\u8C03\u7528.md","title":"Linux Ollama \u5E38\u7528\u547D\u4EE4\u548C API \u8C03\u7528","description":"\u5B89\u88C5 ollama","date":"2024-07-12T00:00:00.000Z","tags":[{"inline":false,"label":"\u64CD\u4F5C\u7CFB\u7EDF\u4E0E\u547D\u4EE4","permalink":"/docs-hub/blog/tags/os-and-commands","description":"\u64CD\u4F5C\u7CFB\u7EDF\u548C\u547D\u4EE4\u884C\u76F8\u5173\u77E5\u8BC6"}],"readingTime":1.8433333333333333,"hasTruncateMarker":false,"authors":[{"name":"\u7D20\u660E\u8BDA","title":"Full stack development","url":"https://github.com/sumingcheng","page":{"permalink":"/docs-hub/blog/authors/sumingcheng"},"socials":{"x":"https://x.com/sumingcheng","github":"https://github.com/sumingcheng"},"imageURL":"https://github.com/user-attachments/assets/9a06bd55-094a-4efc-91c3-d1b92236822f","key":"sumingcheng"}],"frontMatter":{"slug":"linux-ollama-\u5E38\u7528\u547D\u4EE4\u548C-api-\u8C03\u7528","title":"Linux Ollama \u5E38\u7528\u547D\u4EE4\u548C API \u8C03\u7528","authors":["sumingcheng"],"tags":["os-and-commands"],"date":"2024-07-12T00:00:00.000Z"},"unlisted":false,"prevItem":{"title":"go get \u547D\u4EE4\u8BE6\u89E3","permalink":"/docs-hub/blog/go-get-\u547D\u4EE4\u8BE6\u89E3"},"nextItem":{"title":"\u4EC0\u4E48\u662F\u670D\u52A1\u53D1\u73B0","permalink":"/docs-hub/blog/\u4EC0\u4E48\u662F\u670D\u52A1\u53D1\u73B0"}}')}}]);