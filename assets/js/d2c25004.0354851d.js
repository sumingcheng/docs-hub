"use strict";(self.webpackChunknote_book=self.webpackChunknote_book||[]).push([["50170"],{51205:function(e,n,i){i.r(n),i.d(n,{default:()=>h,frontMatter:()=>t,metadata:()=>o,assets:()=>a,toc:()=>l,contentTitle:()=>d});var o=JSON.parse('{"id":"Network/AJAX/Axios\u57FA\u7840\u4F7F\u7528","title":"Axios \u57FA\u7840\u4F7F\u7528","description":"\u6587\u4EF6\u4E0B\u8F7D","source":"@site/docs/Network/AJAX/30.Axios\u57FA\u7840\u4F7F\u7528.md","sourceDirName":"Network/AJAX","slug":"/Network/AJAX/Axios\u57FA\u7840\u4F7F\u7528","permalink":"/docs-hub/Network/AJAX/Axios\u57FA\u7840\u4F7F\u7528","draft":false,"unlisted":false,"editUrl":"https://github.com/sumingcheng/docs-hub/edit/main/docs/Network/AJAX/30.Axios\u57FA\u7840\u4F7F\u7528.md","tags":[],"version":"current","lastUpdatedBy":"sumingcheng","lastUpdatedAt":1734261593000,"sidebarPosition":30,"frontMatter":{},"sidebar":"networkAjaxSidebar","previous":{"title":"AJAX \u7684\u7248\u672C\u4E0E\u7279\u6027","permalink":"/docs-hub/Network/AJAX/AJAX\u7248\u672C-\u54CD\u5E94\u72B6\u6001-\u8D85\u65F6\u8BBE\u7F6E-\u540C\u6B65\u4E0E\u5F02\u6B65"},"next":{"title":"\u8DE8\u57DF HTTP \u8BF7\u6C42\u7684\u516D\u79CD\u65B9\u6CD5","permalink":"/docs-hub/Network/AJAX/\u8DE8\u57DF\u65B9\u6CD5\u7684\u516D\u79CD\u65B9\u6CD5"}}'),r=i("85893"),s=i("50065");let t={},d="Axios \u57FA\u7840\u4F7F\u7528",a={},l=[{value:"\u6587\u4EF6\u4E0B\u8F7D",id:"\u6587\u4EF6\u4E0B\u8F7D",level:2},{value:"\u4F7F\u7528 POST \u65B9\u6CD5\u4E0B\u8F7D\u6587\u4EF6",id:"\u4F7F\u7528-post-\u65B9\u6CD5\u4E0B\u8F7D\u6587\u4EF6",level:3},{value:"\u4F7F\u7528 GET \u65B9\u6CD5\u4E0B\u8F7D\u6587\u4EF6",id:"\u4F7F\u7528-get-\u65B9\u6CD5\u4E0B\u8F7D\u6587\u4EF6",level:3},{value:"\u4F7F\u7528 FormData \u4F20\u9012\u6570\u636E",id:"\u4F7F\u7528-formdata-\u4F20\u9012\u6570\u636E",level:2},{value:"GET \u8BF7\u6C42",id:"get-\u8BF7\u6C42",level:3},{value:"POST \u8BF7\u6C42",id:"post-\u8BF7\u6C42",level:3}];function c(e){let n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"axios-\u57FA\u7840\u4F7F\u7528",children:"Axios \u57FA\u7840\u4F7F\u7528"})}),"\n",(0,r.jsx)(n.h2,{id:"\u6587\u4EF6\u4E0B\u8F7D",children:"\u6587\u4EF6\u4E0B\u8F7D"}),"\n",(0,r.jsxs)(n.p,{children:["\u5728\u4F7F\u7528 Axios \u8FDB\u884C\u6587\u4EF6\u4E0B\u8F7D\u65F6,\u6211\u4EEC\u9700\u8981\u4ECE\u54CD\u5E94\u7684",(0,r.jsx)(n.code,{children:"headers"}),"\u4E2D\u83B7\u53D6\u6587\u4EF6\u7684\u76F8\u5173\u4FE1\u606F\u3002\u4E0B\u9762\u5206\u522B\u4ECB\u7ECD\u4F7F\u7528 POST \u548C GET \u65B9\u6CD5\u8FDB\u884C\u6587\u4EF6\u4E0B\u8F7D\u7684\u793A\u4F8B\u3002"]}),"\n",(0,r.jsx)(n.h3,{id:"\u4F7F\u7528-post-\u65B9\u6CD5\u4E0B\u8F7D\u6587\u4EF6",children:"\u4F7F\u7528 POST \u65B9\u6CD5\u4E0B\u8F7D\u6587\u4EF6"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"/api/download.js\nexport function issuedDailyD(data) {\n  return request({\n    responseType: 'blob',\n    headers: { 'content-type': 'application/x-www-form-urlencoded' },\n    url: '/issuedDaily/download',\n    method: 'post',\n    data\n  })\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u5728\u4E0A\u9762\u7684\u4EE3\u7801\u4E2D,\u6211\u4EEC\u5C06",(0,r.jsx)(n.code,{children:"responseType"}),"\u8BBE\u7F6E\u4E3A",(0,r.jsx)(n.code,{children:"'blob'"}),",\u8868\u793A\u671F\u671B\u670D\u52A1\u5668\u8FD4\u56DE\u4E8C\u8FDB\u5236\u6570\u636E\u3002\u540C\u65F6,\u5728",(0,r.jsx)(n.code,{children:"headers"}),"\u4E2D\u6307\u5B9A",(0,r.jsx)(n.code,{children:"'content-type'"}),"\u4E3A",(0,r.jsx)(n.code,{children:"'application/x-www-form-urlencoded'"}),",\u544A\u8BC9\u670D\u52A1\u5668\u8BF7\u6C42\u4F53\u7684\u6570\u636E\u683C\u5F0F\u3002"]}),"\n",(0,r.jsx)(n.h3,{id:"\u4F7F\u7528-get-\u65B9\u6CD5\u4E0B\u8F7D\u6587\u4EF6",children:"\u4F7F\u7528 GET \u65B9\u6CD5\u4E0B\u8F7D\u6587\u4EF6"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"/api/download.js\nexport function invoiceDownload(data) {\n  return request({\n    responseType: 'blob',\n    url: '/invoice/issueinfo/export/file',\n    method: 'get',\n    params: data\n  })\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u4F7F\u7528 GET \u65B9\u6CD5\u4E0B\u8F7D\u6587\u4EF6\u4E0E POST \u65B9\u6CD5\u7C7B\u4F3C,\u53EA\u662F\u5C06\u8BF7\u6C42\u6570\u636E\u653E\u5728",(0,r.jsx)(n.code,{children:"params"}),"\u53C2\u6570\u4E2D\u4F20\u9012\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["\u5728\u4E0B\u8F7D\u6587\u4EF6\u6210\u529F\u540E,\u6211\u4EEC\u8FD8\u9700\u8981\u5C06\u54CD\u5E94\u7684\u4E8C\u8FDB\u5236\u6570\u636E\u8F6C\u6362\u4E3A\u6587\u4EF6\u5E76\u89E6\u53D1\u6D4F\u89C8\u5668\u7684\u4E0B\u8F7D\u3002\u53EF\u4EE5\u4F7F\u7528\u4EE5\u4E0B\u7684",(0,r.jsx)(n.code,{children:"resolveBlob"}),"\u51FD\u6570\u6765\u5B9E\u73B0:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"/utils/download.js\nexport function resolveBlob(res, mimeType, fileName) {\n  if (!res) {\n    return\n  }\n\n  const aLink = document.createElement('a')\n  fileName = fileName.replace(/\\\"/g, '')\n  aLink.href = window.URL.createObjectURL(new Blob([res], { type: mimeType }))\n  aLink.setAttribute('download', fileName)\n  document.body.appendChild(aLink)\n  aLink.click()\n  document.body.removeChild(aLink)\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"resolveBlob"}),"\u51FD\u6570\u63A5\u6536\u4E09\u4E2A\u53C2\u6570:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"res"}),": \u54CD\u5E94\u7684\u4E8C\u8FDB\u5236\u6570\u636E"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"mimeType"}),": \u6587\u4EF6\u7684 MIME \u7C7B\u578B"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"fileName"}),": \u4E0B\u8F7D\u6587\u4EF6\u7684\u540D\u79F0"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u51FD\u6570\u5185\u90E8\u4F1A\u521B\u5EFA\u4E00\u4E2A",(0,r.jsx)(n.code,{children:"<a>"}),"\u6807\u7B7E,\u5C06\u4E8C\u8FDB\u5236\u6570\u636E\u8F6C\u6362\u4E3A Blob \u5BF9\u8C61\u5E76\u8BBE\u7F6E\u4E3A",(0,r.jsx)(n.code,{children:"<a>"}),"\u6807\u7B7E\u7684",(0,r.jsx)(n.code,{children:"href"}),"\u5C5E\u6027\u3002\u7136\u540E\u8BBE\u7F6E",(0,r.jsx)(n.code,{children:"download"}),"\u5C5E\u6027\u4E3A\u6587\u4EF6\u540D,\u6A21\u62DF\u70B9\u51FB\u4E0B\u8F7D\u94FE\u63A5,\u6700\u540E\u79FB\u9664\u521B\u5EFA\u7684",(0,r.jsx)(n.code,{children:"<a>"}),"\u6807\u7B7E\u3002"]}),"\n",(0,r.jsx)(n.h2,{id:"\u4F7F\u7528-formdata-\u4F20\u9012\u6570\u636E",children:"\u4F7F\u7528 FormData \u4F20\u9012\u6570\u636E"}),"\n",(0,r.jsx)(n.h3,{id:"get-\u8BF7\u6C42",children:"GET \u8BF7\u6C42"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"/api/invoice.js\nexport function invoiceExport(data) {\n  return request({\n    url: '/invoice/issueinfo/export',\n    method: 'get',\n    params: data\n  })\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u5BF9\u4E8E GET \u8BF7\u6C42,\u6211\u4EEC\u76F4\u63A5\u5C06\u8BF7\u6C42\u6570\u636E\u653E\u5728",(0,r.jsx)(n.code,{children:"params"}),"\u53C2\u6570\u4E2D\u5373\u53EF\u3002"]}),"\n",(0,r.jsx)(n.h3,{id:"post-\u8BF7\u6C42",children:"POST \u8BF7\u6C42"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"/api/invoice.js\nimport qs from 'qs'\n\nexport function queryInvoiceInformation(data) {\n  return request({\n    headers: {\n      'Content-Type': 'application/x-www-form-urlencoded'\n    },\n    url: '/invoice/issueinfo/manage',\n    method: 'post',\n    data: qs.stringify(data)\n  })\n}\n"})})]})}function h(e={}){let{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},50065:function(e,n,i){i.d(n,{Z:function(){return d},a:function(){return t}});var o=i(67294);let r={},s=o.createContext(r);function t(e){let n=o.useContext(s);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);