"use strict";(self.webpackChunknote_book=self.webpackChunknote_book||[]).push([["3511"],{6445:function(e,r,n){n.r(r),n.d(r,{assets:function(){return l},contentTitle:function(){return i},default:function(){return u},frontMatter:function(){return c},metadata:function(){return s},toc:function(){return d}});var s=n(93464),o=n(85893),t=n(50065);let c={slug:"js-web-workers",title:"JS Web Workers",authors:["sumingcheng"],tags:["frontend"],date:new Date("2023-02-08T00:00:00.000Z")},i="JS Web Workers",l={authorsImageUrls:[void 0]},d=[{value:"\u4EC0\u4E48\u662F Web Workers",id:"\u4EC0\u4E48\u662F-web-workers",level:2},{value:"\u4F18\u70B9",id:"\u4F18\u70B9",level:3},{value:"\u591A\u4E2A worker",id:"\u591A\u4E2A-worker",level:2}];function h(e){let r={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r.h2,{id:"\u4EC0\u4E48\u662F-web-workers",children:"\u4EC0\u4E48\u662F Web Workers"}),"\n",(0,o.jsxs)(r.p,{children:[(0,o.jsx)(r.a,{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Worker",children:"Worker - Web API \u63A5\u53E3\u53C2\u8003 | MDN"}),"## \u6709\u54EA\u4E9B\u5B9E\u9645\u7528\u5904\uFF1F"]}),"\n",(0,o.jsxs)(r.p,{children:["Worker \u7EBF\u7A0B\u4E2D\u5168\u5C40\u5BF9\u8C61\u4E3A ",(0,o.jsx)(r.code,{children:"self"}),"\uFF0C\u4EE3\u8868\u5B50\u7EBF\u7A0B\u81EA\u8EAB\uFF0C\u8FD9\u65F6 ",(0,o.jsx)(r.code,{children:"this"}),"\u6307\u5411",(0,o.jsx)(r.code,{children:"self"}),"\uFF0C\u5176\u4E0A\u6709\u4E00\u4E9B api\uFF1A"]}),"\n",(0,o.jsxs)(r.ul,{children:["\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.code,{children:"self.postMessage"}),": worker \u7EBF\u7A0B\u5F80\u4E3B\u7EBF\u7A0B\u53D1\u6D88\u606F\uFF0C\u6D88\u606F\u53EF\u4EE5\u662F\u4EFB\u610F\u7C7B\u578B\u6570\u636E\uFF0C\u5305\u62EC\u4E8C\u8FDB\u5236\u6570\u636E"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.code,{children:"self.close"}),": worker \u7EBF\u7A0B\u5173\u95ED\u81EA\u5DF1"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.code,{children:"self.onmessage"}),": \u6307\u5B9A\u4E3B\u7EBF\u7A0B\u53D1 worker \u7EBF\u7A0B\u6D88\u606F\u65F6\u7684\u56DE\u8C03\uFF0C\u4E5F\u53EF\u4EE5",(0,o.jsx)(r.code,{children:"self.addEventListener('message',cb)"})]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.code,{children:"self.onerror"}),": \u6307\u5B9A worker \u7EBF\u7A0B\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u56DE\u8C03\uFF0C\u4E5F\u53EF\u4EE5 ",(0,o.jsx)(r.code,{children:"self.addEventListener('error',cb)"})]}),"\n"]}),"\n",(0,o.jsx)(r.h3,{id:"\u4F18\u70B9",children:"\u4F18\u70B9"}),"\n",(0,o.jsxs)(r.ol,{children:["\n",(0,o.jsxs)(r.li,{children:["\u53EF\u4EE5\u901A\u8FC7",(0,o.jsx)(r.code,{children:"Web Workers"}),"\u628A\u9700\u8981\u5927\u91CF\u8BA1\u7B97\u7684\u5DE5\u4F5C\u4EA4\u63A5\u7ED9",(0,o.jsx)(r.code,{children:"worker"}),"\u5904\u7406\uFF0C\u4E0D\u5360\u7528\u4E3B\u7EBF\u7A0B\u3002"]}),"\n",(0,o.jsxs)(r.li,{children:["\u901A\u8FC7",(0,o.jsx)(r.code,{children:"postMessage"}),"\u548C",(0,o.jsx)(r.code,{children:"onmessage"}),"\u8FDB\u884C\u4FE1\u606F\u7684\u4F20\u9012\u548C\u63A5\u6536\u3002"]}),"\n"]}),"\n",(0,o.jsx)(r.p,{children:"\u4E3B\u7EBF\u7A0B\u4E0E Worker \u4E4B\u95F4\u4F20\u9012\u7684\u6570\u636E\u662F\u901A\u8FC7\u62F7\u8D1D\u5B8C\u6210\u7684\uFF0C\u800C\u4F20\u5740\u6765\u5B8C\u6210\u7684\u3002\u4F20\u9012\u7ED9 Worker \u7684\u5BF9\u8C61\u9700\u8981\u7ECF\u8FC7\u5E8F\u5217\u5316\uFF0C\u63A5\u4E0B\u6765\u5728\u53E6\u4E00\u7AEF\u8FD8\u9700\u8981\u53CD\u5E8F\u5217\u5316\u3002\u9875\u9762\u4E0E Worker \u4E0D\u4F1A\u5171\u4EAB\u540C\u4E00\u4E2A\u5B9E\u4F8B\uFF0C\u6700\u7EC8\u7684\u7ED3\u679C\u5C31\u662F\u5728\u6BCF\u6B21\u901A\u4FE1\u7ED3\u675F\u65F6\u751F\u6210\u4E86\u6570\u636E\u7684\u4E00\u4E2A\u526F\u672C\u3002"}),"\n",(0,o.jsx)(r.p,{children:"\u4E5F\u5C31\u662F\u8BF4\uFF0CWorker \u4E0E\u5176\u4E3B\u9875\u9762\u4E4B\u95F4\u53EA\u80FD\u5355\u7EAF\u7684\u4F20\u9012\u6570\u636E\uFF0C\u4E0D\u80FD\u4F20\u9012\u590D\u6742\u7684\u5F15\u7528\u7C7B\u578B\uFF1A\u5982\u901A\u8FC7\u6784\u9020\u51FD\u6570\u521B\u5EFA\u7684\u5BF9\u8C61\u7B49\u3002\u5E76\u4E14\uFF0C\u4F20\u9012\u7684\u6570\u636E\u4E5F\u662F\u7ECF\u8FC7\u62F7\u8D1D\u751F\u6210\u7684\u4E00\u4E2A\u526F\u672C\uFF0C\u5728\u4E00\u7AEF\u5BF9\u6570\u636E\u8FDB\u884C\u4FEE\u6539\u4E0D\u4F1A\u5F71\u54CD\u53E6\u4E00\u7AEF\u3002"}),"\n",(0,o.jsx)(r.p,{children:(0,o.jsx)(r.strong,{children:"\u7F3A\u70B9"})}),"\n",(0,o.jsxs)(r.ol,{children:["\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.code,{children:"worker"})," \u4E0D\u652F\u6301\u8DE8\u57DF\u8BF7\u6C42"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.code,{children:"worker"}),"\u4E0D\u80FD\u8BBF\u95EE",(0,o.jsx)(r.code,{children:"document"}),"\u548C",(0,o.jsx)(r.code,{children:"window"}),"\uFF0C\u4F46\u662F\u53EF\u4EE5\u83B7\u53D6",(0,o.jsx)(r.code,{children:"navigator"}),"\u3001",(0,o.jsx)(r.code,{children:"location(\u53EA\u8BFB)"}),"\u3001",(0,o.jsx)(r.code,{children:"XMLHttpRequest"}),"\u3001",(0,o.jsx)(r.code,{children:"setTimeout"}),"\u7B49\u6D4F\u89C8\u5668 API\u3002\u4E5F\u53EF\u4EE5\u8FDB\u884C",(0,o.jsx)(r.code,{children:"AJAX"}),"\u8BF7\u6C42\u3002"]}),"\n"]}),"\n",(0,o.jsx)(r.h2,{id:"\u591A\u4E2A-worker",children:"\u591A\u4E2A worker"}),"\n",(0,o.jsxs)(r.ol,{children:["\n",(0,o.jsxs)(r.li,{children:["\u4E00\u4E2A",(0,o.jsx)(r.code,{children:"worker"}),"\u53EF\u4EE5\u59D4\u6D3E\u591A\u4E2A",(0,o.jsx)(r.code,{children:"worker"})]}),"\n"]}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{children:"// \u52A0\u8F7D\u5176\u4ED6\u7684worker\nimportScripts('...')\n\n"})}),"\n",(0,o.jsxs)(r.ol,{children:["\n",(0,o.jsxs)(r.li,{children:["\u4F7F\u7528",(0,o.jsx)(r.code,{children:"terminate()"}),"\u53EF\u4EE5\u7EC8\u6B62",(0,o.jsx)(r.code,{children:"worker"})]}),"\n"]})]})}function u(e={}){let{wrapper:r}={...(0,t.a)(),...e.components};return r?(0,o.jsx)(r,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},50065:function(e,r,n){n.d(r,{Z:function(){return i},a:function(){return c}});var s=n(67294);let o={},t=s.createContext(o);function c(e){let r=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function i(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:c(e.components),s.createElement(t.Provider,{value:r},e.children)}},93464:function(e){e.exports=JSON.parse('{"permalink":"/docs-hub/blog/js-web-workers","editUrl":"https://github.com/sumingcheng/docs-hub/blog/\u524D\u7AEF/2023-02-08-JS_Web_Workers.md","source":"@site/blog/\u524D\u7AEF/2023-02-08-JS_Web_Workers.md","title":"JS Web Workers","description":"\u4EC0\u4E48\u662F Web Workers","date":"2023-02-08T00:00:00.000Z","tags":[{"inline":false,"label":"\u524D\u7AEF","permalink":"/docs-hub/blog/tags/frontend","description":"\u524D\u7AEF\u5F00\u53D1\u6280\u672F\u6587\u7AE0"}],"readingTime":1.4233333333333333,"hasTruncateMarker":false,"authors":[{"name":"\u7D20\u660E\u8BDA","title":"Full stack development","url":"https://github.com/sumingcheng","page":{"permalink":"/docs-hub/blog/authors/sumingcheng"},"socials":{"x":"https://x.com/sumingcheng","github":"https://github.com/sumingcheng"},"imageURL":"https://github.com/user-attachments/assets/9a06bd55-094a-4efc-91c3-d1b92236822f","key":"sumingcheng"}],"frontMatter":{"slug":"js-web-workers","title":"JS Web Workers","authors":["sumingcheng"],"tags":["frontend"],"date":"2023-02-08T00:00:00.000Z"},"unlisted":false,"prevItem":{"title":"\u5982\u4F55\u5B9E\u73B0\u5927\u6587\u4EF6\u5207\u7247\u4E0A\u4F20","permalink":"/docs-hub/blog/\u5982\u4F55\u5B9E\u73B0\u5927\u6587\u4EF6\u5207\u7247\u4E0A\u4F20"},"nextItem":{"title":"JS\u6570\u7EC4\u65B9\u6CD5\u7EC3\u4E60-\u6839\u636E\u5B57\u7B26\u4E32\u6700\u540E\u4E00\u4F4D\u5927\u5C0F\u6392\u5E8F","permalink":"/docs-hub/blog/js\u6570\u7EC4\u65B9\u6CD5\u7EC3\u4E60-\u6839\u636E\u5B57\u7B26\u4E32\u6700\u540E\u4E00\u4F4D\u5927\u5C0F\u6392\u5E8F"}}')}}]);