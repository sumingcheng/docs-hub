"use strict";(self.webpackChunknote_book=self.webpackChunknote_book||[]).push([[62651],{40526:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>i,contentTitle:()=>l,default:()=>h,frontMatter:()=>d,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"Network/AJAX/\u8bf7\u6c42-AJAX-\u539f\u751fAJAX\u5c01\u88c5","title":"AJAX \u539f\u751f\u5c01\u88c5","description":"\u524d\u540e\u7aef\u6df7\u7f16\u65f6\u4ee3","source":"@site/docs/Network/AJAX/10.\u8bf7\u6c42-AJAX-\u539f\u751fAJAX\u5c01\u88c5.md","sourceDirName":"Network/AJAX","slug":"/Network/AJAX/\u8bf7\u6c42-AJAX-\u539f\u751fAJAX\u5c01\u88c5","permalink":"/docs-hub/Network/AJAX/\u8bf7\u6c42-AJAX-\u539f\u751fAJAX\u5c01\u88c5","draft":false,"unlisted":false,"editUrl":"https://github.com/sumingcheng/docs-hub/edit/main/docs/Network/AJAX/10.\u8bf7\u6c42-AJAX-\u539f\u751fAJAX\u5c01\u88c5.md","tags":[],"version":"current","lastUpdatedBy":"sumingcheng","lastUpdatedAt":1733910367000,"sidebarPosition":10,"frontMatter":{},"sidebar":"networkAjaxSidebar","previous":{"title":"JSON \u57fa\u7840\u4e0e\u6570\u636e\u89e3\u6790","permalink":"/docs-hub/Network/AJAX/JSON\u57fa\u7840\u4e0e\u6570\u636e\u89e3\u6790-JSON\u65b9\u6cd5-AJAX\u521d\u8bc6"},"next":{"title":"AJAX \u7684\u7248\u672c\u4e0e\u7279\u6027","permalink":"/docs-hub/Network/AJAX/AJAX\u7248\u672c-\u54cd\u5e94\u72b6\u6001-\u8d85\u65f6\u8bbe\u7f6e-\u540c\u6b65\u4e0e\u5f02\u6b65"}}');var r=t(74848),c=t(28453);const d={},l="AJAX \u539f\u751f\u5c01\u88c5",i={},o=[{value:"\u524d\u540e\u7aef\u6df7\u7f16\u65f6\u4ee3",id:"\u524d\u540e\u7aef\u6df7\u7f16\u65f6\u4ee3",level:2},{value:"AJAX \u7684\u8bde\u751f",id:"ajax-\u7684\u8bde\u751f",level:2},{value:"\u540c\u6b65\u8bf7\u6c42 vs \u5f02\u6b65\u8bf7\u6c42",id:"\u540c\u6b65\u8bf7\u6c42-vs-\u5f02\u6b65\u8bf7\u6c42",level:2},{value:"XMLHttpRequest \u5bf9\u8c61",id:"xmlhttprequest-\u5bf9\u8c61",level:2},{value:"XMLHttpRequest \u7684\u72b6\u6001",id:"xmlhttprequest-\u7684\u72b6\u6001",level:2},{value:"\u5c01\u88c5 AJAX",id:"\u5c01\u88c5-ajax",level:2}];function a(e){const n={br:"br",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,c.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"ajax-\u539f\u751f\u5c01\u88c5",children:"AJAX \u539f\u751f\u5c01\u88c5"})}),"\n",(0,r.jsx)(n.h2,{id:"\u524d\u540e\u7aef\u6df7\u7f16\u65f6\u4ee3",children:"\u524d\u540e\u7aef\u6df7\u7f16\u65f6\u4ee3"}),"\n",(0,r.jsxs)(n.p,{children:["\u5728 AJAX \u51fa\u73b0\u4e4b\u524d,\u6211\u4eec\u901a\u5e38\u91c7\u7528\u524d\u540e\u7aef\u6df7\u7f16\u7684\u65b9\u5f0f\u8fdb\u884c Web \u5f00\u53d1\u3002\u6240\u8c13\u6df7\u7f16,\u5c31\u662f\u5c06\u524d\u7aef\u9875\u9762\u548c\u540e\u7aef\u903b\u8f91\u5199\u5728\u4e00\u8d77,\u6587\u4ef6\u540e\u7f00\u540d\u4e00\u822c\u662f\u540e\u7aef\u8bed\u8a00\u7684\u540e\u7f00,\u6bd4\u5982",(0,r.jsx)(n.code,{children:".php"}),"\u3002"]}),"\n",(0,r.jsx)(n.p,{children:"\u6df7\u7f16\u867d\u7136\u7b80\u5355\u65b9\u4fbf,\u4f46\u4e5f\u5b58\u5728\u4e00\u4e9b\u95ee\u9898:"}),"\n",(0,r.jsx)(n.p,{children:"\u6bcf\u6b21\u8bf7\u6c42\u90fd\u4f1a\u5237\u65b0\u6574\u4e2a\u9875\u9762,\u7528\u6237\u4f53\u9a8c\u4e0d\u597d\n\u524d\u540e\u7aef\u4ee3\u7801\u8026\u5408\u5728\u4e00\u8d77,\u4e0d\u5229\u4e8e\u5f00\u53d1\u548c\u7ef4\u62a4"}),"\n",(0,r.jsx)(n.h2,{id:"ajax-\u7684\u8bde\u751f",children:"AJAX \u7684\u8bde\u751f"}),"\n",(0,r.jsx)(n.p,{children:"AJAX \u7684\u51fa\u73b0,\u6539\u53d8\u4e86 Web \u5f00\u53d1\u7684\u6a21\u5f0f\u3002\u6709\u4e86 AJAX,\u6211\u4eec\u5c31\u53ef\u4ee5\u5728\u4e0d\u5237\u65b0\u9875\u9762\u7684\u60c5\u51b5\u4e0b,\u5f02\u6b65\u5730\u5411\u670d\u52a1\u5668\u53d1\u9001\u8bf7\u6c42,\u83b7\u53d6\u6570\u636e,\u7136\u540e\u5c40\u90e8\u66f4\u65b0\u9875\u9762\u3002\u8fd9\u6781\u5927\u5730\u6539\u5584\u4e86\u7528\u6237\u4f53\u9a8c\u3002"}),"\n",(0,r.jsx)(n.p,{children:"AJAX \u7684\u8bde\u751f\u548c\u53d1\u5c55\u5386\u7a0b\u5982\u4e0b:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{style:{textAlign:"center"},children:"\u65f6\u95f4"}),(0,r.jsx)(n.th,{style:{textAlign:"center"},children:"\u4e8b\u4ef6"}),(0,r.jsx)(n.th,{style:{textAlign:"center"},children:"\u63cf\u8ff0"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"1999"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:(0,r.jsx)(n.code,{children:"IE5.0"})}),(0,r.jsxs)(n.td,{style:{textAlign:"center"},children:[(0,r.jsx)(n.strong,{children:"\u5141\u8bb8"}),(0,r.jsx)(n.code,{children:"**JS**"}),(0,r.jsx)(n.strong,{children:"\u811a\u672c\u5411\u670d\u52a1\u5668\u5355\u72ec\u53d1\u8d77"}),(0,r.jsx)(n.code,{children:"**HTTP**"}),(0,r.jsx)(n.strong,{children:"\u8bf7\u6c42\u7684\u65b0\u529f\u80fd"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"2004"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:(0,r.jsx)(n.code,{children:"Gmail"})}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"\u5f02\u6b65\u66f4\u65b0\u90ae\u4ef6"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"2005"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:(0,r.jsx)(n.code,{children:"Google Map"})}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"\u5f02\u6b65\u66f4\u65b0\u5730\u56fe\u670d\u52a1"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"2005"}),(0,r.jsx)(n.td,{style:{textAlign:"center"}}),(0,r.jsxs)(n.td,{style:{textAlign:"center"},children:[(0,r.jsx)(n.code,{children:"AJAX"}),"\u88ab\u5927\u5382\u516c\u8ba4\u547d\u540d"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"2006"}),(0,r.jsx)(n.td,{style:{textAlign:"center"}}),(0,r.jsxs)(n.td,{style:{textAlign:"center"},children:[(0,r.jsx)(n.code,{children:"W3C"}),"\u53d1\u5e03",(0,r.jsx)(n.code,{children:"AJAX"}),"\u56fd\u9645\u6807\u51c6"]})]})]})]}),"\n",(0,r.jsx)(n.p,{children:"\u53ef\u4ee5\u770b\u5230,AJAX \u7684\u6982\u5ff5\u6700\u65e9\u7531\u5fae\u8f6f\u63d0\u51fa,\u540e\u6765\u5728 Google \u7b49\u516c\u53f8\u7684\u63a8\u52a8\u4e0b\u8fc5\u901f\u53d1\u5c55,\u6210\u4e3a Web \u5f00\u53d1\u7684\u4e3b\u6d41\u6280\u672f\u3002"}),"\n",(0,r.jsx)(n.h2,{id:"\u540c\u6b65\u8bf7\u6c42-vs-\u5f02\u6b65\u8bf7\u6c42",children:"\u540c\u6b65\u8bf7\u6c42 vs \u5f02\u6b65\u8bf7\u6c42"}),"\n",(0,r.jsx)(n.p,{children:"\u5728\u7406\u89e3 AJAX \u4e4b\u524d,\u6211\u4eec\u9700\u8981\u5148\u641e\u6e05\u695a\u540c\u6b65\u8bf7\u6c42\u548c\u5f02\u6b65\u8bf7\u6c42\u7684\u533a\u522b\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u540c\u6b65\u8bf7\u6c42\u7684\u7279\u70b9\u662f:"}),"\n",(0,r.jsx)(n.p,{children:"\u8bf7\u6c42\u53d1\u51fa\u540e,\u9700\u8981\u7b49\u5f85\u670d\u52a1\u5668\u54cd\u5e94\n\u5728\u6b64\u671f\u95f4,\u6d4f\u89c8\u5668\u4e0d\u80fd\u505a\u5176\u4ed6\u4e8b\u60c5\n\u9875\u9762\u4f1a\u88ab\u5b8c\u5168\u5237\u65b0"}),"\n",(0,r.jsx)(n.p,{children:"\u800c\u5f02\u6b65\u8bf7\u6c42\u7684\u7279\u70b9\u662f:"}),"\n",(0,r.jsxs)(n.p,{children:["\u8bf7\u6c42\u53d1\u51fa\u540e,\u4e0d\u9700\u8981\u7b49\u5f85\u670d\u52a1\u5668\u54cd\u5e94,\u53ef\u4ee5\u7ee7\u7eed\u505a\u5176\u4ed6\u4e8b\u60c5",(0,r.jsx)(n.br,{}),"\n","\u83b7\u5f97\u54cd\u5e94\u540e,\u53ef\u4ee5\u5c40\u90e8\u5237\u65b0\u9875\u9762"]}),"\n",(0,r.jsx)(n.p,{children:"\u663e\u7136,\u5f02\u6b65\u8bf7\u6c42\u7684\u7528\u6237\u4f53\u9a8c\u8981\u597d\u5f97\u591a\u3002AJAX \u5c31\u662f\u5b9e\u73b0\u5f02\u6b65\u8bf7\u6c42\u7684\u5229\u5668\u3002"}),"\n",(0,r.jsx)(n.h2,{id:"xmlhttprequest-\u5bf9\u8c61",children:"XMLHttpRequest \u5bf9\u8c61"}),"\n",(0,r.jsxs)(n.p,{children:["\u8981\u4f7f\u7528 AJAX \u53d1\u9001\u5f02\u6b65\u8bf7\u6c42,\u5173\u952e\u662f\u8981\u4f7f\u7528",(0,r.jsx)(n.code,{children:"XMLHttpRequest"}),"\u5bf9\u8c61\u3002\u5b83\u662f\u6d4f\u89c8\u5668\u5185\u7f6e\u7684\u4e00\u4e2a\u6784\u9020\u51fd\u6570,\u7528\u4e8e\u53d1\u8d77 HTTP \u8bf7\u6c42\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"XMLHttpRequest"}),"\u7684\u57fa\u672c\u7528\u6cd5\u5982\u4e0b:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"var xhr = new XMLHttpRequest();\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u6ce8\u610f,\u5728 IE5/IE6 \u4e2d,\u9700\u8981\u4f7f\u7528",(0,r.jsx)(n.code,{children:"ActiveXObject"}),"\u6765\u521b\u5efa",(0,r.jsx)(n.code,{children:"XMLHttpRequest"}),"\u5bf9\u8c61:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"var xhr = new ActiveXObject('Microsoft.XMLHTTP');\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u4e3a\u4e86\u517c\u5bb9\u4e0d\u540c\u6d4f\u89c8\u5668,\u6211\u4eec\u53ef\u4ee5\u5c01\u88c5\u4e00\u4e2a\u51fd\u6570:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"function createXHR() {\n  if (window.XMLHttpRequest) {\n    return new XMLHttpRequest();\n  } else {\n    return new ActiveXObject('Microsoft.XMLHTTP');\n  }\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"xmlhttprequest-\u7684\u72b6\u6001",children:"XMLHttpRequest \u7684\u72b6\u6001"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"XMLHttpRequest"}),"\u5bf9\u8c61\u5728\u8bf7\u6c42\u7684\u8fc7\u7a0b\u4e2d,\u4f1a\u7ecf\u5386\u4e0d\u540c\u7684\u72b6\u6001\u3002\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7",(0,r.jsx)(n.code,{children:"readyState"}),"\u5c5e\u6027\u6765\u83b7\u53d6\u5f53\u524d\u72b6\u6001:"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"0"})," \u8bf7\u6c42\u672a\u521d\u59cb\u5316\n",(0,r.jsx)(n.code,{children:"1"})," \u670d\u52a1\u5668\u8fde\u63a5\u5df2\u5efa\u7acb\n",(0,r.jsx)(n.code,{children:"2"})," \u8bf7\u6c42\u5df2\u63a5\u6536\n",(0,r.jsx)(n.code,{children:"3"})," \u8bf7\u6c42\u5904\u7406\u4e2d\n",(0,r.jsx)(n.code,{children:"4"})," \u8bf7\u6c42\u5df2\u5b8c\u6210,\u4e14\u54cd\u5e94\u5df2\u5c31\u7eea"]}),"\n",(0,r.jsxs)(n.p,{children:["\u53e6\u5916,\u6211\u4eec\u8fd8\u53ef\u4ee5\u901a\u8fc7",(0,r.jsx)(n.code,{children:"status"}),"\u5c5e\u6027\u83b7\u53d6\u670d\u52a1\u5668\u54cd\u5e94\u7684\u72b6\u6001\u7801,\u6bd4\u5982",(0,r.jsx)(n.code,{children:"200"}),"\u8868\u793a\u6210\u529f,",(0,r.jsx)(n.code,{children:"404"}),"\u8868\u793a\u672a\u627e\u5230\u8d44\u6e90\u7b49\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["\u5728",(0,r.jsx)(n.code,{children:"readyState"}),"\u53d8\u5316\u65f6,\u4f1a\u89e6\u53d1",(0,r.jsx)(n.code,{children:"onreadystatechange"}),"\u4e8b\u4ef6\u3002\u6211\u4eec\u53ef\u4ee5\u76d1\u542c\u8be5\u4e8b\u4ef6,\u6839\u636e\u4e0d\u540c\u72b6\u6001\u6267\u884c\u4e0d\u540c\u64cd\u4f5c:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"xhr.onreadystatechange = function () {\n  if (xhr.readyState === 4) {\n    if (xhr.status === 200) {\n      // \u8bf7\u6c42\u6210\u529f,\u83b7\u53d6\u54cd\u5e94\u6570\u636e\n      console.log(xhr.responseText);\n    } else {\n      // \u8bf7\u6c42\u5931\u8d25,\u5904\u7406\u9519\u8bef\n    }\n  }\n};\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u5c01\u88c5-ajax",children:"\u5c01\u88c5 AJAX"}),"\n",(0,r.jsxs)(n.p,{children:["\u4e86\u89e3\u4e86",(0,r.jsx)(n.code,{children:"XMLHttpRequest"}),"\u7684\u57fa\u672c\u7528\u6cd5\u540e,\u6211\u4eec\u5c31\u53ef\u4ee5\u5c1d\u8bd5\u5c01\u88c5\u4e00\u4e2a\u7b80\u5355\u7684 AJAX \u51fd\u6570\u4e86:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"function ajax(options) {\n  var xhr = createXHR();\n\n  // \u5408\u5e76\u9ed8\u8ba4\u53c2\u6570\n  var opts = Object.assign(\n    {\n      url: '',\n      type: 'GET',\n      data: null,\n      success: function () {},\n      error: function () {},\n      complete: function () {},\n    },\n    options\n  );\n\n  // \u76d1\u542c\u72b6\u6001\u53d8\u5316\n  xhr.onreadystatechange = function () {\n    if (xhr.readyState === 4) {\n      if (xhr.status === 200) {\n        opts.success(JSON.parse(xhr.responseText));\n      } else {\n        opts.error();\n      }\n      opts.complete();\n    }\n  };\n\n  // \u683c\u5f0f\u5316\u8bf7\u6c42\u53c2\u6570\n  var data = formatData(opts.data);\n\n  // \u53d1\u8d77\u8bf7\u6c42\n  xhr.open(opts.type, opts.url, true);\n\n  if (opts.type === 'GET') {\n    xhr.send();\n  } else {\n    xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n    xhr.send(data);\n  }\n}\n\n// \u683c\u5f0f\u5316\u8bf7\u6c42\u53c2\u6570\nfunction formatData(data) {\n  var arr = [];\n  for (var key in data) {\n    arr.push(encodeURIComponent(key) + '=' + encodeURIComponent(data[key]));\n  }\n  return arr.join('&');\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u4e0a\u9762\u7684",(0,r.jsx)(n.code,{children:"ajax"}),"\u51fd\u6570\u63a5\u6536\u4e00\u4e2a\u914d\u7f6e\u5bf9\u8c61,\u53ef\u4ee5\u8bbe\u7f6e\u8bf7\u6c42\u7684",(0,r.jsx)(n.code,{children:"url"}),"\u3001\u7c7b\u578b\u3001\u53c2\u6570\u3001\u6210\u529f/\u5931\u8d25\u56de\u8c03\u7b49\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["\u5728\u5185\u90e8,\u5148\u521b\u5efa\u4e00\u4e2a",(0,r.jsx)(n.code,{children:"XMLHttpRequest"}),"\u5bf9\u8c61,\u7136\u540e:"]}),"\n",(0,r.jsxs)(n.p,{children:["\u76d1\u542c",(0,r.jsx)(n.code,{children:"onreadystatechange"}),"\u4e8b\u4ef6,\u6839\u636e\u72b6\u6001\u8c03\u7528\u6210\u529f/\u5931\u8d25/\u5b8c\u6210\u7684\u56de\u8c03\n\u683c\u5f0f\u5316\u8bf7\u6c42\u53c2\u6570\n\u6839\u636e\u8bf7\u6c42\u7c7b\u578b,\u8c03\u7528",(0,r.jsx)(n.code,{children:"xhr.send()"}),"\u65b9\u6cd5\u53d1\u9001\u8bf7\u6c42"]}),"\n",(0,r.jsxs)(n.p,{children:["\u8fd9\u6837,\u6211\u4eec\u5c31\u53ef\u4ee5\u65b9\u4fbf\u5730\u4f7f\u7528\u5c01\u88c5\u597d\u7684",(0,r.jsx)(n.code,{children:"ajax"}),"\u51fd\u6570\u6765\u53d1\u9001\u5f02\u6b65\u8bf7\u6c42\u4e86:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"ajax({\n  url: '/api/getData',\n  type: 'POST',\n  data: { id: 123 },\n  success: function (res) {\n    console.log(res);\n  },\n});\n"})})]})}function h(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>d,x:()=>l});var s=t(96540);const r={},c=s.createContext(r);function d(e){const n=s.useContext(c);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),s.createElement(c.Provider,{value:n},e.children)}}}]);