"use strict";(self.webpackChunknote_book=self.webpackChunknote_book||[]).push([["62886"],{69147:function(e,n,t){t.r(n),t.d(n,{assets:function(){return i},contentTitle:function(){return d},default:function(){return a},frontMatter:function(){return c},metadata:function(){return s},toc:function(){return u}});var s=t(20754),r=t(85893),o=t(50065);let c={slug:"ubuntu-\u4E0A\u5B89\u88C5\u548C\u914D\u7F6E-docker",title:"Ubuntu \u4E0A\u5B89\u88C5\u548C\u914D\u7F6E Docker",authors:["sumingcheng"],tags:["os-and-commands"],date:new Date("2024-10-09T00:00:00.000Z")},d="Ubuntu \u4E0A\u5B89\u88C5\u548C\u914D\u7F6E Docker",i={authorsImageUrls:[void 0]},u=[{value:"\u4E00\u3001\u66F4\u65B0\u8F6F\u4EF6\u6E90",id:"\u4E00\u66F4\u65B0\u8F6F\u4EF6\u6E90",level:2},{value:"\u4E8C\u3001\u5B89\u88C5\u5FC5\u8981\u4F9D\u8D56",id:"\u4E8C\u5B89\u88C5\u5FC5\u8981\u4F9D\u8D56",level:2},{value:"\u4E09\u3001\u6DFB\u52A0 Docker \u7684 GPG \u5BC6\u94A5\u548C\u4ED3\u5E93",id:"\u4E09\u6DFB\u52A0-docker-\u7684-gpg-\u5BC6\u94A5\u548C\u4ED3\u5E93",level:2},{value:"\u56DB\u3001\u5B89\u88C5 Docker",id:"\u56DB\u5B89\u88C5-docker",level:2},{value:"\u4E94\u3001\u9A8C\u8BC1\u5B89\u88C5",id:"\u4E94\u9A8C\u8BC1\u5B89\u88C5",level:2},{value:"\u516D\u3001\u914D\u7F6E Docker \u65E5\u5FD7\u548C\u5176\u4ED6\u9009\u9879",id:"\u516D\u914D\u7F6E-docker-\u65E5\u5FD7\u548C\u5176\u4ED6\u9009\u9879",level:2},{value:"\u4E03\u3001\u5B89\u88C5 Docker Compose",id:"\u4E03\u5B89\u88C5-docker-compose",level:2},{value:"\u516B\u3001\u66F4\u65B0 Hosts \u6587\u4EF6",id:"\u516B\u66F4\u65B0-hosts-\u6587\u4EF6",level:2}];function l(e){let n={code:"code",h2:"h2",p:"p",pre:"pre",...(0,o.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"\u4E00\u66F4\u65B0\u8F6F\u4EF6\u6E90",children:"\u4E00\u3001\u66F4\u65B0\u8F6F\u4EF6\u6E90"}),"\n",(0,r.jsxs)(n.p,{children:["\u5907\u4EFD\u73B0\u6709\u7684 ",(0,r.jsx)(n.code,{children:"sources.list"})," \u6587\u4EF6\u5E76\u66FF\u6362\u4E3A\u6E05\u534E\u5927\u5B66\u7684\u955C\u50CF\u6E90"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'sudo cp /etc/apt/sources.list /etc/apt/sources.list.bak\n\u200B\nsudo tee /etc/apt/sources.list > /dev/null <<EOL\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ jammy main restricted universe multiverse\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ jammy-updates main restricted universe multiverse\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ jammy-backports main restricted universe multiverse\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ jammy-security main restricted universe multiverse\nEOL\n\u200B\necho "\u5DF2\u5907\u4EFD\u539F\u59CB sources.list \u6587\u4EF6\u4E3A sources.list.bak\uFF0C\u5E76\u5199\u5165\u65B0\u7684 sources.list\u3002"\n\u200B\nsudo apt-get update\n'})}),"\n",(0,r.jsx)(n.h2,{id:"\u4E8C\u5B89\u88C5\u5FC5\u8981\u4F9D\u8D56",children:"\u4E8C\u3001\u5B89\u88C5\u5FC5\u8981\u4F9D\u8D56"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"sudo apt-get install -y apt-transport-https ca-certificates curl gnupg lsb-release\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u4E09\u6DFB\u52A0-docker-\u7684-gpg-\u5BC6\u94A5\u548C\u4ED3\u5E93",children:"\u4E09\u3001\u6DFB\u52A0 Docker \u7684 GPG \u5BC6\u94A5\u548C\u4ED3\u5E93"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'sudo install -m 0755 -d /etc/apt/keyrings\n\u200B\ncurl -fsSL https://mirrors.tuna.tsinghua.edu.cn/docker-ce/linux/ubuntu/gpg | \\\nsudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg\n\u200B\nsudo chmod a+r /etc/apt/keyrings/docker.gpg\n\u200B\necho \\\n  "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] \\\n  https://mirrors.tuna.tsinghua.edu.cn/docker-ce/linux/ubuntu \\\n  $(lsb_release -cs) stable" | \\\n  sudo tee /etc/apt/sources.list.d/docker.list > /dev/null\n\u200B\nsudo apt-get update\n'})}),"\n",(0,r.jsx)(n.h2,{id:"\u56DB\u5B89\u88C5-docker",children:"\u56DB\u3001\u5B89\u88C5 Docker"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"sudo apt-get install -y docker-ce docker-ce-cli containerd.io \\\ndocker-buildx-plugin docker-compose-plugin\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u4E94\u9A8C\u8BC1\u5B89\u88C5",children:"\u4E94\u3001\u9A8C\u8BC1\u5B89\u88C5"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"docker info\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u5982\u679C\u5B89\u88C5\u6210\u529F\uFF0C\u60A8\u5C06\u770B\u5230 Docker \u7684\u8BE6\u7EC6\u4FE1\u606F\u3002"}),"\n",(0,r.jsx)(n.h2,{id:"\u516D\u914D\u7F6E-docker-\u65E5\u5FD7\u548C\u5176\u4ED6\u9009\u9879",children:"\u516D\u3001\u914D\u7F6E Docker \u65E5\u5FD7\u548C\u5176\u4ED6\u9009\u9879"}),"\n",(0,r.jsxs)(n.p,{children:["\u521B\u5EFA\u6216\u4FEE\u6539 ",(0,r.jsx)(n.code,{children:"/etc/docker/daemon.json"})," \u6587\u4EF6"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'sudo tee /etc/docker/daemon.json > /dev/null <<EOF\n{\n  "insecure-registries": ["0.0.0.0/0"],\n  "live-restore": true,\n  "log-driver": "json-file",\n  "log-opts": {\n    "max-size": "50m",\n    "max-file": "3"\n  },\n  "default-address-pools": [\n    {\n      "base": "172.30.0.0/16",\n      "size": 24\n    },\n    {\n      "base": "172.31.0.0/16",\n      "size": 24\n    }\n  ]\n}\nEOF\n'})}),"\n",(0,r.jsx)(n.p,{children:"\u91CD\u65B0\u52A0\u8F7D\u5E76\u91CD\u542F Docker \u670D\u52A1"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"sudo systemctl daemon-reload\nsudo systemctl restart docker\nsudo systemctl enable docker\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u518D\u6B21\u9A8C\u8BC1"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"docker info\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u786E\u4FDD\u914D\u7F6E\u5DF2\u751F\u6548\u3002"}),"\n",(0,r.jsx)(n.h2,{id:"\u4E03\u5B89\u88C5-docker-compose",children:"\u4E03\u3001\u5B89\u88C5 Docker Compose"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"sudo wget https://github.com/docker/compose/releases/download/v2.27.2/docker-compose-linux-x86_64 \\\n-O /usr/local/bin/docker-compose\n\u200B\nsudo chmod +x /usr/local/bin/docker-compose\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u516B\u66F4\u65B0-hosts-\u6587\u4EF6",children:"\u516B\u3001\u66F4\u65B0 Hosts \u6587\u4EF6"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'echo -e "59.151.19.44\\tmodel.vnet.com\\n172.22.220.40\\tmodel.vnet.com" | sudo tee -a /etc/hosts\n'})}),"\n",(0,r.jsx)(n.p,{children:"\u8FD9\u6837\u5C31\u5B8C\u6210\u4E86 Docker \u7684\u5B89\u88C5\u548C\u57FA\u672C\u914D\u7F6E\u3002"})]})}function a(e={}){let{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},50065:function(e,n,t){t.d(n,{Z:function(){return d},a:function(){return c}});var s=t(67294);let r={},o=s.createContext(r);function c(e){let n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),s.createElement(o.Provider,{value:n},e.children)}},20754:function(e){e.exports=JSON.parse('{"permalink":"/docs-hub/blog/ubuntu-\u4E0A\u5B89\u88C5\u548C\u914D\u7F6E-docker","editUrl":"https://github.com/sumingcheng/docs-hub/blog/\u64CD\u4F5C\u7CFB\u7EDF\u4E0E\u547D\u4EE4/2024-10-09-Ubuntu_\u4E0A\u5B89\u88C5\u548C\u914D\u7F6E_Docker.md","source":"@site/blog/\u64CD\u4F5C\u7CFB\u7EDF\u4E0E\u547D\u4EE4/2024-10-09-Ubuntu_\u4E0A\u5B89\u88C5\u548C\u914D\u7F6E_Docker.md","title":"Ubuntu \u4E0A\u5B89\u88C5\u548C\u914D\u7F6E Docker","description":"\u4E00\u3001\u66F4\u65B0\u8F6F\u4EF6\u6E90","date":"2024-10-09T00:00:00.000Z","tags":[{"inline":false,"label":"\u64CD\u4F5C\u7CFB\u7EDF\u4E0E\u547D\u4EE4","permalink":"/docs-hub/blog/tags/os-and-commands","description":"\u64CD\u4F5C\u7CFB\u7EDF\u548C\u547D\u4EE4\u884C\u76F8\u5173\u77E5\u8BC6"}],"readingTime":1.1733333333333333,"hasTruncateMarker":false,"authors":[{"name":"\u7D20\u660E\u8BDA","title":"Full stack development","url":"https://github.com/sumingcheng","page":{"permalink":"/docs-hub/blog/authors/sumingcheng"},"socials":{"x":"https://x.com/sumingcheng","github":"https://github.com/sumingcheng"},"imageURL":"https://github.com/user-attachments/assets/9a06bd55-094a-4efc-91c3-d1b92236822f","key":"sumingcheng"}],"frontMatter":{"slug":"ubuntu-\u4E0A\u5B89\u88C5\u548C\u914D\u7F6E-docker","title":"Ubuntu \u4E0A\u5B89\u88C5\u548C\u914D\u7F6E Docker","authors":["sumingcheng"],"tags":["os-and-commands"],"date":"2024-10-09T00:00:00.000Z"},"unlisted":false,"prevItem":{"title":"Linux \u5168\u65B9\u9762\u914D\u7F6E Bash \u63D0\u5347\u4F53\u9A8C","permalink":"/docs-hub/blog/linux-\u5168\u65B9\u9762\u914D\u7F6E-bash-\u63D0\u5347\u4F53\u9A8C"},"nextItem":{"title":"\u4EC0\u4E48\u662F\u6D4F\u89C8\u5668\u7684 Mixed Content \u95EE\u9898","permalink":"/docs-hub/blog/\u4EC0\u4E48\u662F\u6D4F\u89C8\u5668\u7684-mixed-content-\u95EE\u9898"}}')}}]);