"use strict";(self.webpackChunknote_book=self.webpackChunknote_book||[]).push([["29458"],{23908:function(n,e,r){r.r(e),r.d(e,{assets:function(){return s},contentTitle:function(){return o},default:function(){return h},frontMatter:function(){return t},metadata:function(){return d},toc:function(){return c}});var d=r(31070),i=r(85893),l=r(50065);let t={slug:"jsdiff-\u4F7F\u7528\u6307\u5357",title:"jsdiff \u4F7F\u7528\u6307\u5357",authors:["sumingcheng"],tags:["frontend"],date:new Date("2024-11-08T00:00:00.000Z")},o="jsdiff \u4F7F\u7528\u6307\u5357",s={authorsImageUrls:[void 0]},c=[{value:"\u5B89\u88C5",id:"\u5B89\u88C5",level:2},{value:"\u57FA\u672C\u7528\u6CD5",id:"\u57FA\u672C\u7528\u6CD5",level:2},{value:"\u793A\u4F8B\u6309\u5B57\u7B26\u6BD4\u8F83",id:"\u793A\u4F8B\u6309\u5B57\u7B26\u6BD4\u8F83",level:3},{value:"\u793A\u4F8B\u6309\u5355\u8BCD\u6BD4\u8F83",id:"\u793A\u4F8B\u6309\u5355\u8BCD\u6BD4\u8F83",level:3},{value:"\u793A\u4F8B\u6309\u884C\u6BD4\u8F83",id:"\u793A\u4F8B\u6309\u884C\u6BD4\u8F83",level:3},{value:"\u521B\u5EFA\u8865\u4E01",id:"\u521B\u5EFA\u8865\u4E01",level:2},{value:"\u793A\u4F8B\u521B\u5EFA\u8865\u4E01",id:"\u793A\u4F8B\u521B\u5EFA\u8865\u4E01",level:3},{value:"\u5E94\u7528\u8865\u4E01",id:"\u5E94\u7528\u8865\u4E01",level:2},{value:"\u793A\u4F8B\u5E94\u7528\u8865\u4E01",id:"\u793A\u4F8B\u5E94\u7528\u8865\u4E01",level:3},{value:"\u6BD4\u8F83\u6570\u7EC4",id:"\u6BD4\u8F83\u6570\u7EC4",level:2},{value:"\u793A\u4F8B\u6BD4\u8F83\u6570\u7EC4",id:"\u793A\u4F8B\u6BD4\u8F83\u6570\u7EC4",level:3},{value:"\u9009\u9879\u53C2\u6570",id:"\u9009\u9879\u53C2\u6570",level:2},{value:"\u793A\u4F8B\u5FFD\u7565\u7A7A\u767D\u5B57\u7B26",id:"\u793A\u4F8B\u5FFD\u7565\u7A7A\u767D\u5B57\u7B26",level:3},{value:"\u5728\u6D4F\u89C8\u5668\u4E2D\u4F7F\u7528",id:"\u5728\u6D4F\u89C8\u5668\u4E2D\u4F7F\u7528",level:2},{value:"\u539F\u7406",id:"\u539F\u7406",level:2}];function f(n){let e={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.a)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.a,{href:"https://github.com/kpdecker/jsdiff",children:"https://github.com/kpdecker/jsdiff"})," \u662F\u4E00\u4E2A\u7528\u4E8E\u8BA1\u7B97\u6587\u672C\u5DEE\u5F02\u7684 JavaScript \u5E93\u3002\u5B83\u53EF\u4EE5\u5728\u6D4F\u89C8\u5668\u548C Node.js \u73AF\u5883\u4E2D\u8FD0\u884C\uFF0C\u65B9\u4FBF\u5730\u6BD4\u8F83\u4E24\u6BB5\u6587\u672C\u5E76\u83B7\u53D6\u5B83\u4EEC\u4E4B\u95F4\u7684\u5DEE\u5F02\u4FE1\u606F\u3002"]}),"\n",(0,i.jsx)(e.p,{children:"\u672C\u6587\u5C06\u4ECB\u7ECD\u5982\u4F55\u5728\u524D\u7AEF\u9879\u76EE\u4E2D\u4F7F\u7528 jsdiff\uFF0C\u5E76\u901A\u8FC7\u4E00\u4E9B\u793A\u4F8B\u6765\u5E2E\u52A9\u4F60\u5FEB\u901F\u4E0A\u624B\u3002"}),"\n",(0,i.jsx)(e.h2,{id:"\u5B89\u88C5",children:"\u5B89\u88C5"}),"\n",(0,i.jsx)(e.p,{children:"\u4F60\u53EF\u4EE5\u901A\u8FC7 pnpm \u6216 yarn \u5B89\u88C5 jsdiff"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"pnpm install diff\n# \u6216\nyarn add diff\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u5728\u6D4F\u89C8\u5668\u4E2D\uFF0C\u4F60\u4E5F\u53EF\u4EE5\u901A\u8FC7 CDN \u5F15\u5165"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:'<script src="https://unpkg.com/diff/dist/diff.min.js"><\/script>\n'})}),"\n",(0,i.jsx)(e.h2,{id:"\u57FA\u672C\u7528\u6CD5",children:"\u57FA\u672C\u7528\u6CD5"}),"\n",(0,i.jsx)(e.p,{children:"jsdiff \u63D0\u4F9B\u4E86\u591A\u79CD\u6BD4\u8F83\u6587\u672C\u7684\u65B9\u6CD5\uFF0C\u5E38\u7528\u7684\u6709"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"diffChars(oldStr, newStr[, options])"}),"\u6309\u5B57\u7B26\u6BD4\u8F83"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"diffWords(oldStr, newStr[, options])"}),"\u6309\u5355\u8BCD\u6BD4\u8F83"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"diffLines(oldStr, newStr[, options])"}),"\u6309\u884C\u6BD4\u8F83"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"\u8FD9\u4E9B\u65B9\u6CD5\u8FD4\u56DE\u4E00\u4E2A\u5DEE\u5F02\u5BF9\u8C61\u6570\u7EC4\uFF0C\u4F60\u53EF\u4EE5\u6839\u636E\u8FD9\u4E9B\u5BF9\u8C61\u6765\u5C55\u793A\u5DEE\u5F02\u3002"}),"\n",(0,i.jsx)(e.h3,{id:"\u793A\u4F8B\u6309\u5B57\u7B26\u6BD4\u8F83",children:"\u793A\u4F8B\u6309\u5B57\u7B26\u6BD4\u8F83"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"const Diff = require('diff');\n\u200B\nconst oldStr = 'Hello World';\nconst newStr = 'Hello Javascript World';\n\u200B\nconst diff = Diff.diffChars(oldStr, newStr);\n\u200B\ndiff.forEach((part) => {\n  // \u6DFB\u52A0\u90E8\u5206\u7528\u7EFF\u8272\u663E\u793A\uFF0C\u5220\u9664\u90E8\u5206\u7528\u7EA2\u8272\u663E\u793A\uFF0C\u672A\u53D8\u90E8\u5206\u7528\u7070\u8272\u663E\u793A\n  const color = part.added ? 'green' :\n                part.removed ? 'red' : 'grey';\n  console.log(part.value, color);\n});\n\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u8F93\u51FA"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"Hello  grey\nJavascript  green\nWorld grey\n"})}),"\n",(0,i.jsx)(e.h3,{id:"\u793A\u4F8B\u6309\u5355\u8BCD\u6BD4\u8F83",children:"\u793A\u4F8B\u6309\u5355\u8BCD\u6BD4\u8F83"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"const Diff = require('diff');\n\u200B\nconst oldStr = 'I love programming.';\nconst newStr = 'We love coding.';\n\u200B\nconst diff = Diff.diffWords(oldStr, newStr);\n\u200B\ndiff.forEach((part) => {\n  const color = part.added ? 'green' :\n                part.removed ? 'red' : 'grey';\n  console.log(part.value, color);\n});\n\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u8F93\u51FA"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"We green\nI red\n love  grey\ncoding. green\nprogramming. red\n"})}),"\n",(0,i.jsx)(e.h3,{id:"\u793A\u4F8B\u6309\u884C\u6BD4\u8F83",children:"\u793A\u4F8B\u6309\u884C\u6BD4\u8F83"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"const Diff = require('diff');\n\u200B\nconst oldStr = `Line one\nLine two\nLine three`;\n\u200B\nconst newStr = `Line one\nLine 2\nLine three`;\n\u200B\nconst diff = Diff.diffLines(oldStr, newStr);\n\u200B\ndiff.forEach((part) => {\n  const color = part.added ? 'green' :\n                part.removed ? 'red' : 'grey';\n  console.log(part.value, color);\n});\n\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u8F93\u51FA"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"Line one\n grey\nLine two\n red\nLine 2\n green\nLine three grey\n"})}),"\n",(0,i.jsx)(e.h2,{id:"\u521B\u5EFA\u8865\u4E01",children:"\u521B\u5EFA\u8865\u4E01"}),"\n",(0,i.jsx)(e.p,{children:"jsdiff \u53EF\u4EE5\u751F\u6210\u7EDF\u4E00\u683C\u5F0F\uFF08unified format\uFF09\u7684\u8865\u4E01\uFF0C\u65B9\u4FBF\u5728\u7248\u672C\u63A7\u5236\u4E2D\u4F7F\u7528\u3002"}),"\n",(0,i.jsx)(e.h3,{id:"\u793A\u4F8B\u521B\u5EFA\u8865\u4E01",children:"\u793A\u4F8B\u521B\u5EFA\u8865\u4E01"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"const Diff = require('diff');\n\u200B\nconst oldStr = 'Hello World';\nconst newStr = 'Hello Javascript World';\n\u200B\nconst patch = Diff.createPatch('filename.txt', oldStr, newStr);\n\u200B\nconsole.log(patch);\n\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u8F93\u51FA"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"Index: filename.txt\n===================================================================\n--- filename.txt\n+++ filename.txt\n@@ -1,1 +1,1 @@\n-Hello World\n+Hello Javascript World\n"})}),"\n",(0,i.jsx)(e.h2,{id:"\u5E94\u7528\u8865\u4E01",children:"\u5E94\u7528\u8865\u4E01"}),"\n",(0,i.jsx)(e.p,{children:"\u4F60\u4E5F\u53EF\u4EE5\u5C06\u8865\u4E01\u5E94\u7528\u5230\u539F\u59CB\u6587\u672C\u4E0A\u3002"}),"\n",(0,i.jsx)(e.h3,{id:"\u793A\u4F8B\u5E94\u7528\u8865\u4E01",children:"\u793A\u4F8B\u5E94\u7528\u8865\u4E01"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"const Diff = require('diff');\n\u200B\nconst oldStr = 'Hello World';\nconst patch = `Index: filename.txt\n===================================================================\n--- filename.txt\n+++ filename.txt\n@@ -1,1 +1,1 @@\n-Hello World\n+Hello Javascript World`;\n\u200B\nconst newStr = Diff.applyPatch(oldStr, patch);\n\u200B\nconsole.log(newStr);\n\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u8F93\u51FA"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"Hello Javascript World\n"})}),"\n",(0,i.jsx)(e.h2,{id:"\u6BD4\u8F83\u6570\u7EC4",children:"\u6BD4\u8F83\u6570\u7EC4"}),"\n",(0,i.jsx)(e.p,{children:"\u9664\u4E86\u5B57\u7B26\u4E32\uFF0Cjsdiff \u8FD8\u53EF\u4EE5\u6BD4\u8F83\u6570\u7EC4\u3002"}),"\n",(0,i.jsx)(e.h3,{id:"\u793A\u4F8B\u6BD4\u8F83\u6570\u7EC4",children:"\u793A\u4F8B\u6BD4\u8F83\u6570\u7EC4"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"const Diff = require('diff');\n\u200B\nconst oldArr = ['apple', 'banana', 'cherry'];\nconst newArr = ['apple', 'blueberry', 'cherry', 'date'];\n\u200B\nconst diff = Diff.diffArrays(oldArr, newArr);\n\u200B\ndiff.forEach((part) => {\n  const added = part.added ? '+' : '';\n  const removed = part.removed ? '-' : '';\n  console.log(`${added}${removed}${part.value}`);\n});\n\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u8F93\u51FA"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"apple\n-banana\n+blueberry\ncherry\n+date\n"})}),"\n",(0,i.jsx)(e.h2,{id:"\u9009\u9879\u53C2\u6570",children:"\u9009\u9879\u53C2\u6570"}),"\n",(0,i.jsxs)(e.p,{children:["jsdiff \u7684\u6BD4\u8F83\u65B9\u6CD5\u53EF\u4EE5\u63A5\u53D7\u4E00\u4E2A\u53EF\u9009\u7684 ",(0,i.jsx)(e.code,{children:"options"})," \u5BF9\u8C61\uFF0C\u5E38\u7528\u7684\u9009\u9879\u6709"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"ignoreCase"}),"\u5FFD\u7565\u5927\u5C0F\u5199"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"ignoreWhitespace"}),"\u5FFD\u7565\u7A7A\u767D\u5B57\u7B26"]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"\u793A\u4F8B\u5FFD\u7565\u7A7A\u767D\u5B57\u7B26",children:"\u793A\u4F8B\u5FFD\u7565\u7A7A\u767D\u5B57\u7B26"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"const Diff = require('diff');\n\u200B\nconst oldStr = 'Hello   World';\nconst newStr = 'Hello World';\n\u200B\nconst diff = Diff.diffWords(oldStr, newStr, { ignoreWhitespace: true });\n\u200B\ndiff.forEach((part) => {\n  const color = part.added ? 'green' :\n                part.removed ? 'red' : 'grey';\n  console.log(part.value, color);\n});\n\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u8F93\u51FA"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"Hello World grey\n"})}),"\n",(0,i.jsx)(e.h2,{id:"\u5728\u6D4F\u89C8\u5668\u4E2D\u4F7F\u7528",children:"\u5728\u6D4F\u89C8\u5668\u4E2D\u4F7F\u7528"}),"\n",(0,i.jsxs)(e.p,{children:["\u5728\u6D4F\u89C8\u5668\u4E2D\uFF0C\u4F60\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528 ",(0,i.jsx)(e.code,{children:"<script>"})," \u6807\u7B7E\u5F15\u5165 jsdiff\uFF0C\u7136\u540E\u4F7F\u7528\u5168\u5C40\u53D8\u91CF ",(0,i.jsx)(e.code,{children:"Diff"}),"\u3002"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"<script src=\"https://unpkg.com/diff/dist/diff.min.js\"><\/script>\n<script>\n  const oldStr = 'Hello World';\n  const newStr = 'Hello Javascript World';\n\u200B\n  const diff = Diff.diffWords(oldStr, newStr);\n\u200B\n  diff.forEach((part) => {\n    const color = part.added ? 'green' :\n                  part.removed ? 'red' : 'grey';\n    console.log(part.value, color);\n  });\n<\/script>\n"})}),"\n",(0,i.jsx)(e.h2,{id:"\u539F\u7406",children:"\u539F\u7406"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.a,{href:"http://www.xmailserver.org/diff2.pdf",children:"http://www.xmailserver.org/diff2.pdf"})})]})}function h(n={}){let{wrapper:e}={...(0,l.a)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(f,{...n})}):f(n)}},50065:function(n,e,r){r.d(e,{Z:function(){return o},a:function(){return t}});var d=r(67294);let i={},l=d.createContext(i);function t(n){let e=d.useContext(l);return d.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:t(n.components),d.createElement(l.Provider,{value:e},n.children)}},31070:function(n){n.exports=JSON.parse('{"permalink":"/docs-hub/blog/jsdiff-\u4F7F\u7528\u6307\u5357","editUrl":"https://github.com/sumingcheng/docs-hub/blog/\u524D\u7AEF/2024-11-08-jsdiff_\u4F7F\u7528\u6307\u5357.md","source":"@site/blog/\u524D\u7AEF/2024-11-08-jsdiff_\u4F7F\u7528\u6307\u5357.md","title":"jsdiff \u4F7F\u7528\u6307\u5357","description":"https://github.com/kpdecker/jsdiff \u662F\u4E00\u4E2A\u7528\u4E8E\u8BA1\u7B97\u6587\u672C\u5DEE\u5F02\u7684 JavaScript \u5E93\u3002\u5B83\u53EF\u4EE5\u5728\u6D4F\u89C8\u5668\u548C Node.js \u73AF\u5883\u4E2D\u8FD0\u884C\uFF0C\u65B9\u4FBF\u5730\u6BD4\u8F83\u4E24\u6BB5\u6587\u672C\u5E76\u83B7\u53D6\u5B83\u4EEC\u4E4B\u95F4\u7684\u5DEE\u5F02\u4FE1\u606F\u3002","date":"2024-11-08T00:00:00.000Z","tags":[{"inline":false,"label":"\u524D\u7AEF","permalink":"/docs-hub/blog/tags/frontend","description":"\u524D\u7AEF\u5F00\u53D1\u6280\u672F\u6587\u7AE0"}],"readingTime":2.78,"hasTruncateMarker":false,"authors":[{"name":"\u7D20\u660E\u8BDA","title":"Full stack development","url":"https://github.com/sumingcheng","page":{"permalink":"/docs-hub/blog/authors/sumingcheng"},"socials":{"x":"https://x.com/sumingcheng","github":"https://github.com/sumingcheng"},"imageURL":"https://github.com/user-attachments/assets/9a06bd55-094a-4efc-91c3-d1b92236822f","key":"sumingcheng"}],"frontMatter":{"slug":"jsdiff-\u4F7F\u7528\u6307\u5357","title":"jsdiff \u4F7F\u7528\u6307\u5357","authors":["sumingcheng"],"tags":["frontend"],"date":"2024-11-08T00:00:00.000Z"},"unlisted":false,"prevItem":{"title":"\u5173\u95ED\u6062\u590D Ubuntu GUI","permalink":"/docs-hub/blog/\u5173\u95ED\u6062\u590D-ubuntu-gui"},"nextItem":{"title":"\u7981\u7528\u5FAE\u8F6F\u62FC\u97F3\u8F93\u5165\u6CD5\u7B80\u4F53\u7E41\u4F53\u70ED\u952E","permalink":"/docs-hub/blog/\u7981\u7528\u5FAE\u8F6F\u62FC\u97F3\u8F93\u5165\u6CD5\u7B80\u4F53\u7E41\u4F53\u70ED\u952E"}}')}}]);