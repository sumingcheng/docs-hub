"use strict";(self.webpackChunknote_book=self.webpackChunknote_book||[]).push([[66101],{60277:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>i,contentTitle:()=>s,default:()=>p,frontMatter:()=>l,metadata:()=>o,toc:()=>a});const o=JSON.parse('{"id":"Frontend/JavaScript/JS-\u5e38\u89c1\u5185\u7f6e\u65b9\u6cd5/Proxy\u4e0eES-14\u79cd\u5bf9\u8c61\u64cd\u4f5c\u65b9\u6cd5","title":"14 \u79cd\u64cd\u4f5c\u5bf9\u8c61\u65b9\u6cd5","description":"1. [[GetPrototypeOf]]","source":"@site/docs/Frontend/JavaScript/JS-\u5e38\u89c1\u5185\u7f6e\u65b9\u6cd5/30.Proxy\u4e0eES-14\u79cd\u5bf9\u8c61\u64cd\u4f5c\u65b9\u6cd5.md","sourceDirName":"Frontend/JavaScript/JS-\u5e38\u89c1\u5185\u7f6e\u65b9\u6cd5","slug":"/Frontend/JavaScript/JS-\u5e38\u89c1\u5185\u7f6e\u65b9\u6cd5/Proxy\u4e0eES-14\u79cd\u5bf9\u8c61\u64cd\u4f5c\u65b9\u6cd5","permalink":"/docs-hub/Frontend/JavaScript/JS-\u5e38\u89c1\u5185\u7f6e\u65b9\u6cd5/Proxy\u4e0eES-14\u79cd\u5bf9\u8c61\u64cd\u4f5c\u65b9\u6cd5","draft":false,"unlisted":false,"editUrl":"https://github.com/sumingcheng/docs-hub/edit/main/docs/Frontend/JavaScript/JS-\u5e38\u89c1\u5185\u7f6e\u65b9\u6cd5/30.Proxy\u4e0eES-14\u79cd\u5bf9\u8c61\u64cd\u4f5c\u65b9\u6cd5.md","tags":[],"version":"current","lastUpdatedBy":"sumingcheng","lastUpdatedAt":1733919630000,"sidebarPosition":30,"frontMatter":{},"sidebar":"javascriptSidebar","previous":{"title":"Object.defineProperty \u4f7f\u7528\u6307\u5357","permalink":"/docs-hub/Frontend/JavaScript/JS-\u5e38\u89c1\u5185\u7f6e\u65b9\u6cd5/ObjectDefineProperty"},"next":{"title":"Array.from()","permalink":"/docs-hub/Frontend/JavaScript/JS-\u5e38\u89c1\u5185\u7f6e\u65b9\u6cd5/Array.from"}}');var c=r(74848),t=r(28453);const l={},s="14 \u79cd\u64cd\u4f5c\u5bf9\u8c61\u65b9\u6cd5",i={},a=[{value:"1. [[GetPrototypeOf]]",id:"1-getprototypeof",level:2},{value:"2. [[SetPrototypeOf]]",id:"2-setprototypeof",level:2},{value:"3. \u83b7\u53d6\u5bf9\u8c61\u7684\u53ef\u6269\u5c55\u6027",id:"3-\u83b7\u53d6\u5bf9\u8c61\u7684\u53ef\u6269\u5c55\u6027",level:2},{value:"4. [[GetOwnProperty]]",id:"4-getownproperty",level:2},{value:"5. [[PreventExtensions]]",id:"5-preventextensions",level:2},{value:"6. [[DefineOwnProperty]]",id:"6-defineownproperty",level:2},{value:"7. [[HasProperty]]",id:"7-hasproperty",level:2},{value:"8. [[GET]]",id:"8-get",level:2},{value:"9. [[SET]]",id:"9-set",level:2},{value:"10. \u5220\u9664\u5c5e\u6027",id:"10-\u5220\u9664\u5c5e\u6027",level:2},{value:"11. \u679a\u4e3e\u5c5e\u6027",id:"11-\u679a\u4e3e\u5c5e\u6027",level:2},{value:"12. OwnPropertyKeys",id:"12-ownpropertykeys",level:2},{value:"13. call / apply / bind",id:"13-call--apply--bind",level:2},{value:"14. new",id:"14-new",level:2},{value:"defineProperty",id:"defineproperty",level:2},{value:"Proxy",id:"proxy",level:2},{value:"\u53c2\u6570",id:"\u53c2\u6570",level:2},{value:"\u4ee3\u7406 Object",id:"\u4ee3\u7406-object",level:2},{value:"\u4ee3\u7406 Array",id:"\u4ee3\u7406-array",level:2},{value:"\u4ee3\u7406 Function",id:"\u4ee3\u7406-function",level:2},{value:"\u65b9\u6cd5\u5728 Reflect \u7684\u597d\u5904",id:"\u65b9\u6cd5\u5728-reflect-\u7684\u597d\u5904",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,t.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"14-\u79cd\u64cd\u4f5c\u5bf9\u8c61\u65b9\u6cd5",children:"14 \u79cd\u64cd\u4f5c\u5bf9\u8c61\u65b9\u6cd5"})}),"\n",(0,c.jsx)(n.h2,{id:"1-getprototypeof",children:"1. [[GetPrototypeOf]]"}),"\n",(0,c.jsxs)(n.p,{children:["\u7b14\u8005\u4ecb\u7ecd\u5982\u4f55\u83b7\u53d6\u5bf9\u8c61\u7684\u539f\u578b\u3002\u901a\u8fc7 ",(0,c.jsx)(n.code,{children:"Object.getPrototypeOf"})," \u65b9\u6cd5\u53ef\u4ee5\u83b7\u53d6\u4e00\u4e2a\u5bf9\u8c61\u7684\u539f\u578b\u3002"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"const obj = { a: 1, b: 2 };\n\n// \u83b7\u53d6\u5bf9\u8c61\u7684\u539f\u578b\nconst proto = Object.getPrototypeOf(obj);\nconsole.log(proto); // \u8f93\u51fa\u5bf9\u8c61\u7684\u539f\u578b\nconsole.log(obj.__proto__); // \u53e6\u4e00\u79cd\u83b7\u53d6\u539f\u578b\u7684\u65b9\u5f0f\nconsole.log(Object.prototype); // Object.prototype \u662f\u6240\u6709\u666e\u901a\u5bf9\u8c61\u7684\u539f\u578b\n"})}),"\n",(0,c.jsx)(n.h2,{id:"2-setprototypeof",children:"2. [[SetPrototypeOf]]"}),"\n",(0,c.jsxs)(n.p,{children:["\u8bbe\u7f6e\u4e00\u4e2a\u6307\u5b9a\u5bf9\u8c61\u7684\u539f\u578b\u3002\u4f7f\u7528 ",(0,c.jsx)(n.code,{children:"Object.setPrototypeOf"})," \u65b9\u6cd5\u53ef\u4ee5\u52a8\u6001\u4fee\u6539\u5bf9\u8c61\u7684\u539f\u578b\u3002"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"const obj = { a: 1, b: 2 };\n\n// \u8bbe\u7f6e\u5bf9\u8c61\u7684\u539f\u578b\nObject.setPrototypeOf(obj, { c: 3, d: 4 });\nobj.__proto__ = { c: 3, d: 4 };\nconsole.log(obj); // \u8f93\u51fa\uff1a{ a: 1, b: 2, c: 3, d: 4 }\n"})}),"\n",(0,c.jsx)(n.h2,{id:"3-\u83b7\u53d6\u5bf9\u8c61\u7684\u53ef\u6269\u5c55\u6027",children:"3. \u83b7\u53d6\u5bf9\u8c61\u7684\u53ef\u6269\u5c55\u6027"}),"\n",(0,c.jsxs)(n.p,{children:["\u7b14\u8005\u89e3\u91ca\u5982\u4f55\u68c0\u67e5\u548c\u63a7\u5236\u5bf9\u8c61\u7684\u53ef\u6269\u5c55\u6027\u3002\u4f7f\u7528 ",(0,c.jsx)(n.code,{children:"Object.isExtensible"}),"\u3001",(0,c.jsx)(n.code,{children:"Object.seal"})," \u548c ",(0,c.jsx)(n.code,{children:"Object.freeze"})," \u65b9\u6cd5\u3002"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"const obj = { a: 1, b: 2 };\n\n// \u68c0\u67e5\u5bf9\u8c61\u662f\u5426\u53ef\u6269\u5c55\nlet isExtensible = Object.isExtensible(obj);\nconsole.log(isExtensible); // true\n\n// \u51bb\u7ed3\u5bf9\u8c61\uff0c\u4f7f\u5176\u4e0d\u53ef\u6269\u5c55\u4e14\u4e0d\u53ef\u4fee\u6539\nObject.freeze(obj);\nlet isExtensibleAfterFreeze = Object.isExtensible(obj);\nconsole.log(isExtensibleAfterFreeze); // false\n\n// \u5c01\u95ed\u5bf9\u8c61\uff0c\u4f7f\u5176\u4e0d\u53ef\u6269\u5c55\u4f46\u53ef\u4fee\u6539\u5df2\u6709\u5c5e\u6027\nObject.seal(obj);\nobj.c = 3; // \u65e0\u6548\uff0c\u5c5e\u6027\u4e0d\u4f1a\u88ab\u6dfb\u52a0\nconsole.log(obj); // { a: 1, b: 2 }\n"})}),"\n",(0,c.jsx)(n.h2,{id:"4-getownproperty",children:"4. [[GetOwnProperty]]"}),"\n",(0,c.jsxs)(n.p,{children:["\u83b7\u53d6\u5bf9\u8c61\u81ea\u8eab\u5c5e\u6027\u7684\u5c5e\u6027\u540d\u3002\u4f7f\u7528 ",(0,c.jsx)(n.code,{children:"Object.getOwnPropertyNames"})," \u65b9\u6cd5\u53ef\u4ee5\u5217\u51fa\u5bf9\u8c61\u7684\u6240\u6709\u81ea\u8eab\u5c5e\u6027\u3002"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:'const obj = { a: 1, b: 2 };\n\n// \u83b7\u53d6\u5bf9\u8c61\u7684\u81ea\u8eab\u5c5e\u6027\u540d\nObject.setPrototypeOf(obj, { c: 3, d: 4 });\nconsole.log(Object.getOwnPropertyNames(obj)); // ["a", "b"]\n'})}),"\n",(0,c.jsx)(n.h2,{id:"5-preventextensions",children:"5. [[PreventExtensions]]"}),"\n",(0,c.jsxs)(n.p,{children:["\u7981\u6b62\u6269\u5c55\u5bf9\u8c61\u3002\u4f7f\u7528 ",(0,c.jsx)(n.code,{children:"Object.preventExtensions"})," \u65b9\u6cd5\u53ef\u4ee5\u963b\u6b62\u5411\u5bf9\u8c61\u6dfb\u52a0\u65b0\u5c5e\u6027\u3002"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"const obj = { a: 1, b: 2 };\n\n// \u7981\u6b62\u6269\u5c55\u5bf9\u8c61\nObject.preventExtensions(obj);\nobj.c = 3; // \u65e0\u6548\uff0c\u5c5e\u6027\u4e0d\u4f1a\u88ab\u6dfb\u52a0\nconsole.log(obj); // { a: 1, b: 2 }\n\n// \u5220\u9664\u5c5e\u6027\ndelete obj.a;\nconsole.log(obj); // { b: 2 }\n"})}),"\n",(0,c.jsx)(n.h2,{id:"6-defineownproperty",children:"6. [[DefineOwnProperty]]"}),"\n",(0,c.jsxs)(n.p,{children:["\u5b9a\u4e49\u6216\u4fee\u6539\u5bf9\u8c61\u7684\u5c5e\u6027\u3002\u4f7f\u7528 ",(0,c.jsx)(n.code,{children:"Object.defineProperty"})," \u65b9\u6cd5\u53ef\u4ee5\u7cbe\u786e\u63a7\u5236\u5c5e\u6027\u7684\u884c\u4e3a\u3002"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"const obj = { a: 1, b: 2 };\n\n// \u5b9a\u4e49\u65b0\u7684\u5c5e\u6027\u6216\u4fee\u6539\u73b0\u6709\u5c5e\u6027\nObject.defineProperty(obj, 'c', {\n  value: 3,\n  writable: true,\n  enumerable: true,\n  configurable: true,\n});\nconsole.log(obj); // { a: 1, b: 2, c: 3 }\n"})}),"\n",(0,c.jsx)(n.h2,{id:"7-hasproperty",children:"7. [[HasProperty]]"}),"\n",(0,c.jsxs)(n.p,{children:["\u5224\u65ad\u5bf9\u8c61\u662f\u5426\u5177\u6709\u67d0\u4e2a\u5c5e\u6027\u3002\u4f7f\u7528 ",(0,c.jsx)(n.code,{children:"hasOwnProperty"})," \u65b9\u6cd5\u53ef\u4ee5\u68c0\u67e5\u5c5e\u6027\u662f\u5426\u4e3a\u5bf9\u8c61\u81ea\u8eab\u7684\u5c5e\u6027\u3002"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"const obj = { a: 1, b: 2 };\n\n// \u68c0\u67e5\u5bf9\u8c61\u662f\u5426\u5177\u6709\u5c5e\u6027 'a'\nconsole.log(obj.hasOwnProperty('a')); // true\nconsole.log(obj.hasOwnProperty('c')); // false\n"})}),"\n",(0,c.jsx)(n.h2,{id:"8-get",children:"8. [[GET]]"}),"\n",(0,c.jsxs)(n.p,{children:["\u8bbf\u95ee\u5bf9\u8c61\u7684\u5c5e\u6027\u3002\u53ef\u4ee5\u4f7f\u7528 ",(0,c.jsx)(n.code,{children:"in"})," \u64cd\u4f5c\u7b26\u6216\u76f4\u63a5\u8bbf\u95ee\u5c5e\u6027\u503c\u3002"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"const obj = { a: 1, b: 2 };\n\n// \u4f7f\u7528 'in' \u68c0\u67e5\u5c5e\u6027\u662f\u5426\u5b58\u5728\nconsole.log('a' in obj); // true\nconsole.log('c' in obj); // false\n\n// \u76f4\u63a5\u8bbf\u95ee\u5c5e\u6027\u503c\nconsole.log(obj.a); // 1\nconsole.log(obj.c); // undefined\n"})}),"\n",(0,c.jsx)(n.h2,{id:"9-set",children:"9. [[SET]]"}),"\n",(0,c.jsx)(n.p,{children:"\u8bbe\u7f6e\u5bf9\u8c61\u7684\u5c5e\u6027\u3002\u76f4\u63a5\u8d4b\u503c\u53ef\u4ee5\u4fee\u6539\u73b0\u6709\u5c5e\u6027\u6216\u6dfb\u52a0\u65b0\u5c5e\u6027\u3002"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"const obj = { a: 1, b: 2 };\n\n// \u4fee\u6539\u73b0\u6709\u5c5e\u6027\nobj.a = 3;\n\n// \u6dfb\u52a0\u65b0\u5c5e\u6027\nobj.c = 4;\n\nconsole.log(obj); // { a: 3, b: 2, c: 4 }\n"})}),"\n",(0,c.jsx)(n.h2,{id:"10-\u5220\u9664\u5c5e\u6027",children:"10. \u5220\u9664\u5c5e\u6027"}),"\n",(0,c.jsxs)(n.p,{children:["\u5220\u9664\u5bf9\u8c61\u7684\u5c5e\u6027\u3002\u4f7f\u7528 ",(0,c.jsx)(n.code,{children:"delete"})," \u64cd\u4f5c\u7b26\u53ef\u4ee5\u79fb\u9664\u5bf9\u8c61\u7684\u5c5e\u6027\u3002"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"const obj = { a: 1, b: 2 };\n\n// \u5220\u9664\u5c5e\u6027 'a'\ndelete obj.a;\n\nconsole.log(obj); // { b: 2 }\n"})}),"\n",(0,c.jsx)(n.h2,{id:"11-\u679a\u4e3e\u5c5e\u6027",children:"11. \u679a\u4e3e\u5c5e\u6027"}),"\n",(0,c.jsxs)(n.p,{children:["\u8fed\u4ee3\u5bf9\u8c61\u7684\u53ef\u679a\u4e3e\u5c5e\u6027\uff0c\u5305\u62ec\u7ee7\u627f\u7684\u5c5e\u6027\uff0c\u4f46\u4e0d\u5305\u62ec ",(0,c.jsx)(n.code,{children:"Symbol"})," \u7c7b\u578b\u7684\u5c5e\u6027\u3002"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"const obj = { a: 1, b: 2 };\n\n// \u4f7f\u7528 for...in \u8fed\u4ee3\u53ef\u679a\u4e3e\u5c5e\u6027\nfor (const key in obj) {\n  console.log(`${key}: ${obj[key]}`);\n}\n// \u8f93\u51fa:\n// a: 1\n// b: 2\n"})}),"\n",(0,c.jsx)(n.h2,{id:"12-ownpropertykeys",children:"12. OwnPropertyKeys"}),"\n",(0,c.jsxs)(n.p,{children:["\u83b7\u53d6\u5bf9\u8c61\u7684\u6240\u6709\u952e\uff0c\u5305\u62ec\u975e\u53ef\u679a\u4e3e\u7684\u5c5e\u6027\u3002\u4f7f\u7528 ",(0,c.jsx)(n.code,{children:"Object.keys"})," \u65b9\u6cd5\u53ef\u4ee5\u83b7\u53d6\u5bf9\u8c61\u7684\u53ef\u679a\u4e3e\u81ea\u8eab\u5c5e\u6027\u3002"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:'const obj = { a: 1, b: 2 };\n\n// \u83b7\u53d6\u5bf9\u8c61\u7684\u53ef\u679a\u4e3e\u81ea\u8eab\u5c5e\u6027\u952e\nconsole.log(Object.keys(obj)); // ["a", "b"]\n'})}),"\n",(0,c.jsx)(n.h2,{id:"13-call--apply--bind",children:"13. call / apply / bind"}),"\n",(0,c.jsxs)(n.p,{children:["\u8c03\u7528\u51fd\u6570\u7684\u4e0d\u540c\u65b9\u5f0f\u3002",(0,c.jsx)(n.code,{children:"call"})," \u548c ",(0,c.jsx)(n.code,{children:"apply"})," \u7528\u4e8e\u6539\u53d8\u51fd\u6570\u7684\u6267\u884c\u4e0a\u4e0b\u6587\uff0c",(0,c.jsx)(n.code,{children:"bind"})," \u7528\u4e8e\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u7ed1\u5b9a\u51fd\u6570\u3002"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"const obj = { a: 1, b: 2 };\n\nfunction greet(greeting) {\n  console.log(`${greeting}, a is ${this.a}`);\n}\n\n// \u4f7f\u7528 call\ngreet.call(obj, 'Hello'); // \u8f93\u51fa: Hello, a is 1\n\n// \u4f7f\u7528 apply\ngreet.apply(obj, ['Hi']); // \u8f93\u51fa: Hi, a is 1\n\n// \u4f7f\u7528 bind\nconst boundGreet = greet.bind(obj);\nboundGreet('Hey'); // \u8f93\u51fa: Hey, a is 1\n"})}),"\n",(0,c.jsx)(n.h2,{id:"14-new",children:"14. new"}),"\n",(0,c.jsxs)(n.p,{children:["\u521b\u5efa\u7528\u6237\u5b9a\u4e49\u7684\u5bf9\u8c61\u7c7b\u578b\u7684\u5b9e\u4f8b\u6216\u5177\u6709\u6784\u9020\u51fd\u6570\u7684\u5185\u7f6e\u5bf9\u8c61\u7684\u5b9e\u4f8b\u3002\u4f7f\u7528 ",(0,c.jsx)(n.code,{children:"new"})," \u64cd\u4f5c\u7b26\u53ef\u4ee5\u5b9e\u4f8b\u5316\u5bf9\u8c61\u3002"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"const obj = { a: 1, b: 2 };\n\nfunction Test() {\n  this.c = 3;\n}\n\nconst testInstance = new Test();\nconsole.log(testInstance); // Test { c: 3 }\n"})}),"\n",(0,c.jsx)(n.h1,{id:"proxy-\u548c-defineproperty-\u533a\u522b",children:"Proxy \u548c defineProperty \u533a\u522b"}),"\n",(0,c.jsx)(n.h2,{id:"defineproperty",children:"defineProperty"}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.code,{children:"defineProperty"})," \u65b9\u6cd5\u7528\u4e8e\u52ab\u6301\u6570\u636e\uff0c\u901a\u8fc7\u8bbe\u7f6e\u6216\u5b9a\u4e49\u5bf9\u8c61\u7684\u5c5e\u6027\uff0c\u53ef\u4ee5\u63a7\u5236\u5c5e\u6027\u7684\u884c\u4e3a\uff0c\u4f8b\u5982\u8bbe\u7f6e\u53ea\u8bfb\u5c5e\u6027\u6216\u6dfb\u52a0\u65b0\u7684\u5c5e\u6027\u3002"]}),"\n",(0,c.jsxs)(n.ol,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"defineProperty"})," \u52ab\u6301\u6570\u636e\uff0c\u7ed9\u5bf9\u8c61\u8fdb\u884c\u6269\u5c55\uff0c\u5bf9\u5c5e\u6027\u8fdb\u884c\u8bbe\u7f6e\u3002"]}),"\n",(0,c.jsxs)(n.li,{children:["\u4f8b\u5982\u4fee\u6539\u6570\u7ec4\u4e0b\u6807\u7684\u4e00\u4e9b\u65b9\u6cd5\u65f6\uff0c",(0,c.jsx)(n.code,{children:"defineProperty"})," \u7684 ",(0,c.jsx)(n.code,{children:"set"})," \u662f\u65e0\u6cd5\u89e6\u53d1\u7684\u3002"]}),"\n",(0,c.jsxs)(n.li,{children:["\u5728 ",(0,c.jsx)(n.code,{children:"Vue2.0"})," \u4e2d\uff0c\u4ee3\u7406\u662f\u901a\u8fc7\u91cd\u5199 ",(0,c.jsx)(n.code,{children:"Data"})," \u6765\u5b9e\u73b0\u7684\uff0c\u56e0\u6b64\u9700\u8981\u4f7f\u7528 ",(0,c.jsx)(n.code,{children:"defineProperty"}),"\u3002"]}),"\n"]}),"\n",(0,c.jsx)(n.h2,{id:"proxy",children:"Proxy"}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.code,{children:"Proxy"})," \u662f ",(0,c.jsx)(n.code,{children:"ES6"})," \u65b0\u589e\u7684\u6784\u9020\u51fd\u6570\uff0c\u7528\u4e8e\u521b\u5efa\u4e00\u4e2a\u5bf9\u8c61\u7684\u4ee3\u7406\uff0c\u53ef\u4ee5\u62e6\u622a\u548c\u5b9a\u4e49\u57fa\u672c\u64cd\u4f5c\u3002"]}),"\n",(0,c.jsxs)(n.ol,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"Proxy"})," \u8fd4\u56de\u4e00\u4e2a\u4ee3\u7406\u5bf9\u8c61\uff0c\u5bf9\u76ee\u6807\u5bf9\u8c61\u8fdb\u884c\u4ee3\u7406\u3002"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"Proxy"})," \u4e0d\u4ec5\u4ec5\u662f\u62e6\u622a\uff0c\u8fd8\u53ef\u4ee5\u4ee3\u7406\u5904\u7406\u5404\u79cd\u64cd\u4f5c\u3002"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"Vue3.0"})," \u4f7f\u7528\u7684\u662f ",(0,c.jsx)(n.code,{children:"Proxy"})," \u6765\u5b9e\u73b0\u54cd\u5e94\u5f0f\u6570\u636e\u3002"]}),"\n"]}),"\n",(0,c.jsx)(n.h2,{id:"\u53c2\u6570",children:"\u53c2\u6570"}),"\n",(0,c.jsxs)(n.ol,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"target"}),"\uff0c\u76ee\u6807\u5bf9\u8c61\uff0c\u5373\u8981\u8fdb\u884c\u4ee3\u7406\u7684\u5bf9\u8c61\u3002"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"handler"}),"\uff0c\u5904\u7406\u5668\uff0c\u5305\u542b\u53ef\u4ee5\u62e6\u622a\u7684\u5404\u79cd\u65b9\u6cd5\u7684\u5bf9\u8c61\uff0c\u81ea\u5b9a\u4e49\u51fd\u6570\u7684\u5404\u79cd\u529f\u80fd\u3002"]}),"\n"]}),"\n",(0,c.jsx)(n.h1,{id:"proxy-\u4ee3\u7406",children:"Proxy \u4ee3\u7406"}),"\n",(0,c.jsx)(n.h2,{id:"\u4ee3\u7406-object",children:"\u4ee3\u7406 Object"}),"\n",(0,c.jsxs)(n.p,{children:["\u7b14\u8005\u901a\u8fc7\u4ee5\u4e0b\u793a\u4f8b\u5c55\u793a\u5982\u4f55\u4f7f\u7528 ",(0,c.jsx)(n.code,{children:"Proxy"})," \u4ee3\u7406\u4e00\u4e2a\u666e\u901a\u5bf9\u8c61\uff0c\u5e76\u62e6\u622a ",(0,c.jsx)(n.code,{children:"get"})," \u548c ",(0,c.jsx)(n.code,{children:"set"})," \u64cd\u4f5c\u3002"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"const target = {\n  a: 1,\n  b: 2,\n};\n\nconst proxy = new Proxy(target, {\n  // \u62e6\u622a\u5c5e\u6027\u8bfb\u53d6\n  get(target, prop) {\n    console.log(`\u83b7\u53d6\u5c5e\u6027 ${prop}: ${target[prop]}`);\n    return target[prop];\n  },\n  // \u62e6\u622a\u5c5e\u6027\u8bbe\u7f6e\n  set(target, prop, value) {\n    target[prop] = value;\n    console.log(`\u8bbe\u7f6e\u5c5e\u6027 ${prop} \u4e3a ${value}`);\n    return true;\n  },\n});\n\nconsole.log(proxy.a); // \u83b7\u53d6\u5c5e\u6027 a: 1\nproxy.a = 3; // \u8bbe\u7f6e\u5c5e\u6027 a \u4e3a 3\nconsole.log(proxy.a); // \u83b7\u53d6\u5c5e\u6027 a: 3\n"})}),"\n",(0,c.jsx)(n.h2,{id:"\u4ee3\u7406-array",children:"\u4ee3\u7406 Array"}),"\n",(0,c.jsxs)(n.p,{children:["\u901a\u8fc7\u4ee5\u4e0b\u793a\u4f8b\uff0c\u7b14\u8005\u5c55\u793a\u4e86\u5982\u4f55\u4f7f\u7528 ",(0,c.jsx)(n.code,{children:"Proxy"})," \u4ee3\u7406\u4e00\u4e2a\u6570\u7ec4\uff0c\u5e76\u62e6\u622a\u6570\u7ec4\u7684 ",(0,c.jsx)(n.code,{children:"get"})," \u548c ",(0,c.jsx)(n.code,{children:"set"})," \u64cd\u4f5c\u3002"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"const originalArray = [\n  { name: '\u5f20\u4e09', age: 25 },\n  { name: '\u674e\u56db', age: 30 },\n  { name: '\u738b\u4e94', age: 35 },\n];\n\nconst proxyArray = new Proxy(originalArray, {\n  // \u62e6\u622a\u5c5e\u6027\u8bfb\u53d6\n  get(target, prop) {\n    if (prop in target) {\n      console.log(`\u8bfb\u53d6\u7d22\u5f15 ${prop}:`, target[prop]);\n      return target[prop];\n    }\n    return undefined;\n  },\n  // \u62e6\u622a\u5c5e\u6027\u8bbe\u7f6e\n  set(target, prop, value) {\n    target[prop] = value;\n    console.log(`\u8bbe\u7f6e\u7d22\u5f15 ${prop} \u4e3a`, value);\n    return true;\n  },\n});\n\nproxyArray[1] = { name: '\u5c0f\u5f20', age: 28 }; // \u8bbe\u7f6e\u7d22\u5f15 1 \u4e3a { name: '\u5c0f\u5f20', age: 28 }\nconsole.log(proxyArray[1]); // \u8bfb\u53d6\u7d22\u5f15 1: { name: '\u5c0f\u5f20', age: 28 }\n"})}),"\n",(0,c.jsx)(n.h2,{id:"\u4ee3\u7406-function",children:"\u4ee3\u7406 Function"}),"\n",(0,c.jsxs)(n.p,{children:["\u4ee5\u4e0b\u793a\u4f8b\u5c55\u793a\u4e86\u5982\u4f55\u4f7f\u7528 ",(0,c.jsx)(n.code,{children:"Proxy"})," \u4ee3\u7406\u4e00\u4e2a\u51fd\u6570\uff0c\u5e76\u62e6\u622a\u5176\u5c5e\u6027\u8bbf\u95ee\u3002"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"const fn = function () {\n  console.log('\u6267\u884c\u51fd\u6570 fn');\n};\n\nfn.a = 123;\n\nconst proxyFn = new Proxy(fn, {\n  // \u62e6\u622a\u5c5e\u6027\u8bfb\u53d6\n  get(target, prop) {\n    if (prop in target) {\n      return `${target[prop]} \u8fd4\u56de\u7684 fn`;\n    }\n    return undefined;\n  },\n});\n\nconsole.log(proxyFn.a); // \u8f93\u51fa: 123 \u8fd4\u56de\u7684 fn\nproxyFn(); // \u8f93\u51fa: \u6267\u884c\u51fd\u6570 fn\n"})}),"\n",(0,c.jsx)(n.h1,{id:"\u5b9e\u73b0-myproxy",children:"\u5b9e\u73b0 MyProxy"}),"\n",(0,c.jsxs)(n.p,{children:["\u7b14\u8005\u901a\u8fc7\u5b9e\u73b0\u4e00\u4e2a\u7b80\u5355\u7684 ",(0,c.jsx)(n.code,{children:"MyProxy"})," \u51fd\u6570\uff0c\u6f14\u793a\u4e86\u5982\u4f55\u6a21\u4eff ",(0,c.jsx)(n.code,{children:"Proxy"})," \u7684\u57fa\u672c\u529f\u80fd\u3002"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"function MyProxy(target, handler) {\n  const proxyTarget = deepClone(target);\n\n  Object.keys(proxyTarget).forEach((key) => {\n    Object.defineProperty(proxyTarget, key, {\n      get() {\n        return handler.get ? handler.get(target, key) : target[key];\n      },\n      set(newVal) {\n        if (handler.set) {\n          handler.set(target, key, newVal);\n        } else {\n          target[key] = newVal;\n        }\n      },\n      enumerable: true,\n      configurable: true,\n    });\n  });\n\n  return proxyTarget;\n\n  // \u6df1\u62f7\u8d1d\u51fd\u6570\n  function deepClone(original, clone = {}) {\n    const toStr = Object.prototype.toString;\n    const arrType = '[object Array]';\n\n    for (const key in original) {\n      if (original.hasOwnProperty(key)) {\n        if (typeof original[key] === 'object' && original[key] !== null) {\n          clone[key] = toStr.call(original[key]) === arrType ? [] : {};\n          deepClone(original[key], clone[key]);\n        } else {\n          clone[key] = original[key];\n        }\n      }\n    }\n    return clone;\n  }\n}\n\nconst target = {\n  a: 1,\n  b: 2,\n};\n\nconst proxy = new MyProxy(target, {\n  get(target, prop) {\n    return target[prop];\n  },\n  set(target, prop, value) {\n    target[prop] = value;\n  },\n});\n\nconsole.log(proxy.a); // \u8f93\u51fa: 1\nproxy.b = 4;\nconsole.log(proxy.b); // \u8f93\u51fa: 4\n"})}),"\n",(0,c.jsx)(n.h1,{id:"\u66f4\u591a\u7684-proxy-\u6355\u83b7\u5668",children:"\u66f4\u591a\u7684 Proxy \u6355\u83b7\u5668"}),"\n",(0,c.jsxs)(n.p,{children:["\u7b14\u8005\u63a8\u8350\u53c2\u8003 ",(0,c.jsx)(n.a,{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy#handler_%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%96%B9%E6%B3%95",children:"Proxy - JavaScript | MDN"})," \u4ee5\u4e86\u89e3\u66f4\u591a ",(0,c.jsx)(n.code,{children:"Proxy"})," \u7684\u6355\u83b7\u5668\u548c\u7528\u6cd5\u3002"]}),"\n",(0,c.jsx)(n.h1,{id:"reflect",children:"Reflect"}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.code,{children:"Reflect"})," \u662f ",(0,c.jsx)(n.code,{children:"ES6"})," \u7684\u5185\u7f6e\u5bf9\u8c61\uff0c\u4f5c\u4e3a\u65b9\u6cd5\u7684\u96c6\u5408\u5bb9\u5668\u3002\u6700\u521d\u7684 ",(0,c.jsx)(n.code,{children:"14"})," \u79cd\u65b9\u6cd5\u90fd\u662f\u653e\u5728 ",(0,c.jsx)(n.code,{children:"Object"})," \u4e0a\uff0c\u4f46\u968f\u7740 ",(0,c.jsx)(n.code,{children:"Reflect"})," \u7684\u5f15\u5165\uff0c\u8bb8\u591a\u64cd\u4f5c\u88ab\u79fb\u52a8\u5230\u4e86 ",(0,c.jsx)(n.code,{children:"Reflect"}),"\uff0c\u4f7f\u5f97 API \u66f4\u52a0\u4e00\u81f4\u548c\u51fd\u6570\u5316\u3002"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"const target = {\n  a: 1,\n  b: 2,\n};\n\nconst proxy = new Proxy(target, {\n  get(target, prop) {\n    // \u4f7f\u7528 Reflect.get \u83b7\u53d6\u5c5e\u6027\u503c\n    return Reflect.get(target, prop);\n  },\n  set(target, prop, value) {\n    // \u4f7f\u7528 Reflect.set \u8bbe\u7f6e\u5c5e\u6027\u503c\n    const isSuccess = Reflect.set(target, prop, value);\n\n    if (isSuccess) {\n      console.log('\u5c5e\u6027\u8bbe\u7f6e\u6210\u529f');\n    }\n    return isSuccess;\n  },\n});\n\n// \u4f7f\u7528\u4ee3\u7406\u83b7\u53d6\u548c\u8bbe\u7f6e\u5c5e\u6027\nconsole.log(proxy.a); // \u8f93\u51fa: 1\nproxy.b = 4; // \u8f93\u51fa: \u5c5e\u6027\u8bbe\u7f6e\u6210\u529f\nconsole.log(proxy.b); // \u8f93\u51fa: 4\n"})}),"\n",(0,c.jsx)(n.h2,{id:"\u65b9\u6cd5\u5728-reflect-\u7684\u597d\u5904",children:"\u65b9\u6cd5\u5728 Reflect \u7684\u597d\u5904"}),"\n",(0,c.jsxs)(n.ol,{children:["\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"\u7edf\u4e00\u7684\u65b9\u6cd5\u96c6\u5408"}),"\uff1a\u672a\u6765\u4f1a\u6709\u66f4\u591a\u65b9\u6cd5\u88ab\u6dfb\u52a0\u5230 ",(0,c.jsx)(n.code,{children:"Reflect"})," \u4e0a\uff0c\u4f7f\u5f97 ",(0,c.jsx)(n.code,{children:"Object"})," \u4e0a\u7684\u65b9\u6cd5\u66f4\u52a0\u7b80\u6d01\u3002"]}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"\u51fd\u6570\u5f0f\u7f16\u7a0b"}),"\uff1a",(0,c.jsx)(n.code,{children:"Reflect"})," \u63d0\u4f9b\u4e86\u4e00\u79cd\u66f4\u7b26\u5408\u51fd\u6570\u5f0f\u7f16\u7a0b\u7684\u65b9\u5f0f\u6765\u64cd\u4f5c\u5bf9\u8c61\u3002"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"const obj = { a: 1 };\nconsole.log(Reflect.has(obj, 'a')); // true\uff0c\u76f8\u5f53\u4e8e 'a' in obj\n"})}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"\u5168\u5c40\u5bf9\u8c61"}),"\uff1a",(0,c.jsx)(n.code,{children:"Reflect"})," \u662f\u4e00\u4e2a\u5168\u5c40\u7684\u5185\u7f6e\u5bf9\u8c61\uff0c\u63d0\u4f9b\u9759\u6001\u65b9\u6cd5\uff0c\u65e0\u9700\u5b9e\u4f8b\u5316\u5373\u53ef\u4f7f\u7528\u3002"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.img,{src:r(62119).A+"",width:"980",height:"643"})}),"\n",(0,c.jsx)(n.h1,{id:"\u5b8c\u6574\u793a\u4f8b",children:"\u5b8c\u6574\u793a\u4f8b"}),"\n",(0,c.jsxs)(n.p,{children:["\u7ed3\u5408 ",(0,c.jsx)(n.code,{children:"Proxy"})," \u548c ",(0,c.jsx)(n.code,{children:"Reflect"}),"\uff0c\u7b14\u8005\u5c55\u793a\u4e86\u5982\u4f55\u521b\u5efa\u4e00\u4e2a\u66f4\u52a0\u5065\u58ee\u548c\u7075\u6d3b\u7684\u4ee3\u7406\u5bf9\u8c61\u3002"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"const target = {\n  a: 1,\n  b: 2,\n};\n\nconst handler = {\n  get(target, prop, receiver) {\n    console.log(`\u83b7\u53d6\u5c5e\u6027 ${prop}`);\n    return Reflect.get(target, prop, receiver);\n  },\n  set(target, prop, value, receiver) {\n    console.log(`\u8bbe\u7f6e\u5c5e\u6027 ${prop} \u4e3a ${value}`);\n    return Reflect.set(target, prop, value, receiver);\n  },\n  deleteProperty(target, prop) {\n    console.log(`\u5220\u9664\u5c5e\u6027 ${prop}`);\n    return Reflect.deleteProperty(target, prop);\n  },\n};\n\nconst proxy = new Proxy(target, handler);\n\nconsole.log(proxy.a); // \u83b7\u53d6\u5c5e\u6027 a \\n 1\nproxy.b = 3; // \u8bbe\u7f6e\u5c5e\u6027 b \u4e3a 3\ndelete proxy.a; // \u5220\u9664\u5c5e\u6027 a\nconsole.log(target); // { b: 3 }\n"})}),"\n",(0,c.jsxs)(n.p,{children:["\u901a\u8fc7\u4e0a\u8ff0\u793a\u4f8b\uff0c\u7b14\u8005\u5c55\u793a\u4e86\u5982\u4f55\u5229\u7528 ",(0,c.jsx)(n.code,{children:"Proxy"})," \u548c ",(0,c.jsx)(n.code,{children:"Reflect"})," \u6765\u62e6\u622a\u548c\u63a7\u5236\u5bf9\u8c61\u7684\u57fa\u672c\u64cd\u4f5c\uff0c\u4ece\u800c\u5b9e\u73b0\u66f4\u590d\u6742\u7684\u529f\u80fd\uff0c\u5982\u65e5\u5fd7\u8bb0\u5f55\u3001\u6570\u636e\u9a8c\u8bc1\u7b49\u3002"]})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(d,{...e})}):d(e)}},62119:(e,n,r)=>{r.d(n,{A:()=>o});const o=r.p+"assets/images/866bc271335358d6fea41e6c3c01e918-72dd2f407c0c0909f84f035c8f6a9a48.png"},28453:(e,n,r)=>{r.d(n,{R:()=>l,x:()=>s});var o=r(96540);const c={},t=o.createContext(c);function l(e){const n=o.useContext(t);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:l(e.components),o.createElement(t.Provider,{value:n},e.children)}}}]);