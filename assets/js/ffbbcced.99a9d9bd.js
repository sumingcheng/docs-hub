"use strict";(self.webpackChunknote_book=self.webpackChunknote_book||[]).push([["92923"],{39393:function(e,n,s){s.r(n),s.d(n,{assets:function(){return i},contentTitle:function(){return d},default:function(){return u},frontMatter:function(){return c},metadata:function(){return t},toc:function(){return l}});var t=s(42327),o=s(85893),r=s(50065);let c={slug:"linux-\u4E0D\u8F93\u5165\u5BC6\u7801\u83B7\u53D6-root-\u6743\u9650",title:"Linux \u4E0D\u8F93\u5165\u5BC6\u7801\u83B7\u53D6 root \u6743\u9650",authors:["sumingcheng"],tags:["dev-tools"],date:new Date("2024-10-28T00:00:00.000Z")},d="Linux \u4E0D\u8F93\u5165\u5BC6\u7801\u83B7\u53D6 root \u6743\u9650",i={authorsImageUrls:[void 0]},l=[{value:"\u4FEE\u6539sudoers\u6587\u4EF6\u4EE5\u514D\u5BC6\u7801\u6267\u884Csudo\uFF08\u63A8\u8350\uFF09",id:"\u4FEE\u6539sudoers\u6587\u4EF6\u4EE5\u514D\u5BC6\u7801\u6267\u884Csudo\u63A8\u8350",level:2},{value:"\u8BBE\u7F6Eroot\u7528\u6237\u7684\u81EA\u52A8\u767B\u5F55",id:"\u8BBE\u7F6Eroot\u7528\u6237\u7684\u81EA\u52A8\u767B\u5F55",level:2},{value:"\u7981\u7528root\u7528\u6237\u5BC6\u7801",id:"\u7981\u7528root\u7528\u6237\u5BC6\u7801",level:2},{value:"\u4F7F\u7528ssh\u516C\u94A5\u8BA4\u8BC1",id:"\u4F7F\u7528ssh\u516C\u94A5\u8BA4\u8BC1",level:2}];function h(e){let n={code:"code",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,r.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h2,{id:"\u4FEE\u6539sudoers\u6587\u4EF6\u4EE5\u514D\u5BC6\u7801\u6267\u884Csudo\u63A8\u8350",children:"\u4FEE\u6539sudoers\u6587\u4EF6\u4EE5\u514D\u5BC6\u7801\u6267\u884Csudo\uFF08\u63A8\u8350\uFF09"}),"\n",(0,o.jsxs)(n.p,{children:["\u53EF\u4EE5\u901A\u8FC7\u4FEE\u6539 ",(0,o.jsx)(n.code,{children:"sudoers"})," \u6587\u4EF6\u4E3A\u7279\u5B9A\u7528\u6237\u914D\u7F6E\u65E0\u5BC6\u7801 ",(0,o.jsx)(n.code,{children:"sudo"})," \u6743\u9650"]}),"\n",(0,o.jsxs)(n.p,{children:["\u4F7F\u7528 ",(0,o.jsx)(n.code,{children:"visudo"})," \u547D\u4EE4\u5B89\u5168\u7F16\u8F91 ",(0,o.jsx)(n.code,{children:"sudoers"})," \u6587\u4EF6"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"sudo visudo\n"})}),"\n",(0,o.jsxs)(n.p,{children:["\u5728\u6587\u4EF6\u4E2D\u6DFB\u52A0\u6216\u4FEE\u6539\u4EE5\u4E0B\u884C\uFF0C\u66FF\u6362 ",(0,o.jsx)(n.code,{children:"your_username"})," \u4E3A\u5B9E\u9645\u7684\u7528\u6237\u540D"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"your_username ALL=(ALL) NOPASSWD: ALL\n"})}),"\n",(0,o.jsx)(n.p,{children:"\u4FDD\u5B58\u5E76\u9000\u51FA\u7F16\u8F91\u5668\u3002"}),"\n",(0,o.jsxs)(n.p,{children:["\u8FD9\u6837\u914D\u7F6E\u540E\uFF0C\u7528\u6237\u5728\u6267\u884C ",(0,o.jsx)(n.code,{children:"sudo"})," \u547D\u4EE4\u65F6\u65E0\u9700\u8F93\u5165\u5BC6\u7801\uFF0C\u4F8B\u5982\u4F7F\u7528 ",(0,o.jsx)(n.code,{children:"sudo su"})," \u53EF\u4EE5\u76F4\u63A5\u5207\u6362\u5230 ",(0,o.jsx)(n.code,{children:"root"})," \u7528\u6237\u3002"]}),"\n",(0,o.jsx)(n.h2,{id:"\u8BBE\u7F6Eroot\u7528\u6237\u7684\u81EA\u52A8\u767B\u5F55",children:"\u8BBE\u7F6Eroot\u7528\u6237\u7684\u81EA\u52A8\u767B\u5F55"}),"\n",(0,o.jsxs)(n.p,{children:["\u5BF9\u4E8E\u90E8\u5206 Linux \u53D1\u884C\u7248\uFF0C\u53EF\u4EE5\u8BBE\u7F6E\u5728\u542F\u52A8\u65F6\u81EA\u52A8\u767B\u5F55 ",(0,o.jsx)(n.code,{children:"root"})," \u7528\u6237"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsxs)(n.strong,{children:["\u5BF9\u4E8E\u4F7F\u7528 SysVinit \u7684\u7CFB\u7EDF\uFF0C\u7F16\u8F91 ",(0,o.jsx)(n.code,{children:"/etc/inittab"})," \u6587\u4EF6"]})}),"\n",(0,o.jsxs)(n.p,{children:["\u6253\u5F00 ",(0,o.jsx)(n.code,{children:"/etc/inittab"}),"\uFF0C\u627E\u5230\u4EE5\u4E0B\u884C"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"1:2345:respawn:/sbin/getty 38400 tty1\n"})}),"\n",(0,o.jsx)(n.p,{children:"\u4FEE\u6539\u4E3A"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"1:2345:respawn:/sbin/getty --autologin root 38400 tty1\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsxs)(n.strong,{children:["\u5BF9\u4E8E\u4F7F\u7528 ",(0,o.jsx)(n.code,{children:"systemd"})," \u7684\u7CFB\u7EDF\uFF0C\u4FEE\u6539 ",(0,o.jsx)(n.code,{children:"getty"})," \u670D\u52A1\u914D\u7F6E"]})}),"\n",(0,o.jsx)(n.p,{children:"\u521B\u5EFA\u8986\u76D6\u6587\u4EF6"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"sudo mkdir -p /etc/systemd/system/getty@tty1.service.d/\nsudo nano /etc/systemd/system/getty@tty1.service.d/override.conf\n"})}),"\n",(0,o.jsx)(n.p,{children:"\u6DFB\u52A0\u4EE5\u4E0B\u5185\u5BB9"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"[Service]\nExecStart=\nExecStart=-/sbin/agetty --autologin root --noclear %I $TERM\n"})}),"\n",(0,o.jsxs)(n.p,{children:["\u5237\u65B0 ",(0,o.jsx)(n.code,{children:"systemd"})," \u914D\u7F6E\u5E76\u91CD\u542F\u670D\u52A1"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"sudo systemctl daemon-reload\nsudo systemctl restart getty@tty1.service\n"})}),"\n",(0,o.jsx)(n.h2,{id:"\u7981\u7528root\u7528\u6237\u5BC6\u7801",children:"\u7981\u7528root\u7528\u6237\u5BC6\u7801"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"\u4E0D\u5EFA\u8BAE\u6B64\u65B9\u6CD5"}),"\uFF0C\u4F46\u4E5F\u53EF\u4EE5\u901A\u8FC7\u5220\u9664 ",(0,o.jsx)(n.code,{children:"root"})," \u7528\u6237\u7684\u5BC6\u7801\u5B9E\u73B0\u65E0\u5BC6\u7801\u767B\u5F55"]}),"\n",(0,o.jsxs)(n.p,{children:["\u4F7F\u7528\u4EE5\u4E0B\u547D\u4EE4\u5220\u9664 ",(0,o.jsx)(n.code,{children:"root"})," \u7528\u6237\u5BC6\u7801"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"sudo passwd -d root\n"})}),"\n",(0,o.jsx)(n.h2,{id:"\u4F7F\u7528ssh\u516C\u94A5\u8BA4\u8BC1",children:"\u4F7F\u7528ssh\u516C\u94A5\u8BA4\u8BC1"}),"\n",(0,o.jsxs)(n.p,{children:["\u901A\u8FC7\u914D\u7F6E ",(0,o.jsx)(n.code,{children:"ssh"})," \u5141\u8BB8\u4F7F\u7528\u516C\u94A5\u8FDB\u884C\u8EAB\u4EFD\u9A8C\u8BC1\uFF0C\u4ECE\u800C\u65E0\u9700\u5BC6\u7801\u76F4\u63A5\u767B\u5F55\u5230 ",(0,o.jsx)(n.code,{children:"root"})," \u7528\u6237"]}),"\n",(0,o.jsxs)(n.p,{children:["\u786E\u4FDD ",(0,o.jsx)(n.code,{children:"ssh"})," \u670D\u52A1\u7684\u914D\u7F6E\u6587\u4EF6 ",(0,o.jsx)(n.code,{children:"/etc/ssh/sshd_config"})," \u4E2D\u542F\u7528\u4E86\u516C\u94A5\u8BA4\u8BC1"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"PubkeyAuthentication yes\n"})}),"\n",(0,o.jsxs)(n.p,{children:["\u5728 ",(0,o.jsx)(n.code,{children:"root"})," \u7528\u6237\u7684",(0,o.jsx)(n.code,{children:"home"}),"\u76EE\u5F55\u4E0B\uFF0C\u5C06\u7528\u6237\u7684\u516C\u94A5\u6DFB\u52A0\u5230 ",(0,o.jsx)(n.code,{children:"~/.ssh/authorized_keys"})," \u6587\u4EF6\u4E2D\u3002"]}),"\n",(0,o.jsx)(n.p,{children:"\u786E\u4FDD\u5BA2\u6237\u7AEF\u7684\u79C1\u94A5\u5B89\u5168\uFF0C\u4E14\u4E0D\u88AB\u672A\u6388\u6743\u7528\u6237\u8BBF\u95EE\u3002"})]})}function u(e={}){let{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},50065:function(e,n,s){s.d(n,{Z:function(){return d},a:function(){return c}});var t=s(67294);let o={},r=t.createContext(o);function c(e){let n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:c(e.components),t.createElement(r.Provider,{value:n},e.children)}},42327:function(e){e.exports=JSON.parse('{"permalink":"/docs-hub/blog/linux-\u4E0D\u8F93\u5165\u5BC6\u7801\u83B7\u53D6-root-\u6743\u9650","editUrl":"https://github.com/sumingcheng/docs-hub/blog/\u5F00\u53D1\u5DE5\u5177\u4E0E\u73AF\u5883/2024-10-28-Linux_\u4E0D\u8F93\u5165\u5BC6\u7801\u83B7\u53D6_root_\u6743\u9650.md","source":"@site/blog/\u5F00\u53D1\u5DE5\u5177\u4E0E\u73AF\u5883/2024-10-28-Linux_\u4E0D\u8F93\u5165\u5BC6\u7801\u83B7\u53D6_root_\u6743\u9650.md","title":"Linux \u4E0D\u8F93\u5165\u5BC6\u7801\u83B7\u53D6 root \u6743\u9650","description":"\u4FEE\u6539sudoers\u6587\u4EF6\u4EE5\u514D\u5BC6\u7801\u6267\u884Csudo\uFF08\u63A8\u8350\uFF09","date":"2024-10-28T00:00:00.000Z","tags":[{"inline":false,"label":"\u5F00\u53D1\u5DE5\u5177\u4E0E\u73AF\u5883","permalink":"/docs-hub/blog/tags/dev-tools","description":"\u5F00\u53D1\u5DE5\u5177\u548C\u73AF\u5883\u914D\u7F6E\u76F8\u5173\u6587\u7AE0"}],"readingTime":1.3633333333333333,"hasTruncateMarker":false,"authors":[{"name":"\u7D20\u660E\u8BDA","title":"Full stack development","url":"https://github.com/sumingcheng","page":{"permalink":"/docs-hub/blog/authors/sumingcheng"},"socials":{"x":"https://x.com/sumingcheng","github":"https://github.com/sumingcheng"},"imageURL":"https://github.com/user-attachments/assets/9a06bd55-094a-4efc-91c3-d1b92236822f","key":"sumingcheng"}],"frontMatter":{"slug":"linux-\u4E0D\u8F93\u5165\u5BC6\u7801\u83B7\u53D6-root-\u6743\u9650","title":"Linux \u4E0D\u8F93\u5165\u5BC6\u7801\u83B7\u53D6 root \u6743\u9650","authors":["sumingcheng"],"tags":["dev-tools"],"date":"2024-10-28T00:00:00.000Z"},"unlisted":false,"prevItem":{"title":"\u89E3\u51B3 Vue \u4E2D\u7684\u4E8B\u4EF6\u5192\u6CE1\u95EE\u9898","permalink":"/docs-hub/blog/\u89E3\u51B3-vue-\u4E2D\u7684\u4E8B\u4EF6\u5192\u6CE1\u95EE\u9898"},"nextItem":{"title":"Whispercpp \u5B89\u88C5\u4E0E\u4F7F\u7528\u6559\u7A0B","permalink":"/docs-hub/blog/whispercpp-\u5B89\u88C5\u4E0E\u4F7F\u7528\u6559\u7A0B"}}')}}]);