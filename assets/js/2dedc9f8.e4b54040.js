"use strict";(self.webpackChunknote_book=self.webpackChunknote_book||[]).push([["89513"],{67761:function(e,n,d){d.r(n),d.d(n,{default:()=>x,frontMatter:()=>l,metadata:()=>s,assets:()=>i,toc:()=>t,contentTitle:()=>c});var s=JSON.parse('{"id":"Frontend/Node/commonJS","title":"CommonJS \u6A21\u5757\u89C4\u8303","description":"CommonJS \u662F Node.js \u4F7F\u7528\u7684\u6A21\u5757\u89C4\u8303,\u5B83\u6709\u4EE5\u4E0B\u51E0\u4E2A\u7279\u70B9:","source":"@site/docs/Frontend/Node/40.commonJS.md","sourceDirName":"Frontend/Node","slug":"/Frontend/Node/commonJS","permalink":"/docs-hub/Frontend/Node/commonJS","draft":false,"unlisted":false,"editUrl":"https://github.com/sumingcheng/docs-hub/edit/main/docs/Frontend/Node/40.commonJS.md","tags":[],"version":"current","lastUpdatedBy":"sumingcheng","lastUpdatedAt":1734249440000,"sidebarPosition":40,"frontMatter":{},"sidebar":"nodeSidebar","previous":{"title":"Node \u4E8B\u4EF6\u5FAA\u73AF\u673A\u5236","permalink":"/docs-hub/Frontend/Node/Node\u4E8B\u4EF6\u73AF"},"next":{"title":"Node.js \u521B\u5EFA\u5B50\u8FDB\u7A0B\u7684\u51E0\u79CD\u65B9\u5F0F","permalink":"/docs-hub/Frontend/Node/\u521B\u5EFA\u5B50\u8FDB\u7A0B"}}'),o=d("85893"),r=d("50065");let l={},c="CommonJS \u6A21\u5757\u89C4\u8303",i={},t=[{value:"\u6A21\u5757\u7684\u5206\u7C7B",id:"\u6A21\u5757\u7684\u5206\u7C7B",level:2},{value:"\u6838\u5FC3\u6A21\u5757",id:"\u6838\u5FC3\u6A21\u5757",level:3},{value:"\u6587\u4EF6\u6A21\u5757",id:"\u6587\u4EF6\u6A21\u5757",level:3},{value:"\u5FAA\u73AF\u4F9D\u8D56",id:"\u5FAA\u73AF\u4F9D\u8D56",level:3},{value:"\u6A21\u5757\u52A0\u8F7D\u6D41\u7A0B",id:"\u6A21\u5757\u52A0\u8F7D\u6D41\u7A0B",level:2},{value:"module \u5BF9\u8C61",id:"module-\u5BF9\u8C61",level:2},{value:"exports \u548C module.exports \u7684\u533A\u522B",id:"exports-\u548C-moduleexports-\u7684\u533A\u522B",level:2}];function a(e){let n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",...(0,r.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"commonjs-\u6A21\u5757\u89C4\u8303",children:"CommonJS \u6A21\u5757\u89C4\u8303"})}),"\n",(0,o.jsx)(n.p,{children:"CommonJS \u662F Node.js \u4F7F\u7528\u7684\u6A21\u5757\u89C4\u8303,\u5B83\u6709\u4EE5\u4E0B\u51E0\u4E2A\u7279\u70B9:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"\u4E00\u4E2A\u6587\u4EF6\u5C31\u662F\u4E00\u4E2A\u6A21\u5757,\u62E5\u6709\u5355\u72EC\u7684\u4F5C\u7528\u57DF\u3002"}),"\n",(0,o.jsx)(n.li,{children:"\u666E\u901A\u5B9A\u4E49\u7684\u53D8\u91CF\u3001\u51FD\u6570\u3001\u5BF9\u8C61\u90FD\u5C5E\u4E8E\u6A21\u5757\u5185\u90E8,\u5916\u90E8\u65E0\u6CD5\u8BBF\u95EE\u3002"}),"\n",(0,o.jsxs)(n.li,{children:["\u901A\u8FC7",(0,o.jsx)(n.code,{children:"require()"}),"\u51FD\u6570\u6765\u52A0\u8F7D\u6A21\u5757\u3002"]}),"\n",(0,o.jsxs)(n.li,{children:["\u901A\u8FC7",(0,o.jsx)(n.code,{children:"exports"}),"\u6216",(0,o.jsx)(n.code,{children:"module.exports"}),"\u6765\u66B4\u9732\u6A21\u5757\u4E2D\u7684\u5185\u5BB9\u3002"]}),"\n",(0,o.jsxs)(n.li,{children:["\u5728 Node.js \u4E2D,",(0,o.jsx)(n.code,{children:"global"}),"\u5BF9\u8C61\u4EE3\u8868\u5168\u5C40\u4F5C\u7528\u57DF,\u7C7B\u4F3C\u4E8E\u6D4F\u89C8\u5668\u4E2D\u7684",(0,o.jsx)(n.code,{children:"window"}),"\u5BF9\u8C61\u3002"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"\u4E0B\u9762\u662F\u4E00\u4E2A\u7B80\u5355\u7684\u793A\u4F8B,\u5C55\u793A\u4E86\u6A21\u5757\u7684\u57FA\u672C\u7528\u6CD5:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"// \u5728\u4E00\u4E2A\u6A21\u5757\u5185\u90E8\u5B9A\u4E49\u53D8\u91CF\nvar a = 100;\nconsole.log(a); // \u8F93\u51FA100\nconsole.log(arguments);\n// \u4E00\u4E2A\u6587\u4EF6\u5C31\u662F\u4E00\u4E2A\u6A21\u5757,\u5728\u5355\u4E2A\u6587\u4EF6\u5185\u90E8\u65E0\u6CD5\u8BBF\u95EE\u5168\u5C40\u4F5C\u7528\u57DF\u4E2D\u7684\u53D8\u91CFa\n// \u6BCF\u4E2A\u6A21\u5757\u90FD\u6709\u81EA\u5DF1\u72EC\u7ACB\u7684\u4F5C\u7528\u57DF\n"})}),"\n",(0,o.jsx)(n.h2,{id:"\u6A21\u5757\u7684\u5206\u7C7B",children:"\u6A21\u5757\u7684\u5206\u7C7B"}),"\n",(0,o.jsx)(n.h3,{id:"\u6838\u5FC3\u6A21\u5757",children:"\u6838\u5FC3\u6A21\u5757"}),"\n",(0,o.jsx)(n.p,{children:"Node.js \u5185\u7F6E\u7684\u6A21\u5757\u79F0\u4E3A\u6838\u5FC3\u6A21\u5757,\u5728\u5F15\u5165\u65F6\u4F1A\u88AB\u81EA\u52A8\u52A0\u8F7D,\u52A0\u8F7D\u901F\u5EA6\u6700\u5FEB\u3002\u4F8B\u5982:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"const fs = require('fs');\n"})}),"\n",(0,o.jsx)(n.p,{children:"\u5F15\u5165\u6838\u5FC3\u6A21\u5757\u65F6,\u4E5F\u53EF\u4EE5\u4F7F\u7528\u89E3\u6784\u8D4B\u503C\u7684\u65B9\u5F0F:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"const { readFile } = require('fs');\n"})}),"\n",(0,o.jsx)(n.h3,{id:"\u6587\u4EF6\u6A21\u5757",children:"\u6587\u4EF6\u6A21\u5757"}),"\n",(0,o.jsxs)(n.p,{children:["\u9664\u4E86\u6838\u5FC3\u6A21\u5757\u5916,\u6211\u4EEC\u4E5F\u53EF\u4EE5\u81EA\u5B9A\u4E49\u6A21\u5757\u5E76\u5F15\u5165\u3002\u5F15\u5165\u6587\u4EF6\u6A21\u5757\u9700\u8981\u63D0\u4F9B\u6587\u4EF6\u7684\u8DEF\u5F84,\u5F15\u5165\u901F\u5EA6\u76F8\u5BF9\u8F83\u6162\u3002\u5982\u679C\u591A\u6B21\u5F15\u7528\u540C\u4E00\u4E2A\u6587\u4EF6\u6A21\u5757,\u90A3\u4E48\u53EA\u4F1A\u6267\u884C\u4E00\u6B21,\u4E4B\u540E\u4F1A\u76F4\u63A5\u4ECE\u7F13\u5B58\u4E2D\u8BFB\u53D6\u3002\u6587\u4EF6\u6A21\u5757\u4F1A\u88AB\u7F13\u5B58\u5230",(0,o.jsx)(n.code,{children:"Module._cache"}),"\u5BF9\u8C61\u4E2D\u3002"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"const myModule = require('./myModule');\n"})}),"\n",(0,o.jsx)(n.h3,{id:"\u5FAA\u73AF\u4F9D\u8D56",children:"\u5FAA\u73AF\u4F9D\u8D56"}),"\n",(0,o.jsx)(n.p,{children:"\u5F53\u591A\u4E2A\u6A21\u5757\u4E4B\u95F4\u5B58\u5728\u5FAA\u73AF\u4F9D\u8D56\u65F6,Node.js \u6A21\u5757\u673A\u5236\u4E0D\u4F1A\u51FA\u73B0\u6B7B\u5FAA\u73AF\u3002Node.js \u53EA\u4F1A\u8F93\u51FA\u5DF2\u7ECF\u6267\u884C\u5B8C\u6BD5\u7684\u90E8\u5206,\u8FD8\u672A\u6267\u884C\u7684\u90E8\u5206\u4E0D\u4F1A\u88AB\u52A0\u8F7D\u3002"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:d(45125).Z+"",width:"1522",height:"320"})}),"\n",(0,o.jsx)(n.h2,{id:"\u6A21\u5757\u52A0\u8F7D\u6D41\u7A0B",children:"\u6A21\u5757\u52A0\u8F7D\u6D41\u7A0B"}),"\n",(0,o.jsxs)(n.p,{children:["\u5F53\u4F7F\u7528",(0,o.jsx)(n.code,{children:"require()"}),"\u52A0\u8F7D\u4E00\u4E2A\u6A21\u5757\u65F6,Node.js \u4F1A\u6309\u7167\u4EE5\u4E0B\u987A\u5E8F\u67E5\u627E\u6A21\u5757:"]}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"\u68C0\u67E5\u662F\u5426\u662F\u6838\u5FC3\u6A21\u5757,\u5982\u679C\u662F\u5219\u76F4\u63A5\u8FD4\u56DE\u6838\u5FC3\u6A21\u5757,\u4E0D\u518D\u7EE7\u7EED\u67E5\u627E\u3002"}),"\n",(0,o.jsx)(n.li,{children:"\u786E\u5B9A\u6A21\u5757\u6807\u8BC6,\u5C06\u76F8\u5BF9\u8DEF\u5F84\u8F6C\u4E3A\u7EDD\u5BF9\u8DEF\u5F84\u3002"}),"\n",(0,o.jsx)(n.li,{children:"\u68C0\u67E5\u662F\u5426\u6709\u7F13\u5B58,\u5982\u679C\u6709\u5219\u76F4\u63A5\u8FD4\u56DE\u7F13\u5B58\u3002"}),"\n",(0,o.jsxs)(n.li,{children:["\u52A0\u8F7D\u6A21\u5757,\u5982\u679C\u662F\u6587\u4EF6\u6A21\u5757\u5219\u6309\u7167\u6587\u4EF6\u6269\u5C55\u540D\u7684\u4E0D\u540C\u52A0\u8F7D,\u5982\u679C\u662F\u76EE\u5F55\u5219\u6309\u7167",(0,o.jsx)(n.code,{children:"package.json"}),"\u4E2D\u7684",(0,o.jsx)(n.code,{children:"main"}),"\u5B57\u6BB5\u67E5\u627E\u5165\u53E3\u6587\u4EF6\u3002"]}),"\n",(0,o.jsxs)(n.li,{children:["\u8F93\u51FA\u6A21\u5757\u7684",(0,o.jsx)(n.code,{children:"exports"}),"\u5BF9\u8C61\u3002"]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["\u4E0B\u56FE\u5C55\u793A\u4E86",(0,o.jsx)(n.code,{children:"require()"}),"\u52A0\u8F7D\u4E00\u4E2A\u76EE\u5F55\u65F6\u7684\u67E5\u627E\u6D41\u7A0B:"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:d(46618).Z+"",width:"970",height:"409"})}),"\n",(0,o.jsx)(n.h2,{id:"module-\u5BF9\u8C61",children:"module \u5BF9\u8C61"}),"\n",(0,o.jsxs)(n.p,{children:["\u6BCF\u4E2A\u6A21\u5757\u4E2D\u90FD\u6709\u4E00\u4E2A",(0,o.jsx)(n.code,{children:"module"}),"\u5BF9\u8C61,\u5B83\u5305\u542B\u4E86\u5F53\u524D\u6A21\u5757\u7684\u4FE1\u606F\u3002\u4E0B\u9762\u662F\u4E00\u4E2A\u4F8B\u5B50:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"// index.js\nconst modA = require('./modA');\nconsole.log(module);\n"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"// modA.js\nmodule.exports.a = 1;\nexports.b = 2;\nconsole.log(exports === module.exports); // \u8F93\u51FAtrue\n"})}),"\n",(0,o.jsxs)(n.p,{children:["\u8FD0\u884C",(0,o.jsx)(n.code,{children:"node index.js"}),",\u8F93\u51FA\u7ED3\u679C\u5982\u4E0B:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"true\nModule {\n  id: '.',\n  path: '/path/to/example',\n  exports: {},\n  parent: null,\n  filename: '/path/to/example/index.js',\n  loaded: false,\n  children: [\n    Module {\n      id: '/path/to/example/modA.js',\n      path: '/path/to/example',\n      exports: { a: 1, b: 2 },\n      parent: [Circular],\n      filename: '/path/to/example/modA.js',\n      loaded: true,\n      children: [],\n      paths: [Array]\n    }\n  ],\n  paths: [\n    '/path/to/example/node_modules',\n    '/path/to/node_modules',\n    '/path/node_modules'\n  ]\n}\n"})}),"\n",(0,o.jsx)(n.h2,{id:"exports-\u548C-moduleexports-\u7684\u533A\u522B",children:"exports \u548C module.exports \u7684\u533A\u522B"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"exports"}),"\u662F",(0,o.jsx)(n.code,{children:"module.exports"}),"\u7684\u4E00\u4E2A\u5F15\u7528,\u5F53\u9700\u8981\u66B4\u9732\u591A\u4E2A\u53D8\u91CF\u6216\u51FD\u6570\u65F6,\u53EF\u4EE5\u4F7F\u7528",(0,o.jsx)(n.code,{children:"exports"}),"\u5BF9\u8C61:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"exports.a = 1;\nexports.b = 2;\nexports.c = 3;\n"})}),"\n",(0,o.jsxs)(n.p,{children:["\u800C",(0,o.jsx)(n.code,{children:"module.exports"}),"\u53EF\u4EE5\u76F4\u63A5\u66B4\u9732\u4E00\u4E2A\u5BF9\u8C61\u3001\u51FD\u6570\u6216\u53D8\u91CF:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"module.exports = function () {\n  console.log('hello world');\n};\n"})}),"\n",(0,o.jsxs)(n.p,{children:["\u9700\u8981\u6CE8\u610F\u7684\u662F,\u5982\u679C\u7ED9",(0,o.jsx)(n.code,{children:"exports"}),"\u8D4B\u503C\u4E00\u4E2A\u65B0\u5BF9\u8C61,\u90A3\u4E48\u5B83\u5C06\u4E0D\u518D\u662F",(0,o.jsx)(n.code,{children:"module.exports"}),"\u7684\u5F15\u7528,\u65E0\u6CD5\u88AB\u5916\u90E8\u8BBF\u95EE:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"exports = { a: 1 }; // \u9519\u8BEF\u7684\u7528\u6CD5\n"})}),"\n",(0,o.jsx)(n.p,{children:"\u533A\u522B:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"module.exports"}),"\u521D\u59CB\u503C\u4E3A\u4E00\u4E2A\u7A7A\u5BF9\u8C61",(0,o.jsx)(n.code,{children:"{}"}),",\u6240\u4EE5",(0,o.jsx)(n.code,{children:"exports"}),"\u521D\u59CB\u503C\u4E5F\u662F",(0,o.jsx)(n.code,{children:"{}"}),"\u3002"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"exports"}),"\u53EA\u80FD\u901A\u8FC7\u70B9\u8BED\u6CD5\u5411\u5916\u66B4\u9732\u5185\u90E8\u53D8\u91CF,",(0,o.jsx)(n.code,{children:"module.exports"}),"\u65E2\u53EF\u4EE5\u901A\u8FC7\u70B9\u8BED\u6CD5,\u4E5F\u53EF\u4EE5\u76F4\u63A5\u8D4B\u503C\u4E00\u4E2A\u5BF9\u8C61\u3002"]}),"\n",(0,o.jsxs)(n.li,{children:["\u4F7F\u7528",(0,o.jsx)(n.code,{children:"require()"}),"\u5BFC\u5165\u6A21\u5757\u65F6,\u5F97\u5230\u7684\u662F",(0,o.jsx)(n.code,{children:"module.exports"}),"\u6307\u5411\u7684\u5BF9\u8C61\u3002"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"exports"}),"\u662F",(0,o.jsx)(n.code,{children:"module.exports"}),"\u7684\u4E00\u4E2A\u5F15\u7528,\u5982\u679C",(0,o.jsx)(n.code,{children:"module.exports"}),"\u6307\u5411\u53D8\u4E86,\u90A3\u4E48",(0,o.jsx)(n.code,{children:"exports"}),"\u4E5F\u4F1A\u53D8\u3002"]}),"\n"]})]})}function x(e={}){let{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},46618:function(e,n,d){d.d(n,{Z:function(){return s}});let s=d.p+"assets/images/5149173bf54edc93e99088b64db621da-2de00879711d70306beb890990f4ae58.png"},45125:function(e,n,d){d.d(n,{Z:function(){return s}});let s=d.p+"assets/images/6b4f5428a518a694c7876caf56bacbfd-c08eed7c8ccb19b866b4c032ec1a50b6.png"},50065:function(e,n,d){d.d(n,{Z:function(){return c},a:function(){return l}});var s=d(67294);let o={},r=s.createContext(o);function l(e){let n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:l(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);