"use strict";(self.webpackChunknote_book=self.webpackChunknote_book||[]).push([["74054"],{25216:function(e,n,o){o.r(n),o.d(n,{default:()=>g,frontMatter:()=>i,metadata:()=>r,assets:()=>a,toc:()=>l,contentTitle:()=>s});var r=JSON.parse('{"id":"Backend/Go/Protobuf/gRPC-\u5B9E\u73B0\u6D41\u7A0B","title":"\u4F7F\u7528 Go \u5B9E\u73B0 gRPC \u670D\u52A1\u7AEF\u548C\u5BA2\u6237\u7AEF","description":"\u670D\u52A1\u7AEF","source":"@site/docs/Backend/Go/Protobuf/50.gRPC-\u5B9E\u73B0\u6D41\u7A0B.md","sourceDirName":"Backend/Go/Protobuf","slug":"/Backend/Go/Protobuf/gRPC-\u5B9E\u73B0\u6D41\u7A0B","permalink":"/docs-hub/Backend/Go/Protobuf/gRPC-\u5B9E\u73B0\u6D41\u7A0B","draft":false,"unlisted":false,"editUrl":"https://github.com/sumingcheng/docs-hub/edit/main/docs/Backend/Go/Protobuf/50.gRPC-\u5B9E\u73B0\u6D41\u7A0B.md","tags":[],"version":"current","lastUpdatedBy":"sumingcheng","lastUpdatedAt":1734260240000,"sidebarPosition":50,"frontMatter":{},"sidebar":"goSidebar","previous":{"title":"\u4F7F\u7528 Protocol Buffers \u548C gRPC \u6784\u5EFA\u8BFE\u7A0B\u670D\u52A1","permalink":"/docs-hub/Backend/Go/Protobuf/grpc-\u6570\u7EC4\u548C-map"},"next":{"title":"gRPC","permalink":"/docs-hub/category/grpc"}}'),t=o("85893"),c=o("50065");let i={},s="\u4F7F\u7528 Go \u5B9E\u73B0 gRPC \u670D\u52A1\u7AEF\u548C\u5BA2\u6237\u7AEF",a={},l=[{value:"\u670D\u52A1\u7AEF",id:"\u670D\u52A1\u7AEF",level:2},{value:"\u5BA2\u6237\u7AEF",id:"\u5BA2\u6237\u7AEF",level:2}];function d(e){let n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"\u4F7F\u7528-go-\u5B9E\u73B0-grpc-\u670D\u52A1\u7AEF\u548C\u5BA2\u6237\u7AEF",children:"\u4F7F\u7528 Go \u5B9E\u73B0 gRPC \u670D\u52A1\u7AEF\u548C\u5BA2\u6237\u7AEF"})}),"\n",(0,t.jsx)(n.h2,{id:"\u670D\u52A1\u7AEF",children:"\u670D\u52A1\u7AEF"}),"\n",(0,t.jsxs)(n.p,{children:["\u5728\u670D\u52A1\u7AEF\u7684\u5B9E\u73B0\u4E2D\uFF0C\u6211\u9996\u5148\u5B9A\u4E49\u4E86\u4E00\u4E2A\u7ED3\u6784\u4F53 ",(0,t.jsx)(n.code,{children:"MyInfo"}),"\uFF0C\u7528\u4E8E\u5B9E\u73B0 ",(0,t.jsx)(n.code,{children:"MyInfoService"})," \u63A5\u53E3\u7684\u65B9\u6CD5\u3002\u7136\u540E\uFF0C\u521B\u5EFA\u4E00\u4E2A gRPC \u670D\u52A1\u5B9E\u4F8B\uFF0C\u5E76\u6CE8\u518C\u6211\u4EEC\u5B9E\u73B0\u7684\u670D\u52A1\u3002\u63A5\u7740\uFF0C\u76D1\u542C\u6307\u5B9A\u7684\u7AEF\u53E3\uFF0C\u542F\u52A8 gRPC \u670D\u52A1\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-go",children:'package main\n\nimport (\n	"context"\n	"net"\n\n	"goLearning/protobuf/proto"\n	"google.golang.org/grpc"\n)\n\n// MyInfo \u7ED3\u6784\u4F53\ntype MyInfo struct {\n	proto.UnimplementedMyInfoServiceServer\n}\n\n// GetData \u65B9\u6CD5\u5B9E\u73B0\nfunc (m *MyInfo) GetData(ctx context.Context, req *proto.MyInfoRequest) (*proto.MyInfoResponse, error) {\n	return &proto.MyInfoResponse{\n		Name:      req.Name,\n		Age:       req.Age,\n		IsMarried: true,\n	}, nil\n}\n\nfunc main() {\n	// \u521B\u5EFA gRPC \u670D\u52A1\u5B9E\u4F8B\n	grpcServer := grpc.NewServer()\n	// \u6CE8\u518C\u670D\u52A1\n	proto.RegisterMyInfoServiceServer(grpcServer, &MyInfo{})\n	// \u76D1\u542C\u7AEF\u53E3\n	listener, _ := net.Listen("tcp", ":8080")\n	// \u542F\u52A8 gRPC \u670D\u52A1\n	_ = grpcServer.Serve(listener)\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"\u5BA2\u6237\u7AEF",children:"\u5BA2\u6237\u7AEF"}),"\n",(0,t.jsxs)(n.p,{children:["\u5728\u5BA2\u6237\u7AEF\uFF0C\u6211\u901A\u8FC7\u62E8\u53F7\u8FDE\u63A5\u5230 gRPC \u670D\u52A1\u7AEF\uFF0C\u7136\u540E\u5B9E\u4F8B\u5316\u4E00\u4E2A gRPC \u5BA2\u6237\u7AEF\uFF0C\u8C03\u7528 ",(0,t.jsx)(n.code,{children:"GetData"})," \u65B9\u6CD5\uFF0C\u6700\u540E\u83B7\u53D6\u5E76\u8F93\u51FA\u54CD\u5E94\u4FE1\u606F\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-go",children:'package main\n\nimport (\n	"context"\n	"fmt"\n\n	"goLearning/protobuf/proto"\n	"google.golang.org/grpc"\n	"google.golang.org/grpc/credentials/insecure"\n)\n\nfunc main() {\n	// \u62E8\u53F7\u8FDE\u63A5\u670D\u52A1\u7AEF\n	conn, _ := grpc.Dial(":8080", grpc.WithTransportCredentials(insecure.NewCredentials()))\n	// \u5B9E\u4F8B\u5316 gRPC \u5BA2\u6237\u7AEF\n	client := proto.NewMyInfoServiceClient(conn)\n	// \u8C03\u7528\u670D\u52A1\u65B9\u6CD5\n	response, _ := client.GetData(context.Background(), &proto.MyInfoRequest{\n		Name:      "\u5F20\u4E09",\n		Age:       18,\n		IsMarried: false,\n	})\n	// \u8F93\u51FA\u54CD\u5E94\u4FE1\u606F\n	fmt.Println(response)\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\u6CE8\u610F\u4E8B\u9879"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\u8BF7\u786E\u4FDD\u5DF2\u6B63\u786E\u751F\u6210 ",(0,t.jsx)(n.code,{children:".proto"})," \u6587\u4EF6\u5BF9\u5E94\u7684 Go \u4EE3\u7801\uFF0C\u5E76\u5C06\u5BFC\u5165\u8DEF\u5F84\u66FF\u6362\u4E3A\u5B9E\u9645\u7684\u8DEF\u5F84\u3002"]}),"\n",(0,t.jsx)(n.li,{children:"\u5EFA\u8BAE\u6DFB\u52A0\u9519\u8BEF\u5904\u7406\uFF0C\u4EE5\u6355\u83B7\u53EF\u80FD\u51FA\u73B0\u7684\u5F02\u5E38\uFF0C\u63D0\u5347\u7A0B\u5E8F\u7684\u5065\u58EE\u6027\u3002"}),"\n"]})]})}function g(e={}){let{wrapper:n}={...(0,c.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},50065:function(e,n,o){o.d(n,{Z:function(){return s},a:function(){return i}});var r=o(67294);let t={},c=r.createContext(t);function i(e){let n=r.useContext(c);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),r.createElement(c.Provider,{value:n},e.children)}}}]);