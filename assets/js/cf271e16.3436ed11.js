"use strict";(self.webpackChunknote_book=self.webpackChunknote_book||[]).push([["15476"],{90986:function(e,t,n){n.r(t),n.d(t,{assets:function(){return i},contentTitle:function(){return a},default:function(){return d},frontMatter:function(){return l},metadata:function(){return c},toc:function(){return r}});var c=n(56039),o=n(85893),s=n(50065);let l={slug:"vault-\u521D\u59CB\u5316\u4E0E\u914D\u7F6E",title:"Vault \u521D\u59CB\u5316\u4E0E\u914D\u7F6E",authors:["sumingcheng"],tags:["dev-tools"],date:new Date("2024-07-29T00:00:00.000Z")},a="Vault \u521D\u59CB\u5316\u4E0E\u914D\u7F6E",i={authorsImageUrls:[void 0]},r=[{value:"docker-compose \u542F\u52A8",id:"docker-compose-\u542F\u52A8",level:3},{value:"\u914D\u7F6E\u73AF\u5883\u53D8\u91CF",id:"\u914D\u7F6E\u73AF\u5883\u53D8\u91CF",level:3},{value:"\u767B\u5F55\u5230 Vault UI",id:"\u767B\u5F55\u5230-vault-ui",level:3},{value:"\u914D\u7F6E\u8BBF\u95EE\u63A7\u5236\u548C\u7B56\u7565",id:"\u914D\u7F6E\u8BBF\u95EE\u63A7\u5236\u548C\u7B56\u7565",level:3}];function u(e){let t={a:"a",code:"code",h3:"h3",img:"img",p:"p",pre:"pre",...(0,s.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.h3,{id:"docker-compose-\u542F\u52A8",children:"docker-compose \u542F\u52A8"}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.a,{href:"https://github.com/sumingcheng/dev-tools/blob/main/vault/docker-compose.yml",children:"https://github.com/sumingcheng/dev-tools/blob/main/vault/docker-compose.yml"}),"### \u521D\u59CB\u5316 Vault"]}),"\n",(0,o.jsx)(t.p,{children:"\u5728\u9996\u6B21\u542F\u52A8 Vault \u540E\uFF0C\u9700\u8981\u8FDB\u884C\u521D\u59CB\u5316\u3002\u8FD9\u4E2A\u8FC7\u7A0B\u4F1A\u751F\u6210\u89E3\u5C01\u5BC6\u94A5\u548C\u6839\u4EE4\u724C\u3002"}),"\n",(0,o.jsx)(t.p,{children:"\u4F7F\u7528\u4EE5\u4E0B\u547D\u4EE4\u8FDB\u884C\u521D\u59CB\u5316\uFF0C\u4E5F\u53EF\u4EE5\u8FDB\u5165\u5BB9\u5668\u8FDB\u884C\u521D\u59CB\u5316"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:"docker exec -it vault vault operator init\n"})}),"\n",(0,o.jsx)(t.p,{children:"\u8BB0\u5F55\u4E0B\u663E\u793A\u7684\u89E3\u5C01\u5BC6\u94A5\u548C\u6839\u4EE4\u724C\u3002\u8FD9\u4E9B\u4FE1\u606F\u975E\u5E38\u91CD\u8981\uFF0C\u5FC5\u987B\u5B89\u5168\u4FDD\u5B58\u3002"}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.img,{alt:"a116a96b7b77fa3b896cce801dbc7ca7",src:n(43908).Z+"",width:"1054",height:"651"}),"### \u89E3\u5C01 Vault"]}),"\n",(0,o.jsx)(t.p,{children:"\u4F7F\u7528\u521D\u59CB\u5316\u65F6\u83B7\u5F97\u7684\u89E3\u5C01\u5BC6\u94A5\u89E3\u5C01 Vault\u3002\u9700\u8981\u81F3\u5C11\u63D0\u4F9B\u521D\u59CB\u5316\u65F6\u6307\u5B9A\u7684\u9608\u503C\u6570\u91CF\u7684\u5BC6\u94A5\u3002"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:"docker exec -it vault vault operator unseal <Unseal_Key>\n"})}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"8fa7c1f92c01241f46656fcf3431b123",src:n(44607).Z+"",width:"1078",height:"1114"})}),"\n",(0,o.jsx)(t.p,{children:"\u56FE\u7247\u91CC\u7ED9\u4E86 5 \u4E2A KEY\uFF0C\u53EA\u8981\u4F7F\u7528\u5176\u4E2D 3 \u4E2A\u5373\u53EF\uFF0C\u91CD\u590D\u4E0A\u8FF0\u547D\u4EE4\uFF0C\u76F4\u5230 Vault \u663E\u793A\u4E3A\u89E3\u5C01\u72B6\u6001\u3002\u5982\u679C docker \u5B8C\u5168\u91CD\u542F\u7684\u8BDD\uFF0C\u53EF\u80FD\u8FD8\u9700\u8981\u91CD\u65B0\u89E3\u5C01\u3002"}),"\n",(0,o.jsx)(t.h3,{id:"\u914D\u7F6E\u73AF\u5883\u53D8\u91CF",children:"\u914D\u7F6E\u73AF\u5883\u53D8\u91CF"}),"\n",(0,o.jsxs)(t.p,{children:["\u786E\u4FDD\u8BBE\u7F6E\u6B63\u786E\u7684\u73AF\u5883\u53D8\u91CF\uFF0C\u7279\u522B\u662F ",(0,o.jsx)(t.code,{children:"VAULT_ADDR"}),"\uFF0C\u4EE5\u4FBF\u60A8\u7684\u5E94\u7528\u548C\u670D\u52A1\u80FD\u591F\u6B63\u786E\u5730\u4E0E Vault \u901A\u4FE1\u3002"]}),"\n",(0,o.jsx)(t.h3,{id:"\u767B\u5F55\u5230-vault-ui",children:"\u767B\u5F55\u5230 Vault UI"}),"\n",(0,o.jsxs)(t.p,{children:["\u6253\u5F00\u6D4F\u89C8\u5668\u8BBF\u95EE Vault UI\uFF08\u901A\u5E38\u662F ",(0,o.jsx)(t.code,{children:"http://IP:8000"}),"\uFF09\u3002"]}),"\n",(0,o.jsxs)(t.p,{children:["\u4F7F\u7528\u521D\u59CB\u5316\u751F\u6210\u7684\u6839\u4EE4\u724C\u767B\u5F55\u3002\u5982\u679C Vault UI \u914D\u7F6E\u4E86\u9ED8\u8BA4\u7684 ",(0,o.jsx)(t.code,{children:"VAULT_TOKEN_DEFAULT"})," \u4EE4\u724C\u5E76\u4E14\u6709\u6548\uFF0C\u4E5F\u53EF\u4EE5\u5C1D\u8BD5\u4F7F\u7528\u5B83\u767B\u5F55\u3002\u5982\u679C\u65E0\u6CD5\u767B\u5F55\u53EF\u4EE5\u5148\u8BD5\u4F7F\u7528",(0,o.jsx)(t.code,{children:"root key"})," \u9093\u80AF"]}),"\n",(0,o.jsx)(t.h3,{id:"\u914D\u7F6E\u8BBF\u95EE\u63A7\u5236\u548C\u7B56\u7565",children:"\u914D\u7F6E\u8BBF\u95EE\u63A7\u5236\u548C\u7B56\u7565"}),"\n",(0,o.jsx)(t.p,{children:"\u901A\u8FC7 UI \u6216\u547D\u4EE4\u884C\u914D\u7F6E\u8BBF\u95EE\u63A7\u5236\u5217\u8868 (ACL) \u7B56\u7565\uFF0C\u4EE5\u5B9A\u4E49\u8C01\u53EF\u4EE5\u8BBF\u95EE\u4EC0\u4E48\u6570\u636E\u3002"}),"\n",(0,o.jsx)(t.p,{children:"\u521B\u5EFA\u989D\u5916\u7684\u7528\u6237\u548C\u4EE4\u724C\uFF0C\u4EE5\u4FBF\u5176\u4ED6\u7CFB\u7EDF\u548C\u7528\u6237\u80FD\u591F\u8BBF\u95EE Vault\u3002"})]})}function d(e={}){let{wrapper:t}={...(0,s.a)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(u,{...e})}):u(e)}},44607:function(e,t,n){n.d(t,{Z:function(){return c}});let c=n.p+"assets/images/8fa7c1f92c01241f46656fcf3431b123-ebb7df9aee11a89af9a230b2ec594e36.jpg"},43908:function(e,t,n){n.d(t,{Z:function(){return c}});let c=n.p+"assets/images/a116a96b7b77fa3b896cce801dbc7ca7-1dc871f0102cfd7c1a9cdf764301f941.jpg"},50065:function(e,t,n){n.d(t,{Z:function(){return a},a:function(){return l}});var c=n(67294);let o={},s=c.createContext(o);function l(e){let t=c.useContext(s);return c.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:l(e.components),c.createElement(s.Provider,{value:t},e.children)}},56039:function(e){e.exports=JSON.parse('{"permalink":"/docs-hub/blog/vault-\u521D\u59CB\u5316\u4E0E\u914D\u7F6E","editUrl":"https://github.com/sumingcheng/docs-hub/blog/\u5F00\u53D1\u5DE5\u5177\u4E0E\u73AF\u5883/2024-07-29-Vault_\u521D\u59CB\u5316\u4E0E\u914D\u7F6E.md","source":"@site/blog/\u5F00\u53D1\u5DE5\u5177\u4E0E\u73AF\u5883/2024-07-29-Vault_\u521D\u59CB\u5316\u4E0E\u914D\u7F6E.md","title":"Vault \u521D\u59CB\u5316\u4E0E\u914D\u7F6E","description":"docker-compose \u542F\u52A8","date":"2024-07-29T00:00:00.000Z","tags":[{"inline":false,"label":"\u5F00\u53D1\u5DE5\u5177\u4E0E\u73AF\u5883","permalink":"/docs-hub/blog/tags/dev-tools","description":"\u5F00\u53D1\u5DE5\u5177\u548C\u73AF\u5883\u914D\u7F6E\u76F8\u5173\u6587\u7AE0"}],"readingTime":1.25,"hasTruncateMarker":false,"authors":[{"name":"\u7D20\u660E\u8BDA","title":"Full stack development","url":"https://github.com/sumingcheng","page":{"permalink":"/docs-hub/blog/authors/sumingcheng"},"socials":{"x":"https://x.com/sumingcheng","github":"https://github.com/sumingcheng"},"imageURL":"https://github.com/user-attachments/assets/9a06bd55-094a-4efc-91c3-d1b92236822f","key":"sumingcheng"}],"frontMatter":{"slug":"vault-\u521D\u59CB\u5316\u4E0E\u914D\u7F6E","title":"Vault \u521D\u59CB\u5316\u4E0E\u914D\u7F6E","authors":["sumingcheng"],"tags":["dev-tools"],"date":"2024-07-29T00:00:00.000Z"},"unlisted":false,"prevItem":{"title":"Go \u5207\u7247\u7F29\u5BB9","permalink":"/docs-hub/blog/go-\u5207\u7247\u7F29\u5BB9"},"nextItem":{"title":"JavaScript \u7684\u53EF\u9009\u94FE\u64CD\u4F5C\u7B26","permalink":"/docs-hub/blog/javascript-\u7684\u53EF\u9009\u94FE\u64CD\u4F5C\u7B26-"}}')}}]);