"use strict";(self.webpackChunknote_book=self.webpackChunknote_book||[]).push([["53737"],{84164:function(e,r,n){n.r(r),n.d(r,{assets:function(){return i},contentTitle:function(){return d},default:function(){return a},frontMatter:function(){return s},metadata:function(){return c},toc:function(){return l}});var c=n(73921),o=n(85893),t=n(50065);let s={slug:"docker-\u955C\u50CF\u6253\u5305\u8FC1\u79FB",title:"Docker \u955C\u50CF\u6253\u5305\u8FC1\u79FB",authors:["sumingcheng"],tags:["dev-tools"],date:new Date("2024-06-05T00:00:00.000Z")},d="Docker \u955C\u50CF\u6253\u5305/\u8FC1\u79FB",i={authorsImageUrls:[void 0]},l=[{value:"\u6709 Docker Hub \u7684\u60C5\u51B5",id:"\u6709-docker-hub-\u7684\u60C5\u51B5",level:3},{value:"\u4F7F\u7528 Harbor \u4F5C\u4E3A Docker \u955C\u50CF\u4ED3\u5E93\u7684\u914D\u7F6E\u6B65\u9AA4",id:"\u4F7F\u7528-harbor-\u4F5C\u4E3A-docker-\u955C\u50CF\u4ED3\u5E93\u7684\u914D\u7F6E\u6B65\u9AA4",level:3},{value:"\u767B\u5F55\u5230 Harbor",id:"\u767B\u5F55\u5230-harbor",level:3},{value:"\u6CA1\u6709 Docker Hub \u7684\u60C5\u51B5",id:"\u6CA1\u6709-docker-hub-\u7684\u60C5\u51B5",level:3},{value:"\u5B9E\u9645\u5F00\u53D1\u7684\u65F6\u5019\u8981\u6CE8\u610F",id:"\u5B9E\u9645\u5F00\u53D1\u7684\u65F6\u5019\u8981\u6CE8\u610F",level:2}];function h(e){let r={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r.h3,{id:"\u6709-docker-hub-\u7684\u60C5\u51B5",children:"\u6709 Docker Hub \u7684\u60C5\u51B5"}),"\n",(0,o.jsx)(r.p,{children:(0,o.jsx)(r.strong,{children:"\u6784\u5EFA\u955C\u50CF"})}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{children:"docker build -t myapplatest .\n"})}),"\n",(0,o.jsxs)(r.p,{children:["\u8FD9\u6761\u547D\u4EE4\u4F1A\u6839\u636E\u5F53\u524D\u76EE\u5F55\u4E0B\u7684 Dockerfile \u521B\u5EFA\u4E00\u4E2A\u540D\u4E3A ",(0,o.jsx)(r.code,{children:"myapp"})," \u7684\u955C\u50CF\uFF0C\u5E76\u6807\u8BB0\u4E3A ",(0,o.jsx)(r.code,{children:"latest"}),"\u3002"]}),"\n",(0,o.jsx)(r.p,{children:(0,o.jsx)(r.strong,{children:"\u4E0A\u4F20\u955C\u50CF\u5230 Docker Hub"})}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{children:"docker push myapplatest\n"})}),"\n",(0,o.jsxs)(r.p,{children:["\u5728\u6267\u884C\u6B64\u547D\u4EE4\u524D\uFF0C\u9700\u8981\u4F7F\u7528 ",(0,o.jsx)(r.code,{children:"docker login"})," \u547D\u4EE4\u767B\u5F55\u5230 Docker Hub\u3002"]}),"\n",(0,o.jsx)(r.p,{children:(0,o.jsx)(r.strong,{children:"\u5728\u53E6\u4E00\u53F0\u673A\u5668\u4E0A\u4E0B\u8F7D\u5E76\u8FD0\u884C\u955C\u50CF"})}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{children:"docker pull myapplatest\ndocker run -d -p 80808080 myapplatest\n"})}),"\n",(0,o.jsx)(r.p,{children:"\u8FD9\u91CC\u5047\u8BBE\u4F60\u7684\u5E94\u7528\u9700\u8981\u6620\u5C04 8080 \u7AEF\u53E3\u3002"}),"\n",(0,o.jsx)(r.h3,{id:"\u4F7F\u7528-harbor-\u4F5C\u4E3A-docker-\u955C\u50CF\u4ED3\u5E93\u7684\u914D\u7F6E\u6B65\u9AA4",children:"\u4F7F\u7528 Harbor \u4F5C\u4E3A Docker \u955C\u50CF\u4ED3\u5E93\u7684\u914D\u7F6E\u6B65\u9AA4"}),"\n",(0,o.jsx)(r.p,{children:"\u9996\u5148\uFF0C\u4F60\u9700\u8981\u786E\u4FDD Docker \u5BA2\u6237\u7AEF\u53EF\u4EE5\u901A\u8FC7 HTTPS \u4E0E Harbor \u901A\u4FE1\u3002\u5982\u679C\u4F60\u7684 Harbor \u5B9E\u4F8B\u4F7F\u7528\u4E86\u81EA\u7B7E\u540D\u8BC1\u4E66\uFF0C\u4F60\u53EF\u80FD\u9700\u8981\u5C06\u8FD9\u4E2A\u8BC1\u4E66\u6DFB\u52A0\u5230\u4F60\u7684\u7CFB\u7EDF\u4FE1\u4EFB\u7684\u8BC1\u4E66\u5B58\u50A8\u4E2D\uFF0C\u6216\u8005\u4E34\u65F6\u5141\u8BB8 Docker \u5BA2\u6237\u7AEF\u4FE1\u4EFB\u81EA\u7B7E\u540D\u8BC1\u4E66\u3002"}),"\n",(0,o.jsx)(r.p,{children:(0,o.jsx)(r.strong,{children:"\u5C06\u8BC1\u4E66\u590D\u5236\u5230 Docker \u8BC1\u4E66\u76EE\u5F55"})}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{children:"sudo mkdir -p /etc/docker/certs.d/my-harbor-instance.com\nsudo cp ~/path/to/your/certificate.crt /etc/docker/certs.d/my-harbor-instance.com/\n"})}),"\n",(0,o.jsx)(r.p,{children:(0,o.jsx)(r.strong,{children:"\u91CD\u542F Docker \u670D\u52A1"})}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{children:"sudo systemctl restart docker\n"})}),"\n",(0,o.jsx)(r.p,{children:"\u8FD9\u6837 Docker \u5C31\u914D\u7F6E\u597D\u4E86\u53EF\u4EE5\u5B89\u5168\u5730\u4E0E\u4F60\u7684 Harbor \u5B9E\u4F8B\u901A\u4FE1\u3002"}),"\n",(0,o.jsx)(r.h3,{id:"\u767B\u5F55\u5230-harbor",children:"\u767B\u5F55\u5230 Harbor"}),"\n",(0,o.jsx)(r.p,{children:"\u4F7F\u7528\u4F60\u7684 Harbor \u51ED\u8BC1\u767B\u5F55"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{children:"docker login my-harbor-instance.com -u your-username -p your-password\n"})}),"\n",(0,o.jsx)(r.p,{children:"\u5982\u679C\u767B\u5F55\u6210\u529F\uFF0C\u4F60\u5E94\u8BE5\u4F1A\u770B\u5230\u4E00\u4E2A\u6D88\u606F\u8BF4 \u201CLogin Succeeded\u201D\u3002\u7136\u540E\u5F80\u4E0A\u63A8\u955C\u50CF\u5C31\u53EF\u4EE5\u4E86\u3002"}),"\n",(0,o.jsx)(r.h3,{id:"\u6CA1\u6709-docker-hub-\u7684\u60C5\u51B5",children:"\u6CA1\u6709 Docker Hub \u7684\u60C5\u51B5"}),"\n",(0,o.jsx)(r.p,{children:"\u5982\u679C\u6CA1\u6709 Docker Hub \u6216\u5176\u4ED6 Docker \u4ED3\u5E93\uFF0C\u4F60\u53EF\u4EE5\u901A\u8FC7\u5BFC\u51FA\u548C\u5BFC\u5165\u955C\u50CF\u6587\u4EF6\u7684\u65B9\u5F0F\u624B\u52A8\u4F20\u8F93\u955C\u50CF\u3002"}),"\n",(0,o.jsx)(r.p,{children:(0,o.jsx)(r.strong,{children:"\u5728\u6E90\u673A\u5668\u4E0A\u5BFC\u51FA\u955C\u50CF"})}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{children:"docker save -o myapp.tar myapplatest\n"})}),"\n",(0,o.jsxs)(r.p,{children:["\u8FD9\u6761\u547D\u4EE4\u4F1A\u5C06 ",(0,o.jsx)(r.code,{children:"myapplatest"})," \u955C\u50CF\u4FDD\u5B58\u4E3A\u4E00\u4E2A\u540D\u4E3A ",(0,o.jsx)(r.code,{children:"myapp.tar"})," \u7684\u6587\u4EF6\u3002"]}),"\n",(0,o.jsxs)(r.p,{children:[(0,o.jsx)(r.strong,{children:"\u5C06\u955C\u50CF\u6587\u4EF6\u4F20\u8F93\u5230\u76EE\u6807\u673A\u5668"})," \u4F60\u53EF\u4EE5\u4F7F\u7528 SCP\u3001FTP \u6216\u4EFB\u4F55\u5176\u4ED6\u6587\u4EF6\u4F20\u8F93\u65B9\u6CD5\u5C06 ",(0,o.jsx)(r.code,{children:"myapp.tar"})," \u6587\u4EF6\u4ECE\u6E90\u673A\u5668\u4F20\u8F93\u5230\u76EE\u6807\u673A\u5668\u3002"]}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{children:"scp myapp.tar user@target-machine/path/to/destination\n"})}),"\n",(0,o.jsx)(r.p,{children:(0,o.jsx)(r.strong,{children:"\u5728\u76EE\u6807\u673A\u5668\u4E0A\u5BFC\u5165\u955C\u50CF"})}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{children:"docker load -i /path/to/destination/myapp.tar\n"})}),"\n",(0,o.jsx)(r.p,{children:(0,o.jsx)(r.strong,{children:"\u8FD0\u884C\u955C\u50CF"})}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{children:"docker run -d -p 8080:8080 myapplatest\n"})}),"\n",(0,o.jsx)(r.h2,{id:"\u5B9E\u9645\u5F00\u53D1\u7684\u65F6\u5019\u8981\u6CE8\u610F",children:"\u5B9E\u9645\u5F00\u53D1\u7684\u65F6\u5019\u8981\u6CE8\u610F"}),"\n",(0,o.jsxs)(r.ul,{children:["\n",(0,o.jsxs)(r.li,{children:["\u4F7F\u7528\u5408\u89C4\u7684\u4ED3\u5E93\u4F8B\u5982",(0,o.jsx)(r.code,{children:"Harbor"}),"\u6765\u5B58\u50A8"]}),"\n",(0,o.jsxs)(r.li,{children:["\u4F7F\u7528\u8BE6\u7EC6\u7684\u7248\u672C\u6807\u7B7E\u800C\u975E\u4EC5\u4EC5\u4F7F\u7528 ",(0,o.jsx)(r.code,{children:"latest"})," \u6807\u7B7E\uFF0C\u53EF\u4EE5\u5E2E\u52A9\u66F4\u597D\u5730\u7BA1\u7406\u955C\u50CF\u7248\u672C\u5E76\u652F\u6301\u56DE\u6EDA\u64CD\u4F5C"]}),"\n",(0,o.jsx)(r.li,{children:"\u96C6\u6210\u5230 CI/CD \u7BA1\u9053\u4E2D\u81EA\u52A8\u6784\u5EFA Docker \u955C\u50CF\uFF0C\u5E76\u5728\u4EE3\u7801\u63D0\u4EA4\u540E\u81EA\u52A8\u89E6\u53D1\u8FD9\u4E9B\u6784\u5EFA\u3001\u6D4B\u8BD5\u3001\u90E8\u7F72"}),"\n",(0,o.jsx)(r.li,{children:"\u955C\u50CF\u4F18\u5316\uFF0C\u4F7F\u7528 Docker \u7684\u591A\u9636\u6BB5\u6784\u5EFA\u6765\u51CF\u5C11\u955C\u50CF\u5927\u5C0F\uFF0C\u53EA\u5728\u6700\u7EC8\u955C\u50CF\u4E2D\u4FDD\u7559\u5FC5\u8981\u7684\u6587\u4EF6\u548C\u4F9D\u8D56\u3002"}),"\n",(0,o.jsx)(r.li,{children:"\u4F7F\u7528 Prometheus\u3001Grafana \u7B49\u5DE5\u5177\u76D1\u63A7\u5BB9\u5668\u7684\u6027\u80FD\u548C\u8D44\u6E90\u4F7F\u7528\u60C5\u51B5\u3002"}),"\n"]})]})}function a(e={}){let{wrapper:r}={...(0,t.a)(),...e.components};return r?(0,o.jsx)(r,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},50065:function(e,r,n){n.d(r,{Z:function(){return d},a:function(){return s}});var c=n(67294);let o={},t=c.createContext(o);function s(e){let r=c.useContext(t);return c.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function d(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),c.createElement(t.Provider,{value:r},e.children)}},73921:function(e){e.exports=JSON.parse('{"permalink":"/docs-hub/blog/docker-\u955C\u50CF\u6253\u5305\u8FC1\u79FB","editUrl":"https://github.com/sumingcheng/docs-hub/blog/\u5F00\u53D1\u5DE5\u5177\u4E0E\u73AF\u5883/2024-06-05-Docker_\u955C\u50CF\u6253\u5305\u8FC1\u79FB.md","source":"@site/blog/\u5F00\u53D1\u5DE5\u5177\u4E0E\u73AF\u5883/2024-06-05-Docker_\u955C\u50CF\u6253\u5305\u8FC1\u79FB.md","title":"Docker \u955C\u50CF\u6253\u5305\u8FC1\u79FB","description":"\u6709 Docker Hub \u7684\u60C5\u51B5","date":"2024-06-05T00:00:00.000Z","tags":[{"inline":false,"label":"\u5F00\u53D1\u5DE5\u5177\u4E0E\u73AF\u5883","permalink":"/docs-hub/blog/tags/dev-tools","description":"\u5F00\u53D1\u5DE5\u5177\u548C\u73AF\u5883\u914D\u7F6E\u76F8\u5173\u6587\u7AE0"}],"readingTime":2.0633333333333335,"hasTruncateMarker":false,"authors":[{"name":"\u7D20\u660E\u8BDA","title":"Full stack development","url":"https://github.com/sumingcheng","page":{"permalink":"/docs-hub/blog/authors/sumingcheng"},"socials":{"x":"https://x.com/sumingcheng","github":"https://github.com/sumingcheng"},"imageURL":"https://github.com/user-attachments/assets/9a06bd55-094a-4efc-91c3-d1b92236822f","key":"sumingcheng"}],"frontMatter":{"slug":"docker-\u955C\u50CF\u6253\u5305\u8FC1\u79FB","title":"Docker \u955C\u50CF\u6253\u5305\u8FC1\u79FB","authors":["sumingcheng"],"tags":["dev-tools"],"date":"2024-06-05T00:00:00.000Z"},"unlisted":false,"prevItem":{"title":"Docker \u7684 Layer \u662F\u4EC0\u4E48\u8BE6\u89E3","permalink":"/docs-hub/blog/docker-\u7684-layer-\u662F\u4EC0\u4E48\u8BE6\u89E3"},"nextItem":{"title":"Linux \u63A8\u8350\u5B89\u88C5\u5DE5\u5177","permalink":"/docs-hub/blog/linux-\u63A8\u8350\u5B89\u88C5\u5DE5\u5177"}}')}}]);