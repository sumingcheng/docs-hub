"use strict";(self.webpackChunknote_book=self.webpackChunknote_book||[]).push([[96658],{43247:(n,e,o)=>{o.r(e),o.d(e,{assets:()=>l,contentTitle:()=>d,default:()=>r,frontMatter:()=>t,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"Frontend/JavaScript/\u5e38\u89c1\u95ee\u9898/\u7bad\u5934\u51fd\u6570\u7684this-this\u7684\u4f18\u5148\u7ea7","title":"\u7bad\u5934\u51fd\u6570\u4e2d\u7684 this \u7ed1\u5b9a","description":"\u5728 JavaScript \u4e2d,\u7bad\u5934\u51fd\u6570\u7684this\u7ed1\u5b9a\u4e0e\u666e\u901a\u51fd\u6570\u6709\u6240\u4e0d\u540c\u3002\u8ba9\u6211\u4eec\u901a\u8fc7\u4e00\u4e9b\u793a\u4f8b\u6765\u6df1\u5165\u7406\u89e3\u7bad\u5934\u51fd\u6570\u4e2dthis\u7684\u884c\u4e3a\u3002","source":"@site/docs/Frontend/JavaScript/\u5e38\u89c1\u95ee\u9898/80.\u7bad\u5934\u51fd\u6570\u7684this-this\u7684\u4f18\u5148\u7ea7.md","sourceDirName":"Frontend/JavaScript/\u5e38\u89c1\u95ee\u9898","slug":"/Frontend/JavaScript/\u5e38\u89c1\u95ee\u9898/\u7bad\u5934\u51fd\u6570\u7684this-this\u7684\u4f18\u5148\u7ea7","permalink":"/docs-hub/Frontend/JavaScript/\u5e38\u89c1\u95ee\u9898/\u7bad\u5934\u51fd\u6570\u7684this-this\u7684\u4f18\u5148\u7ea7","draft":false,"unlisted":false,"editUrl":"https://github.com/sumingcheng/docs-hub/edit/main/docs/Frontend/JavaScript/\u5e38\u89c1\u95ee\u9898/80.\u7bad\u5934\u51fd\u6570\u7684this-this\u7684\u4f18\u5148\u7ea7.md","tags":[],"version":"current","lastUpdatedBy":"sumingcheng","lastUpdatedAt":1733910367000,"sidebarPosition":80,"frontMatter":{},"sidebar":"javascriptSidebar","previous":{"title":"this \u6307\u5411\u603b\u7ed3","permalink":"/docs-hub/Frontend/JavaScript/\u5e38\u89c1\u95ee\u9898/this\u6307\u5411\u7684\u603b\u7ed3"},"next":{"title":"new \u5b9e\u4f8b\u5316\u7684\u91cd\u5199","permalink":"/docs-hub/Frontend/JavaScript/\u5e38\u89c1\u95ee\u9898/new\u5b9e\u4f8b\u5316\u7684\u91cd\u5199"}}');var i=o(74848),c=o(28453);const t={},d="\u7bad\u5934\u51fd\u6570\u4e2d\u7684 this \u7ed1\u5b9a",l={},a=[{value:"new \u548c bind \u7684\u4f18\u5148\u7ea7",id:"new-\u548c-bind-\u7684\u4f18\u5148\u7ea7",level:2},{value:"\u7bad\u5934\u51fd\u6570\u4e2d\u7684 this",id:"\u7bad\u5934\u51fd\u6570\u4e2d\u7684-this",level:2},{value:"\u7bad\u5934\u51fd\u6570\u4e2d this \u7ed1\u5b9a\u7684\u7279\u6b8a\u6027",id:"\u7bad\u5934\u51fd\u6570\u4e2d-this-\u7ed1\u5b9a\u7684\u7279\u6b8a\u6027",level:2},{value:"\u603b\u7ed3",id:"\u603b\u7ed3",level:2},{value:"\u7ec3\u4e60",id:"\u7ec3\u4e60",level:2},{value:"\u7ec3\u4e60 1: this \u7ed1\u5b9a",id:"\u7ec3\u4e60-1-this-\u7ed1\u5b9a",level:3},{value:"\u7ec3\u4e60 2: \u7efc\u5408\u7ec3\u4e60",id:"\u7ec3\u4e60-2-\u7efc\u5408\u7ec3\u4e60",level:3}];function h(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",...(0,c.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"\u7bad\u5934\u51fd\u6570\u4e2d\u7684-this-\u7ed1\u5b9a",children:"\u7bad\u5934\u51fd\u6570\u4e2d\u7684 this \u7ed1\u5b9a"})}),"\n",(0,i.jsxs)(e.p,{children:["\u5728 JavaScript \u4e2d,\u7bad\u5934\u51fd\u6570\u7684",(0,i.jsx)(e.code,{children:"this"}),"\u7ed1\u5b9a\u4e0e\u666e\u901a\u51fd\u6570\u6709\u6240\u4e0d\u540c\u3002\u8ba9\u6211\u4eec\u901a\u8fc7\u4e00\u4e9b\u793a\u4f8b\u6765\u6df1\u5165\u7406\u89e3\u7bad\u5934\u51fd\u6570\u4e2d",(0,i.jsx)(e.code,{children:"this"}),"\u7684\u884c\u4e3a\u3002"]}),"\n",(0,i.jsx)(e.h2,{id:"new-\u548c-bind-\u7684\u4f18\u5148\u7ea7",children:"new \u548c bind \u7684\u4f18\u5148\u7ea7"}),"\n",(0,i.jsxs)(e.p,{children:["\u9996\u5148,\u6211\u4eec\u6765\u770b\u4e00\u4e0b",(0,i.jsx)(e.code,{children:"new"}),"\u548c",(0,i.jsx)(e.code,{children:"bind"}),"\u7684\u4f18\u5148\u7ea7:"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-javascript",children:"function foo(b) {\n  this.a = b;\n}\n\nvar obj1 = {};\nconsole.log(foo.bind(obj1));\nvar bar = foo.bind(obj1);\nbar(2);\n\nconsole.log(obj1.a); // 2\n// new \u628a this \u7684\u6307\u5411\u6539\u53d8\u6210\u4e86 baz\nvar baz = new bar(3);\n// obj1.a \u7684\u5c5e\u6027\u6ca1\u6709\u53d8\u5316,\u53d8\u5316\u7684\u662f\u5b9e\u4f8b\u5316\u540e\u7684\u5bf9\u8c61\nconsole.log(obj1.a); // 2\nconsole.log(baz.a); // 3\n"})}),"\n",(0,i.jsxs)(e.p,{children:["\u4ece\u4e0a\u9762\u7684\u4f8b\u5b50\u53ef\u4ee5\u770b\u51fa,",(0,i.jsx)(e.code,{children:"new"}),"\u7684\u4f18\u5148\u7ea7\u9ad8\u4e8e",(0,i.jsx)(e.code,{children:"bind"}),"\u3002\u5f53\u4f7f\u7528",(0,i.jsx)(e.code,{children:"new"}),"\u5173\u952e\u5b57\u5b9e\u4f8b\u5316\u4e00\u4e2a\u7ed1\u5b9a\u4e86",(0,i.jsx)(e.code,{children:"this"}),"\u7684\u51fd\u6570\u65f6,",(0,i.jsx)(e.code,{children:"this"}),"\u7684\u6307\u5411\u4f1a\u88ab",(0,i.jsx)(e.code,{children:"new"}),"\u6539\u53d8,\u800c\u539f\u6765\u7ed1\u5b9a\u7684\u5bf9\u8c61\u4e0d\u53d7\u5f71\u54cd\u3002"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:o(38939).A+"",width:"554",height:"294"})}),"\n",(0,i.jsx)(e.h2,{id:"\u7bad\u5934\u51fd\u6570\u4e2d\u7684-this",children:"\u7bad\u5934\u51fd\u6570\u4e2d\u7684 this"}),"\n",(0,i.jsxs)(e.p,{children:["\u7bad\u5934\u51fd\u6570\u4e0e\u666e\u901a\u51fd\u6570\u5728",(0,i.jsx)(e.code,{children:"this"}),"\u7ed1\u5b9a\u4e0a\u6709\u7740\u663e\u8457\u7684\u533a\u522b:"]}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["\u7bad\u5934\u51fd\u6570\u672c\u8eab\u6ca1\u6709\u81ea\u5df1\u7684",(0,i.jsx)(e.code,{children:"this"}),"\u6307\u5411\u3002"]}),"\n",(0,i.jsxs)(e.li,{children:["\u7bad\u5934\u51fd\u6570\u7684",(0,i.jsx)(e.code,{children:"this"}),"\u6307\u5411\u7531\u5176\u6240\u5728\u7684\u7236\u7ea7\u4f5c\u7528\u57df\u51b3\u5b9a\u3002"]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-javascript",children:"var a = 0;\n\nfunction foo() {\n  console.log(this);\n  var test = () => {\n    console.log(this);\n  };\n  test();\n}\nvar obj = {\n  a: 1,\n  foo: foo,\n};\nfoo(); // window\nobj.foo(); // obj\n"})}),"\n",(0,i.jsxs)(e.p,{children:["\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d,\u7bad\u5934\u51fd\u6570",(0,i.jsx)(e.code,{children:"test"}),"\u6ca1\u6709\u81ea\u5df1\u7684",(0,i.jsx)(e.code,{children:"this"}),",\u5b83\u7684",(0,i.jsx)(e.code,{children:"this"}),"\u7531\u7236\u7ea7\u4f5c\u7528\u57df",(0,i.jsx)(e.code,{children:"foo"}),"\u7684",(0,i.jsx)(e.code,{children:"this"}),"\u51b3\u5b9a\u3002\u5f53",(0,i.jsx)(e.code,{children:"foo"}),"\u88ab\u4f5c\u4e3a\u666e\u901a\u51fd\u6570\u8c03\u7528\u65f6,",(0,i.jsx)(e.code,{children:"this"}),"\u6307\u5411\u5168\u5c40\u5bf9\u8c61",(0,i.jsx)(e.code,{children:"window"}),";\u800c\u5f53",(0,i.jsx)(e.code,{children:"foo"}),"\u4f5c\u4e3a\u5bf9\u8c61",(0,i.jsx)(e.code,{children:"obj"}),"\u7684\u65b9\u6cd5\u8c03\u7528\u65f6,",(0,i.jsx)(e.code,{children:"this"}),"\u6307\u5411",(0,i.jsx)(e.code,{children:"obj"}),"\u3002"]}),"\n",(0,i.jsx)(e.h2,{id:"\u7bad\u5934\u51fd\u6570\u4e2d-this-\u7ed1\u5b9a\u7684\u7279\u6b8a\u6027",children:"\u7bad\u5934\u51fd\u6570\u4e2d this \u7ed1\u5b9a\u7684\u7279\u6b8a\u6027"}),"\n",(0,i.jsxs)(e.p,{children:["\u7531\u4e8e\u7bad\u5934\u51fd\u6570\u7684",(0,i.jsx)(e.code,{children:"this"}),"\u7531\u7236\u7ea7\u4f5c\u7528\u57df\u51b3\u5b9a,\u90a3\u4e48\u5e38\u89c1\u7684",(0,i.jsx)(e.code,{children:"this"}),"\u7ed1\u5b9a\u89c4\u5219\u5bf9\u7bad\u5934\u51fd\u6570\u662f\u5426\u8fd8\u9002\u7528\u5462?\u8ba9\u6211\u4eec\u6765\u770b\u4e00\u4e2a\u4f8b\u5b50:"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-javascript",children:"var a = 0;\n\nfunction foo() {\n  console.log(this);\n  var test = () => {\n    console.log(this);\n  };\n  return test;\n}\n\nvar obj1 = {\n  a: 1,\n  foo: () => {\n    console.log(this);\n  },\n};\nvar obj2 = {\n  a: 2,\n  foo: foo,\n};\n\n// obj1.foo()(); // \u9ed8\u8ba4\u7ed1\u5b9a\u89c4\u5219\u5bf9\u7bad\u5934\u51fd\u6570\u65e0\u6548\u3002\n// var bar = foo().call(obj2); // \u663e\u5f0f\u7ed1\u5b9a\u89c4\u5219\u65e0\u6548\n// obj1.foo(); // \u9690\u5f0f\u7ed1\u5b9a\u65e0\u6548\n"})}),"\n",(0,i.jsxs)(e.p,{children:["\u4ece\u4e0a\u9762\u7684\u4f8b\u5b50\u53ef\u4ee5\u770b\u51fa,\u9ed8\u8ba4\u7ed1\u5b9a\u3001\u663e\u5f0f\u7ed1\u5b9a\u548c\u9690\u5f0f\u7ed1\u5b9a\u7b49\u89c4\u5219\u90fd\u65e0\u6cd5\u6539\u53d8\u7bad\u5934\u51fd\u6570\u7684",(0,i.jsx)(e.code,{children:"this"}),"\u6307\u5411\u3002\u7bad\u5934\u51fd\u6570\u7684",(0,i.jsx)(e.code,{children:"this"}),"\u5b8c\u5168\u7531\u5176\u7236\u7ea7\u4f5c\u7528\u57df\u51b3\u5b9a\u3002"]}),"\n",(0,i.jsxs)(e.p,{children:["\u6b64\u5916,\u7bad\u5934\u51fd\u6570\u4e5f\u4e0d\u80fd\u4f5c\u4e3a\u6784\u9020\u51fd\u6570\u4f7f\u7528,",(0,i.jsx)(e.code,{children:"new"}),"\u5173\u952e\u5b57\u65e0\u6cd5\u5b9e\u4f8b\u5316\u7bad\u5934\u51fd\u6570:"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-javascript",children:"var foo = () => {\n  console.log(this);\n};\nfoo();\n\nnew foo(); // TypeError: foo is not a constructor\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:o(38160).A+"",width:"790",height:"223"})}),"\n",(0,i.jsx)(e.h2,{id:"\u603b\u7ed3",children:"\u603b\u7ed3"}),"\n",(0,i.jsxs)(e.p,{children:["\u7efc\u4e0a\u6240\u8ff0,\u7bad\u5934\u51fd\u6570\u7684",(0,i.jsx)(e.code,{children:"this"}),"\u7ed1\u5b9a\u6709\u5176\u7279\u6b8a\u6027:"]}),"\n",(0,i.jsxs)(e.p,{children:["\u7bad\u5934\u51fd\u6570\u672c\u8eab\u4e0d\u5b58\u5728",(0,i.jsx)(e.code,{children:"this"}),"\u6307\u5411,\u5176",(0,i.jsx)(e.code,{children:"this"}),"\u5b8c\u5168\u53d6\u51b3\u4e8e\u7236\u7ea7\u4f5c\u7528\u57df\u7684",(0,i.jsx)(e.code,{children:"this"}),"\u3002\u5e38\u89c1\u7684",(0,i.jsx)(e.code,{children:"this"}),"\u7ed1\u5b9a\u89c4\u5219\u5982\u9ed8\u8ba4\u7ed1\u5b9a\u3001\u663e\u5f0f\u7ed1\u5b9a\u3001\u9690\u5f0f\u7ed1\u5b9a\u4ee5\u53ca",(0,i.jsx)(e.code,{children:"new"}),"\u7ed1\u5b9a\u90fd\u4e0d\u9002\u7528\u4e8e\u7bad\u5934\u51fd\u6570\u3002"]}),"\n",(0,i.jsxs)(e.p,{children:["\u56e0\u6b64,\u5982\u679c\u60f3\u8981\u6539\u53d8\u7bad\u5934\u51fd\u6570\u7684",(0,i.jsx)(e.code,{children:"this"}),"\u6307\u5411,\u552f\u4e00\u7684\u529e\u6cd5\u5c31\u662f\u6539\u53d8\u5176\u7236\u7ea7\u4f5c\u7528\u57df\u7684",(0,i.jsx)(e.code,{children:"this"}),"\u6307\u5411\u3002"]}),"\n",(0,i.jsx)(e.h2,{id:"\u7ec3\u4e60",children:"\u7ec3\u4e60"}),"\n",(0,i.jsxs)(e.p,{children:["\u4e3a\u4e86\u52a0\u6df1\u5bf9\u7bad\u5934\u51fd\u6570",(0,i.jsx)(e.code,{children:"this"}),"\u7ed1\u5b9a\u7684\u7406\u89e3,\u8ba9\u6211\u4eec\u6765\u505a\u4e00\u4e9b\u7ec3\u4e60\u3002"]}),"\n",(0,i.jsx)(e.h3,{id:"\u7ec3\u4e60-1-this-\u7ed1\u5b9a",children:"\u7ec3\u4e60 1: this \u7ed1\u5b9a"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-javascript",children:"var name = 'window';\nvar obj1 = {\n  name: '1',\n  fn1: function () {\n    console.log(this.name);\n  },\n  fn2: () => console.log(this.name),\n  fn3: function () {\n    return function () {\n      console.log(this.name);\n    };\n  },\n  fn4: function () {\n    return () => console.log(this.name);\n  },\n};\nvar obj2 = {\n  name: '2',\n};\n\nobj1.fn1(); // 1 (\u5bf9\u8c61\u8c03\u7528,this\u6307\u5411obj1)\nobj1.fn1.call(obj2); // 2 (call\u6539\u53d8this\u6307\u5411\u4e3aobj2)\n\nobj1.fn2(); // window (\u7bad\u5934\u51fd\u6570,\u76f4\u63a5\u770b\u7236\u4f5c\u7528\u57dfwindow\u7684name)\nobj1.fn2.call(obj2); // window (\u7bad\u5934\u51fd\u6570,call\u65e0\u6cd5\u6539\u53d8\u5176this\u6307\u5411)\n\nobj1.fn3()(); // window (\u72ec\u7acb\u8c03\u7528,this\u6307\u5411window)\nobj1.fn3().call(obj2); // 2 (call\u6539\u53d8\u8fd4\u56de\u51fd\u6570\u7684this\u4e3aobj2)\nobj1.fn3.call(obj2)(); // window (\u72ec\u7acb\u8c03\u7528,this\u4ecd\u6307\u5411window)\n\nobj1.fn4()(); // 1 (\u7bad\u5934\u51fd\u6570,\u770b\u7236\u4f5c\u7528\u57dffn4\u7684this,\u5373obj1)\nobj1.fn4().call(obj2); // 1 (\u7bad\u5934\u51fd\u6570,call\u65e0\u6cd5\u6539\u53d8\u5176this\u6307\u5411)\nobj1.fn4.call(obj2)(); // 2 (call\u6539\u53d8\u7236\u4f5c\u7528\u57dffn4\u7684this\u4e3aobj2,\u7bad\u5934\u51fd\u6570\u8ddf\u968f\u5176\u53d8\u5316)\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:o(57678).A+"",width:"920",height:"434"})}),"\n",(0,i.jsx)(e.h3,{id:"\u7ec3\u4e60-2-\u7efc\u5408\u7ec3\u4e60",children:"\u7ec3\u4e60 2: \u7efc\u5408\u7ec3\u4e60"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-javascript",children:"function Foo() {\n  getName = function () {\n    console.log(1);\n  };\n  return this;\n}\nFoo.getName = function () {\n  console.log(2);\n};\nFoo.prototype.getName = function () {\n  console.log(3);\n};\nvar getName = function () {\n  console.log(4);\n};\n\nfunction getName() {\n  console.log(5);\n}\n\nFoo.getName(); // 2 (\u6784\u9020\u51fd\u6570\u7684\u9759\u6001\u65b9\u6cd5)\ngetName(); // 4 (\u5168\u5c40\u7684getName\u51fd\u6570\u8868\u8fbe\u5f0f)\nFoo().getName(); // 1 (Foo()\u8fd4\u56dethis,\u5373window,\u6267\u884cwindow.getName,\u8f93\u51fa1)\ngetName(); // 1 (window.getName\u5df2\u88abFoo\u5185\u90e8\u7684getName\u8986\u76d6)\n\nnew Foo.getName(); // 2 (Foo.getName\u4f5c\u4e3a\u6784\u9020\u51fd\u6570\u8c03\u7528)\nnew Foo().getName(); // 3 (Foo\u5b9e\u4f8b\u4e0a\u7684\u539f\u578b\u65b9\u6cd5getName)\nnew new Foo().getName(); // 3 (\u7b49\u4ef7\u4e8enew (new Foo()).getName())\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:o(39933).A+"",width:"907",height:"345"})})]})}function r(n={}){const{wrapper:e}={...(0,c.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(h,{...n})}):h(n)}},57678:(n,e,o)=>{o.d(e,{A:()=>s});const s=o.p+"assets/images/22e5b2b1a0f538019ee8800b9a21f60a-80f3f768886040c72b0642b82861206a.png"},38160:(n,e,o)=>{o.d(e,{A:()=>s});const s=o.p+"assets/images/4a164375b5a0bd642ab5298974cf03c1-19077889e19e59c7893e943433bbf0c2.png"},38939:(n,e,o)=>{o.d(e,{A:()=>s});const s=o.p+"assets/images/7bca4125e17fe9a232aec9a4c9ad3df6-a1e83928bea5943572c9267eca09bc8b.png"},39933:(n,e,o)=>{o.d(e,{A:()=>s});const s=o.p+"assets/images/b63a2ca35c1d031e45ad5e9f2be5e6c1-a231d838e2cd060aee7ef710cb24389e.png"},28453:(n,e,o)=>{o.d(e,{R:()=>t,x:()=>d});var s=o(96540);const i={},c=s.createContext(i);function t(n){const e=s.useContext(c);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:t(n.components),s.createElement(c.Provider,{value:e},n.children)}}}]);