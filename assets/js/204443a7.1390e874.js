"use strict";(self.webpackChunknote_book=self.webpackChunknote_book||[]).push([["6932"],{30529:function(n,e,o){o.r(e),o.d(e,{default:()=>h,frontMatter:()=>c,metadata:()=>i,assets:()=>l,toc:()=>r,contentTitle:()=>d});var i=JSON.parse('{"id":"Frontend/JavaScript/\u5E38\u89C1\u95EE\u9898/\u7BAD\u5934\u51FD\u6570\u7684this-this\u7684\u4F18\u5148\u7EA7","title":"\u7BAD\u5934\u51FD\u6570\u4E2D\u7684 this \u7ED1\u5B9A","description":"\u5728 JavaScript \u4E2D,\u7BAD\u5934\u51FD\u6570\u7684this\u7ED1\u5B9A\u4E0E\u666E\u901A\u51FD\u6570\u6709\u6240\u4E0D\u540C\u3002\u8BA9\u6211\u4EEC\u901A\u8FC7\u4E00\u4E9B\u793A\u4F8B\u6765\u6DF1\u5165\u7406\u89E3\u7BAD\u5934\u51FD\u6570\u4E2Dthis\u7684\u884C\u4E3A\u3002","source":"@site/docs/Frontend/JavaScript/\u5E38\u89C1\u95EE\u9898/80.\u7BAD\u5934\u51FD\u6570\u7684this-this\u7684\u4F18\u5148\u7EA7.md","sourceDirName":"Frontend/JavaScript/\u5E38\u89C1\u95EE\u9898","slug":"/Frontend/JavaScript/\u5E38\u89C1\u95EE\u9898/\u7BAD\u5934\u51FD\u6570\u7684this-this\u7684\u4F18\u5148\u7EA7","permalink":"/docs-hub/Frontend/JavaScript/\u5E38\u89C1\u95EE\u9898/\u7BAD\u5934\u51FD\u6570\u7684this-this\u7684\u4F18\u5148\u7EA7","draft":false,"unlisted":false,"editUrl":"https://github.com/sumingcheng/docs-hub/edit/main/docs/Frontend/JavaScript/\u5E38\u89C1\u95EE\u9898/80.\u7BAD\u5934\u51FD\u6570\u7684this-this\u7684\u4F18\u5148\u7EA7.md","tags":[],"version":"current","lastUpdatedBy":"sumingcheng","lastUpdatedAt":1739167030000,"sidebarPosition":80,"frontMatter":{},"sidebar":"javascriptSidebar","previous":{"title":"this \u6307\u5411\u603B\u7ED3","permalink":"/docs-hub/Frontend/JavaScript/\u5E38\u89C1\u95EE\u9898/this\u6307\u5411\u7684\u603B\u7ED3"},"next":{"title":"new \u5B9E\u4F8B\u5316\u7684\u91CD\u5199","permalink":"/docs-hub/Frontend/JavaScript/\u5E38\u89C1\u95EE\u9898/new\u5B9E\u4F8B\u5316\u7684\u91CD\u5199"}}'),s=o("85893"),t=o("50065");let c={},d="\u7BAD\u5934\u51FD\u6570\u4E2D\u7684 this \u7ED1\u5B9A",l={},r=[{value:"new \u548C bind \u7684\u4F18\u5148\u7EA7",id:"new-\u548C-bind-\u7684\u4F18\u5148\u7EA7",level:2},{value:"\u7BAD\u5934\u51FD\u6570\u4E2D\u7684 this",id:"\u7BAD\u5934\u51FD\u6570\u4E2D\u7684-this",level:2},{value:"\u7BAD\u5934\u51FD\u6570\u4E2D this \u7ED1\u5B9A\u7684\u7279\u6B8A\u6027",id:"\u7BAD\u5934\u51FD\u6570\u4E2D-this-\u7ED1\u5B9A\u7684\u7279\u6B8A\u6027",level:2},{value:"\u603B\u7ED3",id:"\u603B\u7ED3",level:2},{value:"\u7EC3\u4E60",id:"\u7EC3\u4E60",level:2},{value:"\u7EC3\u4E60 1: this \u7ED1\u5B9A",id:"\u7EC3\u4E60-1-this-\u7ED1\u5B9A",level:3},{value:"\u7EC3\u4E60 2: \u7EFC\u5408\u7EC3\u4E60",id:"\u7EC3\u4E60-2-\u7EFC\u5408\u7EC3\u4E60",level:3}];function a(n){let e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",...(0,t.a)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"\u7BAD\u5934\u51FD\u6570\u4E2D\u7684-this-\u7ED1\u5B9A",children:"\u7BAD\u5934\u51FD\u6570\u4E2D\u7684 this \u7ED1\u5B9A"})}),"\n",(0,s.jsxs)(e.p,{children:["\u5728 JavaScript \u4E2D,\u7BAD\u5934\u51FD\u6570\u7684",(0,s.jsx)(e.code,{children:"this"}),"\u7ED1\u5B9A\u4E0E\u666E\u901A\u51FD\u6570\u6709\u6240\u4E0D\u540C\u3002\u8BA9\u6211\u4EEC\u901A\u8FC7\u4E00\u4E9B\u793A\u4F8B\u6765\u6DF1\u5165\u7406\u89E3\u7BAD\u5934\u51FD\u6570\u4E2D",(0,s.jsx)(e.code,{children:"this"}),"\u7684\u884C\u4E3A\u3002"]}),"\n",(0,s.jsx)(e.h2,{id:"new-\u548C-bind-\u7684\u4F18\u5148\u7EA7",children:"new \u548C bind \u7684\u4F18\u5148\u7EA7"}),"\n",(0,s.jsxs)(e.p,{children:["\u9996\u5148,\u6211\u4EEC\u6765\u770B\u4E00\u4E0B",(0,s.jsx)(e.code,{children:"new"}),"\u548C",(0,s.jsx)(e.code,{children:"bind"}),"\u7684\u4F18\u5148\u7EA7:"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-javascript",children:"function foo(b) {\n  this.a = b;\n}\n\nvar obj1 = {};\nconsole.log(foo.bind(obj1));\nvar bar = foo.bind(obj1);\nbar(2);\n\nconsole.log(obj1.a); // 2\n// new \u628A this \u7684\u6307\u5411\u6539\u53D8\u6210\u4E86 baz\nvar baz = new bar(3);\n// obj1.a \u7684\u5C5E\u6027\u6CA1\u6709\u53D8\u5316,\u53D8\u5316\u7684\u662F\u5B9E\u4F8B\u5316\u540E\u7684\u5BF9\u8C61\nconsole.log(obj1.a); // 2\nconsole.log(baz.a); // 3\n"})}),"\n",(0,s.jsxs)(e.p,{children:["\u4ECE\u4E0A\u9762\u7684\u4F8B\u5B50\u53EF\u4EE5\u770B\u51FA,",(0,s.jsx)(e.code,{children:"new"}),"\u7684\u4F18\u5148\u7EA7\u9AD8\u4E8E",(0,s.jsx)(e.code,{children:"bind"}),"\u3002\u5F53\u4F7F\u7528",(0,s.jsx)(e.code,{children:"new"}),"\u5173\u952E\u5B57\u5B9E\u4F8B\u5316\u4E00\u4E2A\u7ED1\u5B9A\u4E86",(0,s.jsx)(e.code,{children:"this"}),"\u7684\u51FD\u6570\u65F6,",(0,s.jsx)(e.code,{children:"this"}),"\u7684\u6307\u5411\u4F1A\u88AB",(0,s.jsx)(e.code,{children:"new"}),"\u6539\u53D8,\u800C\u539F\u6765\u7ED1\u5B9A\u7684\u5BF9\u8C61\u4E0D\u53D7\u5F71\u54CD\u3002"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:o(15018).Z+"",width:"554",height:"294"})}),"\n",(0,s.jsx)(e.h2,{id:"\u7BAD\u5934\u51FD\u6570\u4E2D\u7684-this",children:"\u7BAD\u5934\u51FD\u6570\u4E2D\u7684 this"}),"\n",(0,s.jsxs)(e.p,{children:["\u7BAD\u5934\u51FD\u6570\u4E0E\u666E\u901A\u51FD\u6570\u5728",(0,s.jsx)(e.code,{children:"this"}),"\u7ED1\u5B9A\u4E0A\u6709\u7740\u663E\u8457\u7684\u533A\u522B:"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\u7BAD\u5934\u51FD\u6570\u672C\u8EAB\u6CA1\u6709\u81EA\u5DF1\u7684",(0,s.jsx)(e.code,{children:"this"}),"\u6307\u5411\u3002"]}),"\n",(0,s.jsxs)(e.li,{children:["\u7BAD\u5934\u51FD\u6570\u7684",(0,s.jsx)(e.code,{children:"this"}),"\u6307\u5411\u7531\u5176\u6240\u5728\u7684\u7236\u7EA7\u4F5C\u7528\u57DF\u51B3\u5B9A\u3002"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-javascript",children:"var a = 0;\n\nfunction foo() {\n  console.log(this);\n  var test = () => {\n    console.log(this);\n  };\n  test();\n}\nvar obj = {\n  a: 1,\n  foo: foo,\n};\nfoo(); // window\nobj.foo(); // obj\n"})}),"\n",(0,s.jsxs)(e.p,{children:["\u5728\u4E0A\u9762\u7684\u4F8B\u5B50\u4E2D,\u7BAD\u5934\u51FD\u6570",(0,s.jsx)(e.code,{children:"test"}),"\u6CA1\u6709\u81EA\u5DF1\u7684",(0,s.jsx)(e.code,{children:"this"}),",\u5B83\u7684",(0,s.jsx)(e.code,{children:"this"}),"\u7531\u7236\u7EA7\u4F5C\u7528\u57DF",(0,s.jsx)(e.code,{children:"foo"}),"\u7684",(0,s.jsx)(e.code,{children:"this"}),"\u51B3\u5B9A\u3002\u5F53",(0,s.jsx)(e.code,{children:"foo"}),"\u88AB\u4F5C\u4E3A\u666E\u901A\u51FD\u6570\u8C03\u7528\u65F6,",(0,s.jsx)(e.code,{children:"this"}),"\u6307\u5411\u5168\u5C40\u5BF9\u8C61",(0,s.jsx)(e.code,{children:"window"}),";\u800C\u5F53",(0,s.jsx)(e.code,{children:"foo"}),"\u4F5C\u4E3A\u5BF9\u8C61",(0,s.jsx)(e.code,{children:"obj"}),"\u7684\u65B9\u6CD5\u8C03\u7528\u65F6,",(0,s.jsx)(e.code,{children:"this"}),"\u6307\u5411",(0,s.jsx)(e.code,{children:"obj"}),"\u3002"]}),"\n",(0,s.jsx)(e.h2,{id:"\u7BAD\u5934\u51FD\u6570\u4E2D-this-\u7ED1\u5B9A\u7684\u7279\u6B8A\u6027",children:"\u7BAD\u5934\u51FD\u6570\u4E2D this \u7ED1\u5B9A\u7684\u7279\u6B8A\u6027"}),"\n",(0,s.jsxs)(e.p,{children:["\u7531\u4E8E\u7BAD\u5934\u51FD\u6570\u7684",(0,s.jsx)(e.code,{children:"this"}),"\u7531\u7236\u7EA7\u4F5C\u7528\u57DF\u51B3\u5B9A,\u90A3\u4E48\u5E38\u89C1\u7684",(0,s.jsx)(e.code,{children:"this"}),"\u7ED1\u5B9A\u89C4\u5219\u5BF9\u7BAD\u5934\u51FD\u6570\u662F\u5426\u8FD8\u9002\u7528\u5462?\u8BA9\u6211\u4EEC\u6765\u770B\u4E00\u4E2A\u4F8B\u5B50:"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-javascript",children:"var a = 0;\n\nfunction foo() {\n  console.log(this);\n  var test = () => {\n    console.log(this);\n  };\n  return test;\n}\n\nvar obj1 = {\n  a: 1,\n  foo: () => {\n    console.log(this);\n  },\n};\nvar obj2 = {\n  a: 2,\n  foo: foo,\n};\n\n// obj1.foo()(); // \u9ED8\u8BA4\u7ED1\u5B9A\u89C4\u5219\u5BF9\u7BAD\u5934\u51FD\u6570\u65E0\u6548\u3002\n// var bar = foo().call(obj2); // \u663E\u5F0F\u7ED1\u5B9A\u89C4\u5219\u65E0\u6548\n// obj1.foo(); // \u9690\u5F0F\u7ED1\u5B9A\u65E0\u6548\n"})}),"\n",(0,s.jsxs)(e.p,{children:["\u4ECE\u4E0A\u9762\u7684\u4F8B\u5B50\u53EF\u4EE5\u770B\u51FA,\u9ED8\u8BA4\u7ED1\u5B9A\u3001\u663E\u5F0F\u7ED1\u5B9A\u548C\u9690\u5F0F\u7ED1\u5B9A\u7B49\u89C4\u5219\u90FD\u65E0\u6CD5\u6539\u53D8\u7BAD\u5934\u51FD\u6570\u7684",(0,s.jsx)(e.code,{children:"this"}),"\u6307\u5411\u3002\u7BAD\u5934\u51FD\u6570\u7684",(0,s.jsx)(e.code,{children:"this"}),"\u5B8C\u5168\u7531\u5176\u7236\u7EA7\u4F5C\u7528\u57DF\u51B3\u5B9A\u3002"]}),"\n",(0,s.jsxs)(e.p,{children:["\u6B64\u5916,\u7BAD\u5934\u51FD\u6570\u4E5F\u4E0D\u80FD\u4F5C\u4E3A\u6784\u9020\u51FD\u6570\u4F7F\u7528,",(0,s.jsx)(e.code,{children:"new"}),"\u5173\u952E\u5B57\u65E0\u6CD5\u5B9E\u4F8B\u5316\u7BAD\u5934\u51FD\u6570:"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-javascript",children:"var foo = () => {\n  console.log(this);\n};\nfoo();\n\nnew foo(); // TypeError: foo is not a constructor\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:o(89789).Z+"",width:"790",height:"223"})}),"\n",(0,s.jsx)(e.h2,{id:"\u603B\u7ED3",children:"\u603B\u7ED3"}),"\n",(0,s.jsxs)(e.p,{children:["\u7EFC\u4E0A\u6240\u8FF0,\u7BAD\u5934\u51FD\u6570\u7684",(0,s.jsx)(e.code,{children:"this"}),"\u7ED1\u5B9A\u6709\u5176\u7279\u6B8A\u6027:"]}),"\n",(0,s.jsxs)(e.p,{children:["\u7BAD\u5934\u51FD\u6570\u672C\u8EAB\u4E0D\u5B58\u5728",(0,s.jsx)(e.code,{children:"this"}),"\u6307\u5411,\u5176",(0,s.jsx)(e.code,{children:"this"}),"\u5B8C\u5168\u53D6\u51B3\u4E8E\u7236\u7EA7\u4F5C\u7528\u57DF\u7684",(0,s.jsx)(e.code,{children:"this"}),"\u3002\u5E38\u89C1\u7684",(0,s.jsx)(e.code,{children:"this"}),"\u7ED1\u5B9A\u89C4\u5219\u5982\u9ED8\u8BA4\u7ED1\u5B9A\u3001\u663E\u5F0F\u7ED1\u5B9A\u3001\u9690\u5F0F\u7ED1\u5B9A\u4EE5\u53CA",(0,s.jsx)(e.code,{children:"new"}),"\u7ED1\u5B9A\u90FD\u4E0D\u9002\u7528\u4E8E\u7BAD\u5934\u51FD\u6570\u3002"]}),"\n",(0,s.jsxs)(e.p,{children:["\u56E0\u6B64,\u5982\u679C\u60F3\u8981\u6539\u53D8\u7BAD\u5934\u51FD\u6570\u7684",(0,s.jsx)(e.code,{children:"this"}),"\u6307\u5411,\u552F\u4E00\u7684\u529E\u6CD5\u5C31\u662F\u6539\u53D8\u5176\u7236\u7EA7\u4F5C\u7528\u57DF\u7684",(0,s.jsx)(e.code,{children:"this"}),"\u6307\u5411\u3002"]}),"\n",(0,s.jsx)(e.h2,{id:"\u7EC3\u4E60",children:"\u7EC3\u4E60"}),"\n",(0,s.jsxs)(e.p,{children:["\u4E3A\u4E86\u52A0\u6DF1\u5BF9\u7BAD\u5934\u51FD\u6570",(0,s.jsx)(e.code,{children:"this"}),"\u7ED1\u5B9A\u7684\u7406\u89E3,\u8BA9\u6211\u4EEC\u6765\u505A\u4E00\u4E9B\u7EC3\u4E60\u3002"]}),"\n",(0,s.jsx)(e.h3,{id:"\u7EC3\u4E60-1-this-\u7ED1\u5B9A",children:"\u7EC3\u4E60 1: this \u7ED1\u5B9A"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-javascript",children:"var name = 'window';\nvar obj1 = {\n  name: '1',\n  fn1: function () {\n    console.log(this.name);\n  },\n  fn2: () => console.log(this.name),\n  fn3: function () {\n    return function () {\n      console.log(this.name);\n    };\n  },\n  fn4: function () {\n    return () => console.log(this.name);\n  },\n};\nvar obj2 = {\n  name: '2',\n};\n\nobj1.fn1(); // 1 (\u5BF9\u8C61\u8C03\u7528,this\u6307\u5411obj1)\nobj1.fn1.call(obj2); // 2 (call\u6539\u53D8this\u6307\u5411\u4E3Aobj2)\n\nobj1.fn2(); // window (\u7BAD\u5934\u51FD\u6570,\u76F4\u63A5\u770B\u7236\u4F5C\u7528\u57DFwindow\u7684name)\nobj1.fn2.call(obj2); // window (\u7BAD\u5934\u51FD\u6570,call\u65E0\u6CD5\u6539\u53D8\u5176this\u6307\u5411)\n\nobj1.fn3()(); // window (\u72EC\u7ACB\u8C03\u7528,this\u6307\u5411window)\nobj1.fn3().call(obj2); // 2 (call\u6539\u53D8\u8FD4\u56DE\u51FD\u6570\u7684this\u4E3Aobj2)\nobj1.fn3.call(obj2)(); // window (\u72EC\u7ACB\u8C03\u7528,this\u4ECD\u6307\u5411window)\n\nobj1.fn4()(); // 1 (\u7BAD\u5934\u51FD\u6570,\u770B\u7236\u4F5C\u7528\u57DFfn4\u7684this,\u5373obj1)\nobj1.fn4().call(obj2); // 1 (\u7BAD\u5934\u51FD\u6570,call\u65E0\u6CD5\u6539\u53D8\u5176this\u6307\u5411)\nobj1.fn4.call(obj2)(); // 2 (call\u6539\u53D8\u7236\u4F5C\u7528\u57DFfn4\u7684this\u4E3Aobj2,\u7BAD\u5934\u51FD\u6570\u8DDF\u968F\u5176\u53D8\u5316)\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:o(79191).Z+"",width:"920",height:"434"})}),"\n",(0,s.jsx)(e.h3,{id:"\u7EC3\u4E60-2-\u7EFC\u5408\u7EC3\u4E60",children:"\u7EC3\u4E60 2: \u7EFC\u5408\u7EC3\u4E60"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-javascript",children:"function Foo() {\n  getName = function () {\n    console.log(1);\n  };\n  return this;\n}\nFoo.getName = function () {\n  console.log(2);\n};\nFoo.prototype.getName = function () {\n  console.log(3);\n};\nvar getName = function () {\n  console.log(4);\n};\n\nfunction getName() {\n  console.log(5);\n}\n\nFoo.getName(); // 2 (\u6784\u9020\u51FD\u6570\u7684\u9759\u6001\u65B9\u6CD5)\ngetName(); // 4 (\u5168\u5C40\u7684getName\u51FD\u6570\u8868\u8FBE\u5F0F)\nFoo().getName(); // 1 (Foo()\u8FD4\u56DEthis,\u5373window,\u6267\u884Cwindow.getName,\u8F93\u51FA1)\ngetName(); // 1 (window.getName\u5DF2\u88ABFoo\u5185\u90E8\u7684getName\u8986\u76D6)\n\nnew Foo.getName(); // 2 (Foo.getName\u4F5C\u4E3A\u6784\u9020\u51FD\u6570\u8C03\u7528)\nnew Foo().getName(); // 3 (Foo\u5B9E\u4F8B\u4E0A\u7684\u539F\u578B\u65B9\u6CD5getName)\nnew new Foo().getName(); // 3 (\u7B49\u4EF7\u4E8Enew (new Foo()).getName())\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:o(55631).Z+"",width:"907",height:"345"})})]})}function h(n={}){let{wrapper:e}={...(0,t.a)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(a,{...n})}):a(n)}},79191:function(n,e,o){o.d(e,{Z:function(){return i}});let i=o.p+"assets/images/22e5b2b1a0f538019ee8800b9a21f60a-80f3f768886040c72b0642b82861206a.png"},89789:function(n,e,o){o.d(e,{Z:function(){return i}});let i=o.p+"assets/images/4a164375b5a0bd642ab5298974cf03c1-19077889e19e59c7893e943433bbf0c2.png"},15018:function(n,e,o){o.d(e,{Z:function(){return i}});let i=o.p+"assets/images/7bca4125e17fe9a232aec9a4c9ad3df6-a1e83928bea5943572c9267eca09bc8b.png"},55631:function(n,e,o){o.d(e,{Z:function(){return i}});let i=o.p+"assets/images/b63a2ca35c1d031e45ad5e9f2be5e6c1-a231d838e2cd060aee7ef710cb24389e.png"},50065:function(n,e,o){o.d(e,{Z:function(){return d},a:function(){return c}});var i=o(67294);let s={},t=i.createContext(s);function c(n){let e=i.useContext(t);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:c(n.components),i.createElement(t.Provider,{value:e},n.children)}}}]);