---
slug: linux-命令行实用的小技巧
title: Linux 命令行实用的小技巧
authors: [sumingcheng]
tags: [os-and-commands]
date: 2024-06-20
---

# Linux 命令行实用的小技巧

**重复上一个命令**

- 输入 `!!` 并按回车，快速执行上一条命令。

**重用上一个命令的最后一个参数**

- 输入 `!$` 可以在新命令中使用上一个命令的最后一个参数。

**快速创建或删除多个文件夹**

- 使用 `mkdir folder1 folder2 folder3` 同时创建多个文件夹。
- 使用 `rm -r folder1 folder2 folder3` 一次性删除多个文件夹及其内容。

**搜索命令历史**

- 按 `ctrl+r` 开始输入搜索历史命令，继续按 `ctrl+r` 可查看更多匹配的历史命令。

**创建命令别名**

- 对于经常使用的长命令，可以使用 `alias` 创建一个简短的别名，例如 `alias ll='ls -la'`。
- 取消使用 `unalias ll`，重载配置 `source ~/.bashrc`

**暂停和继续进程**

- 使用 `ctrl+z` 暂停当前进程，使用 `fg` 将其恢复到前台继续运行。

**定时执行命令并显示结果**

- 使用 `watch` 命令定时执行其他命令，并实时显示结果，例如 `watch -n 10 df -h` 每 10 秒检查一次磁盘使用情况。
- 60 秒后自动终止 `watch` 命令`timeout 60 watch -n 10 df -h`

**快速切换回之前的目录**

- 使用 `cd -` 快速返回到之前的目录。

**批量重命名或移动文件**

- 使用 `rename 's/.txt/.bak/' *.txt` 将所有 `.txt` 文件扩展名改为 `.bak`。

**倒序输出文件内容**

- 使用 `tac` 命令可以倒序显示文件内容，适用于查看日志文件。

**搜索内容并高亮显示**

- 使用 `grep --color 'text' filename` 可以高亮显示匹配的文本。

**管理多个会话**

- 使用 `screen` 或 `tmux` 可以在一个窗口中开启多个会话，适合同时运行多个命令行程序。

**在后台运行程序并忽略挂起信号**

- 使用 `nohup command &` 可以让程序在退出终端后继续运行。

**快速删除大量文件**

- 使用 `find . -type f -name 'pattern' -delete` 可以更高效地删除大量文件。

**设置环境变量的默认值**

- 使用 `${VAR:-default}` 在变量未设置或为空时提供一个默认值。

**比较两个文件的不同**

- 使用 `diff` 快速识别两个文件之间的差异。
- `diff -u version1.txt version2.txt`。这将输出两个文件内容的差异，并使用 `-u` 选项格式显示上下文，帮助你理解每处差异的前后关系。

**监控文件变化**

- 使用 `tail -f filename` 实时监控文件末尾部分的变化，非常适合实时查看正在写入的日志文件。
