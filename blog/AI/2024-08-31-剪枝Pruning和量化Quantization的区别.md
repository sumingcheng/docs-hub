# 剪枝（Pruning）和量化（Quantization）的区别



 **Link:** [https://zhuanlan.zhihu.com/p/717519052]

## 剪枝（Pruning）  

剪枝是一种通过移除模型中不重要或不活跃的参数（通常是权重）来减少模型大小的技术。它通过分析哪些参数对最终输出影响较小，然后将这些参数从模型中删除，从而减少计算量和内存使用。

剪枝后，模型的参数数量减少，但通常仍然保持类似的性能。

## 举例  

有一棵树（这棵树代表你的模型），这棵树上有许多枝条（这些枝条代表模型中的参数）。但是，某些枝条并不结出果实（这些无果的枝条对最终的结果贡献很小）。为了让树更加健康并且节省空间，你决定修剪掉这些不结出果实的枝条。这就是剪枝通过去除那些对模型输出影响不大的参数，来减少模型的规模和复杂度。

## 量化（Quantization）  

量化是将模型的参数和计算从较高精度（如32位浮点数）转换为较低精度（如16位浮点数或8位整数）的方法。这种方法通过减少参数表示的比特数来降低模型的存储需求和计算复杂度。

量化可能会略微影响模型的精度，但在大多数情况下，这种影响是可接受的，尤其是当它显著降低了资源消耗时。

## 举例  

要记录这棵树的形状和大小（这代表模型的参数存储）。最初，你用非常精细的刻度尺来测量每个枝条的长度和厚度（这代表高精度的参数表示，比如32位浮点数）。然而，这种精细的测量需要很多纸和墨水（大量的计算资源和存储空间）。于是你决定换一把较粗的刻度尺（较低精度的表示，比如8位整数），虽然测量结果可能不如之前精确，但仍然足够描述树的主要形状。

## 如何选择量化或者剪枝  

如果你需要减少模型的总大小或提升模型在特定硬件上的兼容性，应选择量化。如果目标是减少非必要的计算和提升推理速度，应选择剪枝。在许多情况下，结合使用这两种技术可以达到最佳的优化效果。

