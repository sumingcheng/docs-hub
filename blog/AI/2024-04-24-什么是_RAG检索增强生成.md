---
slug: 什么是-rag检索增强生成
title: 什么是 RAG检索增强生成
authors: [sumingcheng]
tags: [ai]
date: 2024-04-24
---

# 什么是 RAG（检索增强生成）

## 检索增强生成（Retrieval-Augmented Generation, RAG）

**数据预处理和文档摄取**：首先，从各种数据源（如数据库、文档或实时数据源）收集原始数据。这些数据经过预处理，如文本分割，以适应嵌入模型的要求。这一步骤确保数据可以被系统高效处理。也是最最重要的一步，数据好才能有好的生成结果。

**生成嵌入向量**：预处理后的数据需要转换成向量形式。这些向量是通过嵌入模型生成的，代表了文本的数值形式，使得检索模型能够快速识别相关数据点。

**向量数据库存储**：生成的嵌入向量存储在专门的向量数据库中，这些数据库优化了搜索和检索操作，确保信息随时可访问，并能在实时交互中快速检索。

**使用大型语言模型（LLM）生成响应**：当用户提交查询时，系统利用索引数据和向量执行高效搜索，检索相关信息。然后，LLM 使用检索到的数据来制定恰当的响应。

**优化和安全措施**：为了提高系统性能，可以通过 GPU 加速数据预处理、索引和检索过程。此外，考虑数据安全，特别是在企业环境下，通过角色基于访问控制（RBAC）等措施，确保数据的安全。

### 向量搜索数据库选择

**Faiss:** 由 Facebook AI Research 开发，Faiss 针对密集向量的相似性搜索和聚类进行了专门的优化。它特别适合进行高维向量搜索，且支持 GPU 加速，使其在处理大量数据集时显著提高了效率。

**Elasticsearch with Vector Search Plugin:** 作为一款支持全文和结构化搜索的开源搜索引擎，Elasticsearch 通过引入向量搜索插件（比如自身的向量打分功能或是第三方插件），也实现了高效的向量搜索能力。

**Milvus:** 作为一个开源的向量数据库，Milvus 支持存储、检索以及分析大规模向量数据。它提供了多种索引类型的支持，并且能够进行无缝扩展，非常适合企业级的应用场景。
