# IPFS 中的固定和获取操作

## IPFS 中的"pin"和"get"操作

### "Pin" 操作

"Pin"操作用于将特定文件通过其内容标识符（CID）固定在本地节点上，确保该文件不会被垃圾回收机制删除。这意味着即使其他节点不再存储该文件，您的本地节点仍会保留一份副本。这样做的目的是保证重要或常用的文件始终在本地可用，提高文件的可访问性和持久性。

例如，要固定一个文件，可以使用以下命令：

```bash
ipfs pin add QmYourContentIdentifier
```

### "Get" 操作

"Get"操作用于请求并检索特定文件。如果该文件已经存在于本地节点，"get"操作会直接从本地存储中获取；如果不存在，IPFS 会通过网络从其他节点获取该文件。从本地获取文件通常比通过网络获取更快，因为避免了网络延迟和数据传输时间。

例如，要获取一个文件，可以使用以下命令：

```bash
ipfs get QmYourContentIdentifier
```

## 先"pin"后"get"的优势

通过先"pin"文件，确保该文件已经存储在本地节点，这意味着在执行"get"操作时，文件已经存在于本地，可以立即访问。由于文件已在本地，"get"操作无需通过网络请求其他节点，从而显著减少了获取文件所需的时间。此外，即使网络状况不佳或其他节点下线，您仍可以通过本地副本访问已固定的文件，提高了数据的可用性和可靠性。

## 补充说明

IPFS 本身具有缓存机制，即使未显式地"pin"文件，最近访问过的文件可能会暂时保存在本地。然而，这些缓存文件可能会因空间限制或其他因素而被清除。因此，"pin"操作提供了一种更持久和可靠的方式来确保文件的本地可用性。

在使用场景方面，对于需要频繁访问或关键的重要文件，建议先"pin"以确保高效和可靠的访问。而对于临时或不常用的文件，直接"get"可能更为合适。

# 最佳实践

在实际操作中，合理规划哪些文件需要固定是关键。对于团队协作项目中常用的资源文件，应优先进行"pin"操作，以确保所有团队成员都能快速访问。此外，定期检查和管理固定的文件列表，可以有效利用本地存储空间，避免不必要的资源占用。

例如，定期执行以下命令查看当前固定的文件：

```bash
ipfs pin ls
```

根据需要，移除不再需要固定的文件：

```bash
ipfs pin rm QmYourContentIdentifier
```

通过这些操作，可以保持本地存储的整洁和高效，确保关键数据始终可用。
