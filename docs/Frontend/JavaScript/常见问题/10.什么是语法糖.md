# 什么是语法糖

语法糖(Syntactic sugar)是由英国计算机科学家彼得·约翰·兰达(Peter J. Landin)发明的一个术语,指编程语言中添加的某些语法,这些语法对语言的功能并没有影响,但是更方便程序员使用。通常来说使用语法糖能够增加程序的可读性,从而减少程序代码出错的机会。

## 语法糖的作用

语法糖的存在主要有以下几个目的:

1. 方便程序员使用,提高开发效率
2. 增强代码可读性,减少出错几率
3. 丰富语言表现力,使代码更简洁优雅

虽然使用语法糖写出的代码看起来更简洁美观,但其实它们最终还是会被编译器转换成功能等价的基本语法形式。可以说,语法糖就是一种便捷的语法"快捷方式"。

## 语法糖举例

下面举几个常见的语法糖例子:

### 算术运算

我们知道`1+1=2`,但是`1+1+1+1=1×4=4`。那么这里的`1×4`其实就可以看做是一种语法糖,它等价于`1+1+1+1`,但表达更简洁。类似的还有`a+=1`等价于`a=a+1`。

### 数组索引

在 C 语言里,我们用`a[i]`表示`*(a+i)`,用`a[i][j]`表示`*(*(a+i)+j)`。显然`a[i][j]`的写法更清晰易懂。

### for each 循环

很多语言都提供了 for each 循环,如:

```java
for(int x : array) {
    System.out.println(x);
}
```

这其实是以下代码的语法糖:

```java
for(int i=0; i<array.length; i++) {
    int x = array[i];
    System.out.println(x);
}
```

for each 写法消除了数组索引,让循环更加简洁。

### 自动装箱和拆箱

在 Java 中,基本类型和对应的包装类型可以自动转换,如:

```java
Integer x = 1; // 自动装箱
int y = x;     // 自动拆箱
```

这其实是编译器自动为我们完成了`Integer x = Integer.valueOf(1)`和`int y = x.intValue()`。自动装箱拆箱让基本类型和对象类型的使用更加统一方便。

## 总结

综上,语法糖是一种方便程序员使用、增强可读性的语法,它不会影响语言的功能,只是换了更便捷的写法,把简化代码的任务交给了编译器。合理使用语法糖可以大大提升编码效率和代码质量。
