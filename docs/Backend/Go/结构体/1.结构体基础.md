# Go ç»“æ„ä½“

Go è¯­è¨€ä¸­çš„ç»“æ„ä½“ï¼ˆstructï¼‰æœ¬è´¨ä¸Šæ˜¯ä¸€ç§ç±»å‹ã€‚æˆ‘å¯ä»¥ä½¿ç”¨ `type` å…³é”®å­—å®šä¹‰æ–°çš„ç±»å‹ï¼ŒåŒ…æ‹¬ç»“æ„ä½“ç±»å‹ã€‚ç»“æ„ä½“æ˜¯ä¸€ç§å¤åˆç±»å‹ï¼Œå…è®¸æˆ‘å°†å¤šä¸ªä¸åŒç±»å‹çš„æ•°æ®ç»„åˆåœ¨ä¸€èµ·ï¼Œå½¢æˆä¸€ä¸ªå•ä¸€çš„ã€æ›´å¤æ‚çš„æ•°æ®ç»“æ„ã€‚

```go
package main

import "fmt"

// å®šä¹‰ä¸€ä¸ªæ–°çš„ç»“æ„ä½“ç±»å‹
type Person struct {
    Name string
    Age  int
}

func main() {
    // åˆ›å»ºä¸€ä¸ª Person ç±»å‹çš„å˜é‡
    person := Person{Name: "Alice", Age: 30}

    // æ‰“å°ç»“æ„ä½“
    fmt.Println(person)
}
```

## ç»“æ„ä½“ç±»å‹å°è£…æ•°æ®

```go
package main

import "fmt"

// å®šä¹‰ä¸€ä¸ª Car ç»“æ„ä½“ï¼Œä»£è¡¨æ±½è½¦çš„æ¦‚å¿µ
type Car struct {
    Make  string // æ±½è½¦å“ç‰Œ
    Model string // å‹å·
    Year  int    // ç”Ÿäº§å¹´ä»½
}

// NewCar æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œç”¨äºåˆ›å»ºæ–°çš„ Car å®ä¾‹
func NewCar(make, model string, year int) *Car {
    return &Car{
        Make:  make,
        Model: model,
        Year:  year,
    }
}

// Display ä¸º Car ç±»å‹å®šä¹‰äº†ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨äºæ˜¾ç¤ºæ±½è½¦ä¿¡æ¯
func (c *Car) Display() {
    fmt.Printf("Car: %s %s, Year: %d\n", c.Make, c.Model, c.Year)
}

func main() {
    // ä½¿ç”¨ NewCar æ„é€ å‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°çš„ Car å®ä¾‹
    myCar := NewCar("Toyota", "Corolla", 2020)

    // è°ƒç”¨ myCar çš„ Display æ–¹æ³•
    myCar.Display()
}
```

## ç»“æ„ä½“åˆå§‹åŒ–çš„æ–¹å¼

### æŒ‡å®šå­—æ®µåç§°

è¿™ç§æ–¹æ³•æ¸…æ™°æ˜äº†ï¼Œä¹Ÿæ˜¯æœ€å¸¸ç”¨çš„ä¸€ç§ã€‚

```go
type Person struct {
    Name string
    Age  int
}

// åˆå§‹åŒ–
person := Person{Name: "Alice", Age: 30}
```

è¿™ç§æ–¹æ³•åˆ›å»ºäº†ä¸€ä¸ª `Person` ç»“æ„ä½“çš„å®ä¾‹ `person`ã€‚è¿™é‡Œ `person` æ˜¯ä¸€ä¸ªç»“æ„ä½“ç±»å‹çš„å˜é‡ï¼Œå­˜å‚¨äº† `Person` çš„å€¼ã€‚æˆ‘å¯ä»¥ç›´æ¥é€šè¿‡ `person` è®¿é—®å…¶å­—æ®µã€‚

```go
fmt.Println(person.Name) // ç›´æ¥è®¿é—®
person.Age = 31          // ç›´æ¥ä¿®æ”¹å­—æ®µ
```

### æŒ‰ç…§å­—æ®µé¡ºåº

æŒ‰ç…§ç»“æ„ä½“ä¸­å­—æ®µå£°æ˜çš„é¡ºåºæ¥åˆå§‹åŒ–ï¼Œä½†è¿™ç§æ–¹å¼è¦æ±‚æˆ‘æä¾›æ‰€æœ‰å­—æ®µçš„å€¼ï¼Œå¹¶ä¸”ä¸€æ—¦ç»“æ„ä½“å®šä¹‰æ”¹å˜ï¼Œåˆå§‹åŒ–ä»£ç ä¹Ÿå¯èƒ½éœ€è¦æ›´æ–°ã€‚

```go
person := Person{"Bob", 25}
```

### ä½¿ç”¨ `new` å…³é”®å­—

ä½¿ç”¨ `new` å…³é”®å­—å¯ä»¥åˆ›å»ºä¸€ä¸ªæŒ‡å‘ç»“æ„ä½“çš„æŒ‡é’ˆï¼Œç»“æ„ä½“çš„å­—æ®µä¼šè¢«åˆå§‹åŒ–ä¸ºé›¶å€¼ã€‚

```go
person := new(Person)
// person æ˜¯ä¸€ä¸ªæŒ‡å‘ Person çš„æŒ‡é’ˆï¼Œå…¶å­—æ®µ Name å’Œ Age éƒ½æ˜¯é›¶å€¼ï¼ˆ"" å’Œ 0ï¼‰
```

### ç»“æ„ä½“å­—é¢é‡ä¸æŒ‡é’ˆ

å¯ä»¥ç›´æ¥åˆ›å»ºä¸€ä¸ªæŒ‡å‘ç»“æ„ä½“çš„æŒ‡é’ˆï¼Œå¹¶ç”¨å­—é¢é‡åˆå§‹åŒ–å®ƒã€‚

```go
person := &Person{Name: "Eve", Age: 40}
```

è¿™ç§æ–¹æ³•åˆ›å»ºäº†ä¸€ä¸ªæŒ‡å‘ `Person` ç»“æ„ä½“çš„æŒ‡é’ˆ `person`ã€‚è™½ç„¶åœ¨ Go ä¸­æˆ‘ä»ç„¶å¯ä»¥ä½¿ç”¨ `person` è®¿é—®å…¶å­—æ®µï¼ˆGo ä¼šè‡ªåŠ¨å¯¹ç»“æ„ä½“æŒ‡é’ˆè¿›è¡Œè§£å¼•ç”¨ ğŸ˜Šï¼‰ï¼Œä½†å®ƒå®é™…ä¸Šæ˜¯ä¸€ä¸ªæŒ‡é’ˆã€‚

```go
fmt.Println(person.Name) // è‡ªåŠ¨è§£å¼•ç”¨
person.Age = 41          // è‡ªåŠ¨è§£å¼•ç”¨ï¼Œä¿®æ”¹æŒ‡é’ˆæŒ‡å‘çš„ç»“æ„ä½“çš„å­—æ®µ
```

### ä½¿ç”¨æ„é€ å‡½æ•°ï¼ˆæƒ¯ç”¨æ³•ï¼‰

è™½ç„¶ Go æ²¡æœ‰æ„é€ å‡½æ•°çš„æ¦‚å¿µï¼Œä½†å¯ä»¥å®šä¹‰ä¸€ä¸ªå‡½æ•°æ¥å°è£…ç»“æ„ä½“çš„åˆ›å»ºè¿‡ç¨‹ã€‚

```go
func NewPerson(name string, age int) *Person {
    return &Person{Name: name, Age: age}
}

person := NewPerson("Dave", 35)
```

## ç­–ç•¥æ¨¡å¼

```go
package main

import "fmt"

func main() {
    type Student struct {
        Name   string
        Age    int
        Course string
    }

    // ä½¿ç”¨ç­–ç•¥æ¨¡å¼ï¼Œé€šè¿‡ map çš„ key æ¥åŒºåˆ†ä¸åŒçš„ç­–ç•¥
    students := map[int]Student{
        1: {"John", 18, "è®¡ç®—æœºç§‘å­¦"},
        2: {"Peter", 20, "æ•°å­¦"},
        3: {"Mary", 22, "ç‰©ç†"},
    }

    fmt.Println(students)

    for _, student := range students {
        fmt.Println(student.Name, student.Age, student.Course)
    }
}
```

åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘å®šä¹‰äº†ä¸€ä¸ª `Student` ç»“æ„ä½“ï¼Œç”¨äºå­˜å‚¨å­¦ç”Ÿçš„ä¿¡æ¯ã€‚é€šè¿‡ä½¿ç”¨ `map`ï¼Œæˆ‘å¯ä»¥æ ¹æ®ä¸åŒçš„ç­–ç•¥ï¼ˆè¿™é‡Œæ˜¯ `key`ï¼‰æ¥å­˜å‚¨å’Œè®¿é—®å­¦ç”Ÿæ•°æ®ã€‚

## æ³¨æ„äº‹é¡¹

- å®šä¹‰ç»“æ„ä½“æ—¶ï¼Œå­—æ®µåç§°åº”æ¸…æ™°æ˜äº†ï¼Œéµå¾ªå‘½åè§„èŒƒã€‚
- åˆå§‹åŒ–ç»“æ„ä½“æ—¶ï¼Œæ ¹æ®éœ€æ±‚é€‰æ‹©åˆé€‚çš„æ–¹å¼ã€‚
- ä½¿ç”¨æŒ‡é’ˆæ—¶ï¼Œè¦æ³¨æ„æŒ‡é’ˆçš„è§£å¼•ç”¨ï¼Œé¿å…å‡ºç° `nil` æŒ‡é’ˆé”™è¯¯ã€‚
