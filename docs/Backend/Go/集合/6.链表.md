# Go é“¾è¡¨è¯¦è§£

## åˆå§‹åŒ–

åœ¨ Go è¯­è¨€ä¸­ï¼Œ`container/list` åŒ…æä¾›äº†å¯¹åŒå‘é“¾è¡¨çš„æ”¯æŒã€‚æˆ‘å¯ä»¥é€šè¿‡ä»¥ä¸‹å‡ ç§æ–¹å¼æ¥åˆå§‹åŒ–ä¸€ä¸ªé“¾è¡¨ï¼š

```go
package main

import (
	"container/list"
)

func main() {
	// æ–¹æ³•ä¸€ï¼šç›´æ¥å£°æ˜ä¸€ä¸ªé“¾è¡¨å˜é‡
	var linkedList list.List

	// æ–¹æ³•äºŒï¼šä½¿ç”¨ new å‡½æ•°å¹¶è°ƒç”¨ Init æ–¹æ³•
	linkedList2 := new(list.List).Init()

	// æ–¹æ³•ä¸‰ï¼šä½¿ç”¨ list åŒ…çš„ New å‡½æ•°
	linkedList3 := list.New()
}
```

## é“¾è¡¨çš„ç»“æ„

é“¾è¡¨ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ª `Element` ç±»å‹ï¼Œå…¶ç»“æ„å¦‚ä¸‹æ‰€ç¤ºï¼š

```go
type Element struct {
	// Next å’Œ Prev æŒ‡å‘é“¾è¡¨ä¸­ä¸‹ä¸€ä¸ªå’Œä¸Šä¸€ä¸ªå…ƒç´ 
	Next, Prev *Element

	// List æŒ‡å‘é“¾è¡¨æœ¬èº«ï¼Œç”¨äºç»´æŠ¤é“¾è¡¨ç»“æ„
	List *List

	// Value å­˜å‚¨èŠ‚ç‚¹çš„å®é™…å€¼ï¼Œç±»å‹ä¸º interface{}
	Value interface{}
}
```

## æ“ä½œé“¾è¡¨

æˆ‘å°†æ¼”ç¤ºå¦‚ä½•å¯¹é“¾è¡¨è¿›è¡ŒåŸºæœ¬çš„æ“ä½œã€‚

```go
package main

import (
	"container/list"
	"fmt"
)

func main() {
	var linkedList list.List

	// åœ¨é“¾è¡¨æœ«å°¾æ·»åŠ å…ƒç´  "go"
	linkedList.PushBack("go")

	// åœ¨é“¾è¡¨å¼€å¤´æ·»åŠ å…ƒç´  "sumingcheng"
	linkedList.PushFront("sumingcheng")

	// å†æ¬¡åœ¨é“¾è¡¨æœ«å°¾æ·»åŠ å…ƒç´  "python"
	linkedList.PushBack("python")

	// æ‰“å°é“¾è¡¨é•¿åº¦
	fmt.Println("é“¾è¡¨é•¿åº¦", linkedList.Len())

	// éå†å¹¶æ‰“å°é“¾è¡¨å…ƒç´ 
	for element := linkedList.Front(); element != nil; element = element.Next() {
		fmt.Println(element.Value)
	}

	// ä»åå‘å‰éå†å¹¶æ‰“å°é“¾è¡¨å…ƒç´ 
	for element := linkedList.Back(); element != nil; element = element.Prev() {
		fmt.Println(element.Value)
	}

	// è·å–å¹¶æ‰“å°é“¾è¡¨çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªå…ƒç´ 
	fmt.Println("ç¬¬ä¸€ä¸ªå…ƒç´ ", linkedList.Front().Value)
	fmt.Println("æœ€åä¸€ä¸ªå…ƒç´ ", linkedList.Back().Value)
}
```

## é“¾è¡¨çš„æ–¹æ³•

é“¾è¡¨æä¾›äº†ä¸€äº›å¸¸ç”¨çš„æ–¹æ³•ï¼š

| æ–¹æ³•                                   | æè¿°                                             |
| :------------------------------------- | :----------------------------------------------- |
| **PushBack(v interface{}) \*Element**  | åœ¨é“¾è¡¨æœ«å°¾æ’å…¥ä¸€ä¸ªæ–°å…ƒç´ ï¼Œè¿”å›æ–°å…ƒç´ çš„å¼•ç”¨       |
| **PushFront(v interface{}) \*Element** | åœ¨é“¾è¡¨å¼€å¤´æ’å…¥ä¸€ä¸ªæ–°å…ƒç´ ï¼Œè¿”å›æ–°å…ƒç´ çš„å¼•ç”¨       |
| **Front() \*Element**                  | è¿”å›é“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå¦‚æœé“¾è¡¨ä¸ºç©ºåˆ™è¿”å› `nil`   |
| **Back() \*Element**                   | è¿”å›é“¾è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå¦‚æœé“¾è¡¨ä¸ºç©ºåˆ™è¿”å› `nil` |
| **Len() int**                          | è¿”å›é“¾è¡¨ä¸­å…ƒç´ çš„æ•°é‡                             |

## é“¾è¡¨çš„ç§»åŠ¨

æˆ‘å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼ç§»åŠ¨é“¾è¡¨ä¸­çš„å…ƒç´ ï¼Œä¾‹å¦‚å°†æœ€åä¸€ä¸ªå…ƒç´ ç§»åŠ¨åˆ°é“¾è¡¨çš„å‰é¢ã€‚

```go
package main

import (
	"container/list"
	"fmt"
)

func moveLastToFront(ll *list.List) {
	if ll.Len() > 1 {
		lastElement := ll.Back()
		ll.MoveToFront(lastElement)
	}
}

func printList(ll *list.List) {
	for element := ll.Front(); element != nil; element = element.Next() {
		fmt.Println(element.Value)
	}
}

func main() {
	linkedList := list.New()
	linkedList.PushBack("sumingcheng")
	linkedList.PushBack("go")
	linkedList.PushBack("python")

	moveLastToFront(linkedList)
	printList(linkedList)
}
```

## é“¾è¡¨çš„è¿½åŠ 

æˆ‘å¯ä»¥å‘é“¾è¡¨ä¸­æ·»åŠ å…ƒç´ ï¼š

```go
package main

import (
	"container/list"
)

func main() {
	linkedList := list.New()
	linkedList.PushBack(1)
	linkedList.PushBack(2)
	linkedList.PushBack(3)
}
```

## ä¸¤ä¸ªé“¾è¡¨çš„è¿æ¥

å¯ä»¥å°†ä¸€ä¸ªé“¾è¡¨è¿½åŠ åˆ°å¦ä¸€ä¸ªé“¾è¡¨çš„æœ«å°¾ï¼š

```go
package main

import (
	"container/list"
)

func linkListsDirectly(l1, l2 *list.List) {
	if l2.Len() > 0 {
		l1.PushBackList(l2)
	}
}

func main() {
	list1 := list.New()
	list1.PushBack(1)
	list1.PushBack(2)
	list1.PushBack(3)

	list2 := list.New()
	list2.PushBack(4)
	list2.PushBack(5)
	list2.PushBack(6)

	linkListsDirectly(list1, list2)
}
```

## é“¾è¡¨çš„åˆ é™¤

å½“æˆ‘éœ€è¦åˆ é™¤é“¾è¡¨ä¸­çš„æŸä¸ªå…ƒç´ æ—¶ï¼Œéœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ã€‚

å½“åˆ é™¤é“¾è¡¨çš„ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œè¯¥å…ƒç´ è¢«ç§»é™¤ï¼Œæ— æ³•å†é€šè¿‡è¯¥å…ƒç´ è®¿é—®é“¾è¡¨çš„å…¶ä»–éƒ¨åˆ†ã€‚ä¸ºäº†å®‰å…¨åœ°ç»§ç»­éå†ï¼Œéœ€è¦åœ¨åˆ é™¤å…ƒç´ ä¹‹å‰è·å–ä¸‹ä¸€ä¸ªå…ƒç´ çš„å¼•ç”¨ã€‚

```go
func removeElements(ll *list.List, value interface{}) {
	for element := ll.Front(); element != nil; {
		next := element.Next() // ä¿å­˜ä¸‹ä¸€ä¸ªå…ƒç´ çš„å¼•ç”¨
		if element.Value == value {
			ll.Remove(element) // åˆ é™¤å½“å‰å…ƒç´ 
		}
		element = next // ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªå…ƒç´ 
	}
}
```

## é“¾è¡¨çš„ä¿®æ”¹

æˆ‘å¯ä»¥éå†é“¾è¡¨ï¼Œä¿®æ”¹ç‰¹å®šå…ƒç´ çš„å€¼ï¼š

```go
func updateElements(ll *list.List, oldValue, newValue interface{}) {
	for element := ll.Front(); element != nil; element = element.Next() {
		if element.Value == oldValue {
			element.Value = newValue
		}
	}
}
```

## é“¾è¡¨çš„åè½¬

ä»¥ä¸‹å‡½æ•°å¯ä»¥å®ç°é“¾è¡¨çš„åè½¬ã€‚

```go
func reverseList(ll *list.List) *list.List {
	reversed := list.New()
	for element := ll.Front(); element != nil; {
		next := element.Next()              // ä¿å­˜ä¸‹ä¸€ä¸ªå…ƒç´ çš„å¼•ç”¨
		ll.Remove(element)                  // ä»åŸé“¾è¡¨ä¸­ç§»é™¤å½“å‰å…ƒç´ 
		reversed.PushFront(element.Value)   // å°†å…ƒç´ æ·»åŠ åˆ°æ–°é“¾è¡¨çš„å‰ç«¯
		element = next
	}
	return reversed
}
```

**æ³¨æ„** ğŸ“ å½“æ“ä½œé“¾è¡¨æ—¶ï¼ŒåŠ¡å¿…æ³¨æ„å…ƒç´ çš„å¼•ç”¨å’Œé“¾è¡¨çš„ç»“æ„ï¼Œä»¥é¿å…æ„å¤–çš„é”™è¯¯ã€‚
