# Python 命令行参数详解

## 基础命令行参数

我在日常开发中经常使用多种命令行参数来快速运行和调试代码，并根据实际需求灵活调用各种选项。

```python
# 运行指定模块的测试
# 实际应用时我会在项目根目录下执行
# python -m unittest test_example.py

# 执行一段简单的命令直接查看输出结果
# python -c "print('Hello, World!')"

# 运行脚本并进入交互式模式 适合在脚本执行后探索变量或函数状态
# python -i script.py
```

## 优化参数使用

在生产环境中我倾向使用优化和禁用字节码缓存等参数帮助提高性能和减少冗余文件。面对只读文件系统或对性能有严格要求的场合 这些参数十分有用。

```python
# 使用优化模式生成优化后的字节码 减少断言检查提升代码执行效率
# python -O script.py

# 禁止生成字节码缓存文件 避免在只读文件系统中报错
# python -B script.py

# 同时应用优化和禁止生成字节码缓存 进一步简化运行环境
# python -OB script.py
```

最佳实践  
在生产环境中使用 -O 去除断言语句提高性能  
在只读文件系统下使用 -B 避免生成缓存文件导致的权限错误

## 代码开发调试

在实际开发和调试中 我会使用特定参数来获取更多信息或更好地追踪代码执行过程 例如调试模式 详细输出和控制警告的显示级别。

```python
def 获取调试命令():
    调试选项 = {
        "调试模式": "python -d script.py",
        "详细输出": "python -v script.py",
        "控制警告": "python -W all script.py"
    }
    return 调试选项
```

-d 启用调试模式 显示额外的调试信息  
-v 显示详细的模块导入日志 便于追踪依赖加载过程  
-W all 显示所有警告信息 便于及时发现潜在问题

## 环境配置参数

当我需要确保运行环境的纯净或隔离性时 我会使用下列参数避免加载用户环境变量或全局包。这样在测试或分发应用时能获得更可控的运行环境。

```python
def 配置环境变量():
    环境选项 = {
        "忽略环境变量": "python -E",
        "启用隔离模式": "python -I",
        "跳过加载 site-packages": "python -s"
    }
    return 环境选项
```

-E 忽略所有环境变量 保证代码在无干扰环境中运行  
-I 启用隔离模式 禁止使用者环境变量和第三方包干扰  
-s 跳过 site-packages 加载 适合仅依赖标准库的场景

## 模块执行方式

面对不同的启动方式时 我会灵活选择直接执行脚本 通过模块方式执行 或使用 -c 参数直接执行一段代码 以满足快速测试或分发的需求。

```python
def 模块执行示例():
    执行方法 = {
        "直接执行脚本": "python script.py",
        "通过模块方式执行": "python -m module_name",
        "执行特定命令": "python -c 'import module_name; module_name.main()'"
    }
    return 执行方法
```

直接执行脚本适用于单独文件运行场景  
通过 -m 参数执行模块 有利于调用安装在 site-packages 中的工具  
使用 -c 参数执行一段简短命令 有助于快速验证想法

## 代码格式检查

在团队协作和持续集成中 保持统一的代码格式至关重要 我会使用相关参数对制表符与空格混用进行检查 并在开发者模式下获取更多调试信息。

```python
def 代码格式检查():
    检查选项 = {
        "制表符警告": "python -t script.py",
        "严格制表符检查": "python -tt script.py",
        "启用开发者模式": "python -X dev script.py"
    }
    return 检查选项
```

-t 检查代码中制表符与空格的混用 防止缩进问题  
-tt 更严格的检查 避免潜在的运行时缩进错误  
-X dev 启用开发者模式 提供更多调试信息和潜在问题提示

## 帮助和版本信息

当我需要快速查看帮助文档或确认当前 Python 版本时 可以使用相关参数获取所需信息 从而确保环境与执行方式符合期望。

```python
def 获取Python信息():
    信息命令 = {
        "显示帮助信息": "python -h",
        "显示简短版本信息": "python -V",
        "显示详细版本信息": "python --version"
    }
    return 信息命令
```

-h 显示所有可用命令行参数信息 有助于快速查找需要的选项  
-V 和 --version 显示 Python 版本信息 确保使用正确的版本

## 常用参数对照表

| 参数 | 功能                    | 示例                               |
| ---- | ----------------------- | ---------------------------------- |
| -m   | 通过模块方式执行        | python -m unittest test_example.py |
| -c   | 执行指定命令字符串      | python -c "print('Hello')"         |
| -O   | 启用优化模式            | python -O script.py                |
| -B   | 禁止生成字节码缓存文件  | python -B script.py                |
| -E   | 忽略环境变量            | python -E script.py                |
| -I   | 启用隔离模式            | python -I script.py                |
| -s   | 跳过 site-packages 加载 | python -s script.py                |
